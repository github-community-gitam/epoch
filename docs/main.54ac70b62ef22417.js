"use strict";(self.webpackChunkgit_commit=self.webpackChunkgit_commit||[]).push([[179],{7128:(qt,We,j)=>{j.d(We,{nm:()=>yi});var b=j(8321),Ie=(j(8256),j(3692),j(5867),j(5861)),tt=j(9681),Ee=j(4859),ot=j(2090),He=j(1877);const ie=new Map,se={activated:!1,tokenObservers:[]},Oe={initialized:!1,enabled:!1};function Ze(pe){return ie.get(pe)||se}function ue(pe,ae){ie.set(pe,ae)}function gt(){return Oe}class rt{constructor(ae,Re,Qe,dt,Mt){if(this.operation=ae,this.retryPolicy=Re,this.getWaitDuration=Qe,this.lowerBound=dt,this.upperBound=Mt,this.pending=null,this.nextErrorWaitInterval=dt,dt>Mt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ae){var Re=this;return(0,Ie.Z)(function*(){Re.stop();try{Re.pending=new ot.BH,yield function Ne(pe){return new Promise(ae=>{setTimeout(ae,pe)})}(Re.getNextRun(ae)),Re.pending.resolve(),yield Re.pending.promise,Re.pending=new ot.BH,yield Re.operation(),Re.pending.resolve(),yield Re.pending.promise,Re.process(!0).catch(()=>{})}catch(Qe){Re.retryPolicy(Qe)?Re.process(!1).catch(()=>{}):Re.stop()}})()}getNextRun(ae){if(ae)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Re=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Re}}}const he=new ot.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ge(pe){if(!Ze(pe).activated)throw he.create("use-before-activation",{appName:pe.name})}function Me(pe,ae){return ye.apply(this,arguments)}function ye(){return(ye=(0,Ie.Z)(function*({url:pe,body:ae},Re){var Qe,dt;const Mt={"Content-Type":"application/json"},jt=Re.getImmediate({optional:!0});if(jt){const ii=yield jt.getHeartbeatsHeader();ii&&(Mt["X-Firebase-Client"]=ii)}const Nr={method:"POST",body:JSON.stringify(ae),headers:Mt};let un,kn;try{un=yield fetch(pe,Nr)}catch(ii){throw he.create("fetch-network-error",{originalErrorMessage:null===(Qe=ii)||void 0===Qe?void 0:Qe.message})}if(200!==un.status)throw he.create("fetch-status-error",{httpStatus:un.status});try{kn=yield un.json()}catch(ii){throw he.create("fetch-parse-error",{originalErrorMessage:null===(dt=ii)||void 0===dt?void 0:dt.message})}const Oi=kn.ttl.match(/^([\d.]+)(s)$/);if(!Oi||!Oi[2]||isNaN(Number(Oi[1])))throw he.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${kn.ttl}`});const Pr=1e3*Number(Oi[1]),Yn=Date.now();return{token:kn.token,expireTimeMillis:Yn+Pr,issuedAtTimeMillis:Yn}})).apply(this,arguments)}function Nt(pe,ae){const{projectId:Re,appId:Qe,apiKey:dt}=pe.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Re}/apps/${Qe}:exchangeDebugToken?key=${dt}`,body:{debug_token:ae}}}const Ft="firebase-app-check-store";let Ln=null;function zt(){return Ln||(Ln=new Promise((pe,ae)=>{var Re;try{const Qe=indexedDB.open("firebase-app-check-database",1);Qe.onsuccess=dt=>{pe(dt.target.result)},Qe.onerror=dt=>{var Mt;ae(he.create("storage-open",{originalErrorMessage:null===(Mt=dt.target.error)||void 0===Mt?void 0:Mt.message}))},Qe.onupgradeneeded=dt=>{0===dt.oldVersion&&dt.target.result.createObjectStore(Ft,{keyPath:"compositeKey"})}}catch(Qe){ae(he.create("storage-open",{originalErrorMessage:null===(Re=Qe)||void 0===Re?void 0:Re.message}))}}),Ln)}function nr(){return(nr=(0,Ie.Z)(function*(pe,ae){const Qe=(yield zt()).transaction(Ft,"readwrite"),Mt=Qe.objectStore(Ft).put({compositeKey:pe,value:ae});return new Promise((jt,Nr)=>{Mt.onsuccess=un=>{jt()},Qe.onerror=un=>{var kn;Nr(he.create("storage-set",{originalErrorMessage:null===(kn=un.target.error)||void 0===kn?void 0:kn.message}))}})})).apply(this,arguments)}const Cn=new He.Yd("@firebase/app-check");function Mr(pe,ae){return(0,ot.hl)()?function hn(pe,ae){return function dn(pe,ae){return nr.apply(this,arguments)}(function Nn(pe){return`${pe.options.appId}-${pe.name}`}(pe),ae)}(pe,ae).catch(Re=>{Cn.warn(`Failed to write token to IndexedDB. Error: ${Re}`)}):Promise.resolve()}function or(){return gt().enabled}function ar(){return rr.apply(this,arguments)}function rr(){return(rr=(0,Ie.Z)(function*(){const pe=gt();if(pe.enabled&&pe.token)return pe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const br={error:"UNKNOWN_ERROR"};function De(pe){return ot.US.encodeString(JSON.stringify(pe),!1)}function X(pe){return Q.apply(this,arguments)}function Q(){return(Q=(0,Ie.Z)(function*(pe,ae=!1){const Re=pe.app;ge(Re);const Qe=Ze(Re);let Mt,dt=Qe.token;if(!dt){const un=yield Qe.cachedTokenPromise;un&&kt(un)&&(dt=un)}if(!ae&&dt&&kt(dt))return{token:dt.token};let Nr,jt=!1;if(or()){Qe.exchangeTokenPromise||(Qe.exchangeTokenPromise=Me(Nt(Re,yield ar()),pe.heartbeatServiceProvider).then(kn=>(Qe.exchangeTokenPromise=void 0,kn)),jt=!0);const un=yield Qe.exchangeTokenPromise;return yield Mr(Re,un),ue(Re,Object.assign(Object.assign({},Qe),{token:un})),{token:un.token}}try{Qe.exchangeTokenPromise||(Qe.exchangeTokenPromise=Qe.provider.getToken().then(un=>(Qe.exchangeTokenPromise=void 0,un)),jt=!0),dt=yield Qe.exchangeTokenPromise}catch(un){"appCheck/throttled"===un.code?Cn.warn(un.message):Cn.error(un),Mt=un}return dt?(Nr={token:dt.token},ue(Re,Object.assign(Object.assign({},Qe),{token:dt})),yield Mr(Re,dt)):Nr=Vn(Mt),jt&&Jt(Re,Nr),Nr})).apply(this,arguments)}function $e(pe,ae){const Re=Ze(pe),Qe=Re.tokenObservers.filter(dt=>dt.next!==ae);0===Qe.length&&Re.tokenRefresher&&Re.tokenRefresher.isRunning()&&Re.tokenRefresher.stop(),ue(pe,Object.assign(Object.assign({},Re),{tokenObservers:Qe}))}function wt(pe){const{app:ae}=pe,Re=Ze(ae);let Qe=Re.tokenRefresher;Qe||(Qe=function $t(pe){const{app:ae}=pe;return new rt((0,Ie.Z)(function*(){let Qe;if(Qe=Ze(ae).token?yield X(pe,!0):yield X(pe),Qe.error)throw Qe.error}),()=>!0,()=>{const Re=Ze(ae);if(Re.token){let Qe=Re.token.issuedAtTimeMillis+.5*(Re.token.expireTimeMillis-Re.token.issuedAtTimeMillis)+3e5;return Qe=Math.min(Qe,Re.token.expireTimeMillis-3e5),Math.max(0,Qe-Date.now())}return 0},3e4,96e4)}(pe),ue(ae,Object.assign(Object.assign({},Re),{tokenRefresher:Qe}))),!Qe.isRunning()&&Re.isTokenAutoRefreshEnabled&&Qe.start()}function Jt(pe,ae){const Re=Ze(pe).tokenObservers;for(const Qe of Re)try{"EXTERNAL"===Qe.type&&null!=ae.error?Qe.error(ae.error):Qe.next(ae)}catch{}}function kt(pe){return pe.expireTimeMillis-Date.now()>0}function Vn(pe){return{token:De(br),error:pe}}class nn{constructor(ae,Re){this.app=ae,this.heartbeatServiceProvider=Re}_delete(){const{tokenObservers:ae}=Ze(this.app);for(const Re of ae)$e(this.app,Re.next);return Promise.resolve()}}const Je="app-check-internal";!function Bt(){(0,tt.Xd)(new Ee.wA("app-check",pe=>function Vt(pe,ae){return new nn(pe,ae)}(pe.getProvider("app").getImmediate(),pe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((pe,ae,Re)=>{pe.getProvider(Je).initialize()})),(0,tt.Xd)(new Ee.wA(Je,pe=>function Ht(pe){return{getToken:ae=>X(pe,ae),addTokenListener:ae=>function be(pe,ae,Re,Qe){const{app:dt}=pe,Mt=Ze(dt),jt={next:Re,error:Qe,type:ae};if(ue(dt,Object.assign(Object.assign({},Mt),{tokenObservers:[...Mt.tokenObservers,jt]})),Mt.token&&kt(Mt.token)){const Nr=Mt.token;Promise.resolve().then(()=>{Re({token:Nr.token}),wt(pe)}).catch(()=>{})}Mt.cachedTokenPromise.then(()=>wt(pe))}(pe,"INTERNAL",ae),removeTokenListener:ae=>$e(pe.app,ae)}}(pe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,tt.KN)("@firebase/app-check","0.5.12")}();class yi{constructor(){return(0,b.vb)("app-check")}}typeof window<"u"&&window},3692:(qt,We,j)=>{j.d(We,{Ot:()=>fe,ZF:()=>Rt,hX:()=>Ze,z6:()=>Ie});var b=j(5867),F=j(8256),de=j(8321);class fe{constructor(rt){return rt}}class Ie{constructor(){return(0,b.C6)()}}const ot=new F.OlP("angularfire2._apps"),He={provide:fe,useFactory:function Ee(Be){return Be&&1===Be.length?Be[0]:new fe((0,b.Mq)())},deps:[[new F.FiY,ot]]},ie={provide:Ie,deps:[[new F.FiY,ot]]};function se(Be){return(rt,Ne)=>{const mt=rt.runOutsideAngular(()=>Be(Ne));return new fe(mt)}}let Oe=(()=>{class Be{constructor(Ne){(0,b.KN)("angularfire",de.q4.full,"core"),(0,b.KN)("angularfire",de.q4.full,"app"),(0,b.KN)("angular",F.q4F.full,Ne.toString())}}return Be.\u0275fac=function(Ne){return new(Ne||Be)(F.LFG(F.Lbi))},Be.\u0275mod=F.oAB({type:Be}),Be.\u0275inj=F.cJS({providers:[He,ie]}),Be})();function Ze(Be,...rt){return{ngModule:Oe,providers:[{provide:ot,useFactory:se(Be),multi:!0,deps:[F.R0b,F.zs3,de.HU,...rt]}]}}const Rt=(0,de.u3)(b.ZF,!0)},7158:(qt,We,j)=>{j.d(We,{AR:()=>Rt,F6:()=>De,cx:()=>Nt,dh:()=>He,gx:()=>ot,v0:()=>Me,w7:()=>X});var b=j(8321),F=j(8256),de=j(3692),fe=j(5867),Ie=j(7128),tt=j(5444);class ot{constructor(Ht){return Ht}}class He{constructor(){return(0,b.vb)("auth")}}const se=new F.OlP("angularfire2.auth-instances");function Ze(Vt){return(Ht,re)=>{const J=Ht.runOutsideAngular(()=>Vt(re));return new ot(J)}}const ue={provide:He,deps:[[new F.FiY,se]]},gt={provide:ot,useFactory:function Oe(Vt,Ht){const re=(0,b.JM)("auth",Vt,Ht);return re&&new ot(re)},deps:[[new F.FiY,se],de.Ot]};let Ve=(()=>{class Vt{constructor(){(0,fe.KN)("angularfire",b.q4.full,"auth")}}return Vt.\u0275fac=function(re){return new(re||Vt)},Vt.\u0275mod=F.oAB({type:Vt}),Vt.\u0275inj=F.cJS({providers:[gt,ue]}),Vt})();function Rt(Vt,...Ht){return{ngModule:Ve,providers:[{provide:se,useFactory:Ze(Vt),multi:!0,deps:[F.R0b,F.zs3,b.HU,de.z6,[new F.FiY,Ie.nm],...Ht]}]}}const Me=(0,b.u3)(tt.v0,!0),Nt=(0,b.u3)(tt.cx,!0),De=(0,b.u3)(tt.F6,!0),X=(0,b.u3)(tt.w7,!0)},9226:(qt,We,j)=>{j.d(We,{gg:()=>vo,JU:()=>wm,QT:()=>nv,ad:()=>rv,Cm:()=>Hy,pl:()=>Im});var ue,b=j(8321),F=j(8256),de=j(7158),fe=j(3692),Ie=j(5867),tt=j(7128),Ee=j(5861),ot=j(9681),He=j(4859),ie=j(1877),se=j(2090),Oe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ze={},gt=gt||{},Ve=Oe||self;function Rt(){}function ze(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function xt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Be="closure_uid_"+(1e9*Math.random()>>>0),rt=0;function Ne(i,e,n){return i.call.apply(i.bind,arguments)}function mt(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function he(i,e,n){return(he=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ne:mt).apply(null,arguments)}function _e(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function ge(i,e){function n(){}n.prototype=e.prototype,i.Z=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.Vb=function(o,u,l){for(var f=Array(arguments.length-2),I=2;I<arguments.length;I++)f[I-2]=arguments[I];return e.prototype[u].apply(o,f)}}function le(){this.s=this.s,this.o=this.o}var Me={};le.prototype.s=!1,le.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Ue(i){return Object.prototype.hasOwnProperty.call(i,Be)&&i[Be]||(i[Be]=++rt)}(this);delete Me[i]}},le.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ye=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1},Ye=Array.prototype.forEach?function(i,e,n){Array.prototype.forEach.call(i,e,n)}:function(i,e,n){const o=i.length,u="string"==typeof i?i.split(""):i;for(let l=0;l<o;l++)l in u&&e.call(n,u[l],l,i)};function Nt(i){return Array.prototype.concat.apply([],arguments)}function Xt(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function yn(i){return/^[\s\xa0]*$/.test(i)}var zt,Ft=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function sn(i,e){return-1!=i.indexOf(e)}function Ln(i,e){return i<e?-1:i>e?1:0}e:{var $n=Ve.navigator;if($n){var hn=$n.userAgent;if(hn){zt=hn;break e}}zt=""}function cn(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function Un(i){const e={};for(const n in i)e[n]=i[n];return e}var dn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nr(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let l=0;l<dn.length;l++)n=dn[l],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function Gt(i){return Gt[" "](i),i}Gt[" "]=Rt;var or,i,Nn=sn(zt,"Opera"),Cn=sn(zt,"Trident")||sn(zt,"MSIE"),Pn=sn(zt,"Edge"),En=Pn||Cn,Mr=sn(zt,"Gecko")&&!(sn(zt.toLowerCase(),"webkit")&&!sn(zt,"Edge"))&&!(sn(zt,"Trident")||sn(zt,"MSIE"))&&!sn(zt,"Edge"),Pt=sn(zt.toLowerCase(),"webkit")&&!sn(zt,"Edge");function sr(){var i=Ve.document;return i?i.documentMode:void 0}e:{var ar="",rr=(i=zt,Mr?/rv:([^\);]+)(\)|;)/.exec(i):Pn?/Edge\/([\d\.]+)/.exec(i):Cn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Pt?/WebKit\/(\S+)/.exec(i):Nn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(rr&&(ar=rr?rr[1]:""),Cn){var Gn=sr();if(null!=Gn&&Gn>parseFloat(ar)){or=String(Gn);break e}}or=ar}var br={};var be=Ve.document&&Cn&&(sr()||parseInt(or,10))||void 0,$e=function(){if(!Ve.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Ve.addEventListener("test",Rt,e),Ve.removeEventListener("test",Rt,e)}catch{}return i}();function wt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function $t(i,e){if(wt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Mr){e:{try{Gt(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Jt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&$t.Z.h.call(this)}}wt.prototype.h=function(){this.defaultPrevented=!0},ge($t,wt);var Jt={2:"touch",3:"pen",4:"mouse"};$t.prototype.h=function(){$t.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var kt="closure_listenable_"+(1e6*Math.random()|0),Vn=0;function nn(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.ia=u,this.key=++Vn,this.ca=this.fa=!1}function Vt(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Ht(i){this.src=i,this.g={},this.h=0}function re(i,e){var n=e.type;if(n in i.g){var l,o=i.g[n],u=ye(o,e);(l=0<=u)&&Array.prototype.splice.call(o,u,1),l&&(Vt(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function J(i,e,n,o){for(var u=0;u<i.length;++u){var l=i[u];if(!l.ca&&l.listener==e&&l.capture==!!n&&l.ia==o)return u}return-1}Ht.prototype.add=function(i,e,n,o,u){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var f=J(i,e,o,u);return-1<f?(e=i[f],n||(e.fa=!1)):((e=new nn(e,this.src,l,!!o,u)).fa=n,i.push(e)),e};var K="closure_lm_"+(1e6*Math.random()|0),ne={};function q(i,e,n,o,u){if(o&&o.once)return Ct(i,e,n,o,u);if(Array.isArray(e)){for(var l=0;l<e.length;l++)q(i,e[l],n,o,u);return null}return n=Ci(n),i&&i[kt]?i.N(e,n,xt(o)?!!o.capture:!!o,u):je(i,e,n,!1,o,u)}function je(i,e,n,o,u,l){if(!e)throw Error("Invalid event type");var f=xt(u)?!!u.capture:!!u,I=vr(i);if(I||(i[K]=I=new Ht(i)),(n=I.add(e,n,o,f,l)).proxy)return n;if(o=function pt(){var e=Sn;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)$e||(u=f),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(ur(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function Ct(i,e,n,o,u){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Ct(i,e[l],n,o,u);return null}return n=Ci(n),i&&i[kt]?i.O(e,n,xt(o)?!!o.capture:!!o,u):je(i,e,n,!0,o,u)}function _n(i,e,n,o,u){if(Array.isArray(e))for(var l=0;l<e.length;l++)_n(i,e[l],n,o,u);else o=xt(o)?!!o.capture:!!o,n=Ci(n),i&&i[kt]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=J(l=i.g[e],n,o,u))&&(Vt(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete i.g[e],i.h--))):i&&(i=vr(i))&&(e=i.g[e.toString()],i=-1,e&&(i=J(e,n,o,u)),(n=-1<i?e[i]:null)&&Dn(n))}function Dn(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[kt])re(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(ur(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=vr(e))?(re(n,i),0==n.h&&(n.src=null,e[K]=null)):Vt(i)}}}function ur(i){return i in ne?ne[i]:ne[i]="on"+i}function Sn(i,e){if(i.ca)i=!0;else{e=new $t(e,this);var n=i.listener,o=i.ia||i.src;i.fa&&Dn(i),i=n.call(o,e)}return i}function vr(i){return(i=i[K])instanceof Ht?i:null}var _r="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ci(i){return"function"==typeof i?i:(i[_r]||(i[_r]=function(e){return i.handleEvent(e)}),i[_r])}function On(){le.call(this),this.i=new Ht(this),this.P=this,this.I=null}function hr(i,e){var n,o=i.I;if(o)for(n=[];o;o=o.I)n.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new wt(e,i);else if(e instanceof wt)e.target=e.target||i;else{var u=e;nr(e=new wt(o,i),u)}if(u=!0,n)for(var l=n.length-1;0<=l;l--){var f=e.g=n[l];u=Qr(f,o,!0,e)&&u}if(u=Qr(f=e.g=i,o,!0,e)&&u,u=Qr(f,o,!1,e)&&u,n)for(l=0;l<n.length;l++)u=Qr(f=e.g=n[l],o,!1,e)&&u}function Qr(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.ca&&f.capture==n){var I=f.listener,R=f.ia||f.src;f.fa&&re(i.i,f),u=!1!==I.call(R,o)&&u}}return u&&!o.defaultPrevented}ge(On,le),On.prototype[kt]=!0,On.prototype.removeEventListener=function(i,e,n,o){_n(this,i,e,n,o)},On.prototype.M=function(){if(On.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)Vt(n[o]);delete i.g[e],i.h--}}this.I=null},On.prototype.N=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},On.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var mi=Ve.JSON.stringify;function Ce(){var i=An;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Je,Z=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Te,i=>i.reset());class Te{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Ke(i){Ve.setTimeout(()=>{throw i},0)}function Ot(i,e){Je||function Bt(){var i=Ve.Promise.resolve(void 0);Je=function(){i.then(yi)}}(),ln||(Je(),ln=!0),An.add(i,e)}var ln=!1,An=new class ee{constructor(){this.h=this.g=null}add(e,n){const o=Z.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}};function yi(){for(var i;i=Ce();){try{i.h.call(i.g)}catch(n){Ke(n)}var e=Z;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}ln=!1}function cr(i,e){On.call(this),this.h=i||1,this.g=e||Ve,this.j=he(this.kb,this),this.l=Date.now()}function Wr(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Hn(i,e,n){if("function"==typeof i)n&&(i=he(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=he(i.handleEvent,i)}return 2147483647<Number(e)?-1:Ve.setTimeout(i,e||0)}function Vr(i){i.g=Hn(()=>{i.g=null,i.i&&(i.i=!1,Vr(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ge(cr,On),(ue=cr.prototype).da=!1,ue.S=null,ue.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),hr(this,"tick"),this.da&&(Wr(this),this.start()))}},ue.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ue.M=function(){cr.Z.M.call(this),Wr(this),delete this.g};class Si extends le{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Vr(this)}M(){super.M(),this.g&&(Ve.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tn(i){le.call(this),this.h=i,this.g={}}ge(tn,le);var ts=[];function fr(i,e,n,o){Array.isArray(n)||(n&&(ts[0]=n.toString()),n=ts);for(var u=0;u<n.length;u++){var l=q(e,n[u],o||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function Us(i){cn(i.g,function(e,n){this.g.hasOwnProperty(n)&&Dn(e)},i),i.g={}}function Rr(){this.g=!0}function hi(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ki(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<u.length;f++)u[f]=""}}}return mi(n)}catch{return e}}(i,n)+(o?" "+o:"")})}tn.prototype.M=function(){tn.Z.M.call(this),Us(this)},tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Rr.prototype.Aa=function(){this.g=!1},Rr.prototype.info=function(){};var pe={},ae=null;function Re(){return ae=ae||new On}function Qe(i){wt.call(this,pe.Ma,i)}function dt(i){const e=Re();hr(e,new Qe(e,i))}function Mt(i,e){wt.call(this,pe.STAT_EVENT,i),this.stat=e}function jt(i){const e=Re();hr(e,new Mt(e,i))}function Nr(i,e){wt.call(this,pe.Na,i),this.size=e}function un(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Ve.setTimeout(function(){i()},e)}pe.Ma="serverreachability",ge(Qe,wt),pe.STAT_EVENT="statevent",ge(Mt,wt),pe.Na="timingevent",ge(Nr,wt);var kn={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Oi={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Pr(){}function ii(){}Pr.prototype.h=null;var ns,Ir={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Er(){wt.call(this,"d")}function fi(){wt.call(this,"c")}function Vo(){}function vs(i,e,n,o){this.l=i,this.j=e,this.m=n,this.X=o||1,this.V=new tn(this),this.P=Qs,this.W=new cr(i=En?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new pa}function pa(){this.i=null,this.g="",this.h=!1}ge(Er,wt),ge(fi,wt),ge(Vo,Pr),Vo.prototype.g=function(){return new XMLHttpRequest},Vo.prototype.i=function(){return{}},ns=new Vo;var Qs=45e3,rs={},Js={};function ga(i,e,n){i.K=1,i.v=zi(kr(e)),i.s=n,i.U=!0,ja(i,null)}function ja(i,e){i.F=Date.now(),jo(i),i.A=kr(i.v);var n=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),vt(n.h,"t",o),i.C=0,n=i.l.H,i.h=new pa,i.g=xo(i.l,n?e:null,!i.s),0<i.O&&(i.L=new Si(he(i.Ia,i,i.g),i.O)),fr(i.V,i.g,"readystatechange",i.gb),e=i.H?Un(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),dt(1),function wr(i,e,n,o,u,l){i.info(function(){if(i.g)if(l)for(var f="",I=l.split("&"),R=0;R<I.length;R++){var P=I[R].split("=");if(1<P.length){var $=P[0];P=P[1];var te=$.split("_");f=2<=te.length&&"type"==te[1]?f+($+"=")+P+"&":f+($+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+f})}(i.j,i.u,i.A,i.m,i.X,i.s)}function Bo(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function Xs(i,e,n){let u,o=!0;for(;!i.I&&i.C<n.length;){if(u=$a(i,n),u==Js){4==e&&(i.o=4,jt(14),o=!1),hi(i.j,i.m,null,"[Incomplete Response]");break}if(u==rs){i.o=4,jt(15),hi(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}hi(i.j,i.m,u,null),is(i,u)}Bo(i)&&u!=Js&&u!=rs&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,jt(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ka(e),e.L=!0,jt(11))):(hi(i.j,i.m,n,"[Invalid Chunked Response]"),pr(i),Gi(i))}function $a(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?Js:(n=Number(e.substring(n,o)),isNaN(n)?rs:(o+=1)+n>e.length?Js:(e=e.substr(o,n),i.C=o+n,e))}function jo(i){i.Y=Date.now()+i.P,_s(i,i.P)}function _s(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=un(he(i.eb,i),e)}function Io(i){i.B&&(Ve.clearTimeout(i.B),i.B=null)}function Gi(i){0==i.l.G||i.I||Hs(i.l,i)}function pr(i){Io(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Wr(i.W),Us(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function is(i,e){try{var n=i.l;if(0!=n.G&&(n.g==i||Wt(n.i,i)))if(n.I=i.N,!i.J&&Wt(n.i,i)&&3==n.G){try{var o=n.Ca.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<i.F))break e;Xr(n),ya(n)}no(n),jt(18)}}else n.ta=u[1],0<n.ta-n.U&&37500>u[2]&&n.N&&0==n.A&&!n.v&&(n.v=un(he(n.ab,n),6e3));if(1>=Or(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Ki(n,11)}else if((i.J||n.g==i)&&Xr(n),!yn(e))for(u=n.Ca.g.parse(e),e=0;e<u.length;e++){let P=u[e];if(n.U=P[0],P=P[1],2==n.G)if("c"==P[0]){n.J=P[1],n.la=P[2];const $=P[3];null!=$&&(n.ma=$,n.h.info("VER="+n.ma));const te=P[4];null!=te&&(n.za=te,n.h.info("SVER="+n.za));const we=P[5];null!=we&&"number"==typeof we&&0<we&&(n.K=o=1.5*we,n.h.info("backChannelRequestTimeoutMs_="+o)),o=n;const qe=i.g;if(qe){const nt=qe.g?qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nt){var l=o.i;!l.g&&(sn(nt,"spdy")||sn(nt,"quic")||sn(nt,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(Jn(l,l.h),l.h=null))}if(o.D){const At=qe.g?qe.g.getResponseHeader("X-HTTP-Session-Id"):null;At&&(o.sa=At,zn(o.F,o.D,At))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-i.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=i;if((o=n).oa=wa(o,o.H?o.la:null,o.W),f.J){us(o.i,f);var I=f,R=o.K;R&&I.setTimeout(R),I.B&&(Io(I),jo(I)),o.g=f}else _a(o);0<n.l.length&&cs(n)}else"stop"!=P[0]&&"close"!=P[0]||Ki(n,7);else 3==n.G&&("stop"==P[0]||"close"==P[0]?"stop"==P[0]?Ki(n,7):bs(n):"noop"!=P[0]&&n.j&&n.j.wa(P),n.A=0)}dt(4)}catch{}}function eo(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ze(i)||"string"==typeof i)Ye(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var n=i.T();else if(i.R&&"function"==typeof i.R)n=void 0;else if(ze(i)||"string"==typeof i){n=[];for(var o=i.length,u=0;u<o;u++)n.push(u)}else for(u in n=[],o=0,i)n[o++]=u;o=function ws(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(ze(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length;for(var l=0;l<u;l++)e.call(void 0,o[l],n&&n[l],i)}}function ss(i,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var o=0;o<n;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof ss)for(n=i.T(),o=0;o<n.length;o++)this.set(n[o],i.get(n[o]));else for(o in i)this.set(o,i[o])}function os(i){if(i.i!=i.g.length){for(var e=0,n=0;e<i.g.length;){var o=i.g[e];Is(i.h,o)&&(i.g[n++]=o),e++}i.g.length=n}if(i.i!=i.g.length){var u={};for(n=e=0;e<i.g.length;)Is(u,o=i.g[e])||(i.g[n++]=o,u[o]=1),e++;i.g.length=n}}function Is(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(ue=vs.prototype).setTimeout=function(i){this.P=i},ue.gb=function(i){i=i.target;const e=this.L;e&&3==Fr(i)?e.l():this.Ia(i)},ue.Ia=function(i){try{if(i==this.g)e:{const $=Fr(this.g);var e=this.g.Da();const te=this.g.ba();if(!(3>$)&&(3!=$||En||this.g&&(this.h.h||this.g.ga()||zu(this.g)))){this.I||4!=$||7==e||dt(8==e||0>=te?3:2),Io(this);var n=this.g.ba();this.N=n;t:if(Bo(this)){var o=zu(this.g);i="";var u=o.length,l=4==Fr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){pr(this),Gi(this);var f="";break t}this.h.i=new Ve.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:l&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=200==n,function ri(i,e,n,o,u,l,f){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.X,$,n),this.i){if(this.$&&!this.J){t:{if(this.g){var I,R=this.g;if((I=R.g?R.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yn(I)){var P=I;break t}}P=null}if(!(n=P)){this.i=!1,this.o=3,jt(12),pr(this),Gi(this);break e}hi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,is(this,n)}this.U?(Xs(this,$,f),En&&this.i&&3==$&&(fr(this.V,this.W,"tick",this.fb),this.W.start())):(hi(this.j,this.m,f,null),is(this,f)),4==$&&pr(this),this.i&&!this.I&&(4==$?Hs(this.l,this):(this.i=!1,jo(this)))}else 400==n&&0<f.indexOf("Unknown SID")?(this.o=3,jt(12)):(this.o=0,jt(13)),pr(this),Gi(this)}}}catch{}},ue.fb=function(){if(this.g){var i=Fr(this.g),e=this.g.ga();this.C<e.length&&(Io(this),Xs(this,i,e),this.i&&4!=i&&jo(this))}},ue.cancel=function(){this.I=!0,pr(this)},ue.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Kr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(dt(3),jt(17)),pr(this),this.o=2,Gi(this)):_s(this,this.Y-i)},(ue=ss.prototype).R=function(){os(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},ue.T=function(){return os(this),this.g.concat()},ue.get=function(i,e){return Is(this.h,i)?this.h[i]:e},ue.set=function(i,e){Is(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},ue.forEach=function(i,e){for(var n=this.T(),o=0;o<n.length;o++){var u=n[o],l=this.get(u);i.call(e,l,u,this)}};var Ai=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Br(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Br){this.g=void 0!==e?e:i.g,Vs(this,i.j),this.s=i.s,Fi(this,i.i),qr(this,i.m),this.l=i.l,e=i.h;var n=new B;n.i=e.i,e.g&&(n.g=new ss(e.g),n.h=e.h),Eo(this,n),this.o=i.o}else i&&(n=String(i).match(Ai))?(this.g=!!e,Vs(this,n[1]||"",!0),this.s=Wi(n[2]||""),Fi(this,n[3]||"",!0),qr(this,n[4]),this.l=Wi(n[5]||"",!0),Eo(this,n[6]||"",!0),this.o=Wi(n[7]||"")):(this.g=!!e,this.h=new B(null,this.g))}function kr(i){return new Br(i)}function Vs(i,e,n){i.j=n?Wi(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Fi(i,e,n){i.i=n?Wi(e,!0):e}function qr(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Eo(i,e,n){e instanceof B?(i.h=e,function jn(i,e){e&&!i.j&&(oe(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(Le(this,o),vt(this,u,n))},i)),i.j=e}(i.h,i.g)):(n||(e=Ei(e,V)),i.h=new B(e,i.g))}function zn(i,e,n){i.h.set(e,n)}function zi(i){return zn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Wi(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Ei(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,as),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function as(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Br.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Ei(e,Bs,!0),":");var n=this.i;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Ei(e,Bs,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&i.push("/"),i.push(Ei(n,"/"==n.charAt(0)?x:Go,!0))),(n=this.h.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Ei(n,M)),i.join("")};var Bs=/[#\/\?@]/g,Go=/[#\?:]/g,x=/[#\?]/g,V=/[#\?@]/g,M=/#/g;function B(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function oe(i){i.g||(i.g=new ss,i.h=0,i.i&&function $o(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var l=i[n].substring(0,o);u=i[n].substring(o+1)}else l=i[n];e(l,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Le(i,e){oe(i),e=fn(i,e),Is(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,Is((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&os(i)))}function st(i,e){return oe(i),e=fn(i,e),Is(i.g.h,e)}function vt(i,e,n){Le(i,e),0<n.length&&(i.i=null,i.g.set(fn(i,e),Xt(n)),i.h+=n.length)}function fn(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function pn(i){this.l=i||ir,i=Ve.PerformanceNavigationTiming?0<(i=Ve.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Ve.g&&Ve.g.Ea&&Ve.g.Ea()&&Ve.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ue=B.prototype).add=function(i,e){oe(this),this.i=null,i=fn(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},ue.forEach=function(i,e){oe(this),this.g.forEach(function(n,o){Ye(n,function(u){i.call(e,u,o,this)},this)},this)},ue.T=function(){oe(this);for(var i=this.g.R(),e=this.g.T(),n=[],o=0;o<e.length;o++)for(var u=i[o],l=0;l<u.length;l++)n.push(e[o]);return n},ue.R=function(i){oe(this);var e=[];if("string"==typeof i)st(this,i)&&(e=Nt(e,this.g.get(fn(this,i))));else{i=this.g.R();for(var n=0;n<i.length;n++)e=Nt(e,i[n])}return e},ue.set=function(i,e){return oe(this),this.i=null,st(this,i=fn(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ue.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},ue.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),n=0;n<e.length;n++){var o=e[n],u=encodeURIComponent(String(o));o=this.R(o);for(var l=0;l<o.length;l++){var f=u;""!==o[l]&&(f+="="+encodeURIComponent(String(o[l]))),i.push(f)}}return this.i=i.join("&")};var ir=10;function Bn(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Or(i){return i.h?1:i.g?i.g.size:0}function Wt(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Jn(i,e){i.g?i.g.add(e):i.h=e}function us(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function xi(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.D);return e}return Xt(i.i)}function zo(){}function Es(){this.g=new zo}function Do(i,e,n){const o=n||"";try{eo(i,function(u,l){let f=u;xt(u)&&(f=mi(u)),e.push(o+l+"="+encodeURIComponent(f))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Ha(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function et(i){this.l=i.$b||null,this.j=i.ib||!1}function gn(i,e){On.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Li,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pn.prototype.cancel=function(){if(this.i=xi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},zo.prototype.stringify=function(i){return Ve.JSON.stringify(i,void 0)},zo.prototype.parse=function(i){return Ve.JSON.parse(i,void 0)},ge(et,Pr),et.prototype.g=function(){return new gn(this.l,this.j)},et.prototype.i=function(i){return function(){return i}}({}),ge(gn,On);var Li=0;function mu(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Xn(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Ds(i)}function Ds(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ue=gn.prototype).open=function(i,e){if(this.readyState!=Li)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Ds(this)},ue.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||Ve).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ue.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xn(this)),this.readyState=Li},ue.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Ds(this)),this.g&&(this.readyState=3,Ds(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Ve.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mu(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},ue.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Xn(this):Ds(this),3==this.readyState&&mu(this)}},ue.Ua=function(i){this.g&&(this.response=this.responseText=i,Xn(this))},ue.Ta=function(i){this.g&&(this.response=i,Xn(this))},ue.ha=function(){this.g&&Xn(this)},ue.setRequestHeader=function(i,e){this.v.append(i,e)},ue.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ue.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(gn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Ui=Ve.JSON.parse;function Wn(i){On.call(this),this.headers=new ss,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ga,this.K=this.L=!1}ge(Wn,On);var Ga="",Wo=/^https?$/i,ll=["POST","PUT"];function yu(i){return"content-type"==i.toLowerCase()}function To(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Jr(i),Di(i)}function Jr(i){i.D||(i.D=!0,hr(i,"complete"),hr(i,"error"))}function Mi(i){if(i.h&&typeof gt<"u"&&(!i.C[1]||4!=Fr(i)||2!=i.ba()))if(i.v&&4==Fr(i))Hn(i.Fa,0,i);else if(hr(i,"readystatechange"),4==Fr(i)){i.h=!1;try{const I=i.ba();e:switch(I){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===I){var u=String(i.H).match(Ai)[1]||null;if(!u&&Ve.self&&Ve.self.location){var l=Ve.self.location.protocol;u=l.substr(0,l.length-1)}o=!Wo.test(u?u.toLowerCase():"")}n=o}if(n)hr(i,"complete"),hr(i,"success");else{i.m=6;try{var f=2<Fr(i)?i.g.statusText:""}catch{f=""}i.j=f+" ["+i.ba()+"]",Jr(i)}}finally{Di(i)}}}function Di(i,e){if(i.g){bo(i);const n=i.g,o=i.C[0]?Rt:null;i.g=null,i.C=null,e||hr(i,"ready");try{n.onreadystatechange=o}catch{}}}function bo(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Ve.clearTimeout(i.A),i.A=null)}function Fr(i){return i.g?i.g.readyState:0}function zu(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Ga:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function ma(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=function Co(i){let e="";return cn(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):zn(i,e,n))}function Ts(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function za(i){this.za=0,this.l=[],this.h=new Rr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ts("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ts("baseRetryDelayMs",5e3,i),this.$a=Ts("retryDelaySeedMs",1e4,i),this.Ya=Ts("forwardChannelMaxRetries",2,i),this.ra=Ts("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new pn(i&&i.concurrentRequestLimit),this.Ca=new Es,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function bs(i){if(va(i),3==i.G){var e=i.V++,n=kr(i.F);zn(n,"SID",i.J),zn(n,"RID",e),zn(n,"TYPE","terminate"),$s(i,n),(e=new vs(i,i.h,e,void 0)).K=2,e.v=zi(kr(n)),n=!1,Ve.navigator&&Ve.navigator.sendBeacon&&(n=Ve.navigator.sendBeacon(e.v.toString(),"")),!n&&Ve.Image&&((new Image).src=e.v,n=!0),n||(e.g=xo(e.l,null),e.g.ea(e.v)),e.F=Date.now(),jo(e)}Wu(i)}function ya(i){i.g&&(Ka(i),i.g.cancel(),i.g=null)}function va(i){ya(i),i.u&&(Ve.clearTimeout(i.u),i.u=null),Xr(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Ve.clearTimeout(i.m),i.m=null)}function So(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&cs(i)}function cs(i){Bn(i.i)||i.m||(i.m=!0,Ot(i.Ha,i),i.C=0)}function to(i,e){var n;n=e?e.m:i.V++;const o=kr(i.F);zn(o,"SID",i.J),zn(o,"RID",n),zn(o,"AID",i.U),$s(i,o),i.o&&i.s&&ma(o,i.o,i.s),n=new vs(i,i.h,n,i.C+1),null===i.o&&(n.H=i.s),e&&(i.l=e.D.concat(i.l)),e=Wa(i,n,1e3),n.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),Jn(i.i,n),ga(n,o,e)}function $s(i,e){i.j&&eo({},function(n,o){zn(e,o,n)})}function Wa(i,e,n){n=Math.min(i.l.length,n);var o=i.j?he(i.j.Oa,i.j,i):null;e:{var u=i.l;let l=-1;for(;;){const f=["count="+n];-1==l?0<n?(l=u[0].h,f.push("ofs="+l)):l=0:f.push("ofs="+l);let I=!0;for(let R=0;R<n;R++){let P=u[R].h;const $=u[R].g;if(P-=l,0>P)l=Math.max(0,u[R].h-100),I=!1;else try{Do($,f,"req"+P+"_")}catch{o&&o($)}}if(I){o=f.join("&");break e}}}return i=i.l.splice(0,n),e.D=i,o}function _a(i){i.g||i.u||(i.Y=1,Ot(i.Ga,i),i.A=0)}function no(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=un(he(i.Ga,i),gr(i,i.A)),i.A++,0))}function Ka(i){null!=i.B&&(Ve.clearTimeout(i.B),i.B=null)}function Ao(i){i.g=new vs(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=kr(i.oa);zn(e,"RID","rpc"),zn(e,"SID",i.J),zn(e,"CI",i.N?"0":"1"),zn(e,"AID",i.U),$s(i,e),zn(e,"TYPE","xmlhttp"),i.o&&i.s&&ma(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var n=i.g;i=i.la,n.K=1,n.v=zi(kr(e)),n.s=null,n.U=!0,ja(n,i)}function Xr(i){null!=i.v&&(Ve.clearTimeout(i.v),i.v=null)}function Hs(i,e){var n=null;if(i.g==e){Xr(i),Ka(i),i.g=null;var o=2}else{if(!Wt(i.i,e))return;n=e.D,us(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;hr(o=Re(),new Nr(o,n,e,u)),cs(i)}else _a(i);else if(3==(u=e.o)||0==u&&0<i.I||!(1==o&&function Ko(i,e){return!(Or(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=un(he(i.Ha,i,e),gr(i,i.C)),i.C++,0)))}(i,e)||2==o&&no(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:Ki(i,5);break;case 4:Ki(i,10);break;case 3:Ki(i,6);break;default:Ki(i,2)}}function gr(i,e){let n=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(n*=2),n*e}function Ki(i,e){if(i.h.info("Error code "+e),2==e){var n=null;i.j&&(n=null);var o=he(i.jb,i);n||(n=new Br("//www.google.com/images/cleardot.gif"),Ve.location&&"http"==Ve.location.protocol||Vs(n,"https"),zi(n)),function js(i,e){const n=new Rr;if(Ve.Image){const o=new Image;o.onload=_e(Ha,n,o,"TestLoadImage: loaded",!0,e),o.onerror=_e(Ha,n,o,"TestLoadImage: error",!1,e),o.onabort=_e(Ha,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=_e(Ha,n,o,"TestLoadImage: timeout",!1,e),Ve.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else jt(2);i.G=0,i.j&&i.j.va(e),Wu(i),va(i)}function Wu(i){i.G=0,i.I=-1,i.j&&((0!=xi(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Xt(i.l),i.l.length=0),i.j.ua())}function wa(i,e,n){let o=function Ho(i){return i instanceof Br?kr(i):new Br(i,void 0)}(n);if(""!=o.i)e&&Fi(o,e+"."+o.i),qr(o,o.m);else{const u=Ve.location;o=function si(i,e,n,o){var u=new Br(null,void 0);return i&&Vs(u,i),e&&Fi(u,e),n&&qr(u,n),o&&(u.l=o),u}(u.protocol,e?e+"."+u.hostname:u.hostname,+u.port,n)}return i.aa&&cn(i.aa,function(u,l){zn(o,l,u)}),n=i.sa,(e=i.D)&&n&&zn(o,e,n),zn(o,"VER",i.ma),$s(i,o),o}function xo(i,e,n){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Wn(n&&i.Ba&&!i.qa?new et({ib:!0}):i.qa)).L=i.H,e}function Ku(){}function Mo(){if(Cn&&!(10<=Number(be)))throw Error("Environmental error: no available transport.")}function Cr(i,e){On.call(this),this.g=new za(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!yn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yn(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new er(this)}function ro(i){Er.call(this);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function qo(){fi.call(this),this.status=1}function er(i){this.g=i}(ue=Wn.prototype).ea=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ns.g(),this.C=function Yn(i){return i.h||(i.h=i.i())}(this.u?this.u:ns),this.g.onreadystatechange=he(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(l){return void To(this,l)}i=n||"";const u=new ss(this.headers);o&&eo(o,function(l,f){u.set(f,l)}),o=function it(i){e:{var e=yu;const n=i.length,o="string"==typeof i?i.split(""):i;for(let u=0;u<n;u++)if(u in o&&e.call(void 0,o[u],u,i)){e=u;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(u.T()),n=Ve.FormData&&i instanceof Ve.FormData,!(0<=ye(ll,e))||o||n||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(l,f){this.g.setRequestHeader(f,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{bo(this),0<this.B&&((this.K=function Gu(i){return Cn&&function De(){return function ni(i){var e=br;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Ft(String(or)).split("."),n=Ft("9").split("."),o=Math.max(e.length,n.length);for(let f=0;0==i&&f<o;f++){var u=e[f]||"",l=n[f]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==u[0].length&&0==l[0].length)break;i=Ln(0==u[1].length?0:parseInt(u[1],10),0==l[1].length?0:parseInt(l[1],10))||Ln(0==u[2].length,0==l[2].length)||Ln(u[2],l[2]),u=u[3],l=l[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=he(this.pa,this)):this.A=Hn(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){To(this,l)}},ue.pa=function(){typeof gt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,hr(this,"timeout"),this.abort(8))},ue.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,hr(this,"complete"),hr(this,"abort"),Di(this))},ue.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Di(this,!0)),Wn.Z.M.call(this)},ue.Fa=function(){this.s||(this.F||this.v||this.l?Mi(this):this.cb())},ue.cb=function(){Mi(this)},ue.ba=function(){try{return 2<Fr(this)?this.g.status:-1}catch{return-1}},ue.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},ue.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Ui(e)}},ue.Da=function(){return this.m},ue.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ue=za.prototype).ma=8,ue.G=1,ue.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch{}},ue.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const u=new vs(this,this.h,i,void 0);let l=this.s;if(this.P&&(l?(l=Un(l),nr(l,this.P)):l=this.P),null===this.o&&(u.H=l),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var o=this.l[n];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Wa(this,u,e),zn(n=kr(this.F),"RID",i),zn(n,"CVER",22),this.D&&zn(n,"X-HTTP-Session-Id",this.D),$s(this,n),this.o&&l&&ma(n,this.o,l),Jn(this.i,u),this.Ra&&zn(n,"TYPE","init"),this.ja?(zn(n,"$req",e),zn(n,"SID","null"),u.$=!0,ga(u,n,null)):ga(u,n,e),this.G=2}}else 3==this.G&&(i?to(this,i):0==this.l.length||Bn(this.i)||to(this))},ue.Ga=function(){if(this.u=null,Ao(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=un(he(this.bb,this),i)}},ue.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,jt(10),ya(this),Ao(this))},ue.ab=function(){null!=this.v&&(this.v=null,ya(this),no(this),jt(19))},ue.jb=function(i){i?(this.h.info("Successfully pinged google.com"),jt(2)):(this.h.info("Failed to ping google.com"),jt(1))},(ue=Ku.prototype).xa=function(){},ue.wa=function(){},ue.va=function(){},ue.ua=function(){},ue.Oa=function(){},Mo.prototype.g=function(i,e){return new Cr(i,e)},ge(Cr,On),Cr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,n=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Ot(he(i.hb,i,e))),jt(0),i.W=e,i.aa=n||{},i.N=i.X,i.F=wa(i,null,i.W),cs(i)},Cr.prototype.close=function(){bs(this.g)},Cr.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,So(this.g,e)}else this.v?((e={}).__data__=mi(i),So(this.g,e)):So(this.g,i)},Cr.prototype.M=function(){this.g.j=null,delete this.j,bs(this.g),delete this.g,Cr.Z.M.call(this)},ge(ro,Er),ge(qo,fi),ge(er,Ku),er.prototype.xa=function(){hr(this.g,"a")},er.prototype.wa=function(i){hr(this.g,new ro(i))},er.prototype.va=function(i){hr(this.g,new qo(i))},er.prototype.ua=function(){hr(this.g,"b")},Mo.prototype.createWebChannel=Mo.prototype.g,Cr.prototype.send=Cr.prototype.u,Cr.prototype.open=Cr.prototype.m,Cr.prototype.close=Cr.prototype.close,kn.NO_ERROR=0,kn.TIMEOUT=8,kn.HTTP_ERROR=6,Oi.COMPLETE="complete",ii.EventType=Ir,Ir.OPEN="a",Ir.CLOSE="b",Ir.ERROR="c",Ir.MESSAGE="d",On.prototype.listen=On.prototype.N,Wn.prototype.listenOnce=Wn.prototype.O,Wn.prototype.getLastError=Wn.prototype.La,Wn.prototype.getLastErrorCode=Wn.prototype.Da,Wn.prototype.getStatus=Wn.prototype.ba,Wn.prototype.getResponseJson=Wn.prototype.Qa,Wn.prototype.getResponseText=Wn.prototype.ga,Wn.prototype.send=Wn.prototype.ea;var qa=Ze.createWebChannelTransport=function(){return new Mo},qu=Ze.getStatEventTarget=function(){return Re()},Vi=Ze.ErrorCode=kn,io=Ze.EventType=Oi,vu=Ze.Event=pe,Zo=Ze.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Gs=Ze.FetchXmlHttpFactory=et,so=Ze.WebChannel=ii,Zu=Ze.XhrIo=Wn;const Za="@firebase/firestore";class oi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}oi.UNAUTHENTICATED=new oi(null),oi.GOOGLE_CREDENTIALS=new oi("google-credentials-uid"),oi.FIRST_PARTY=new oi("first-party-uid"),oi.MOCK_USER=new oi("mock-user");let ei="9.9.2";const qi=new ie.Yd("@firebase/firestore");function Ro(){return qi.logLevel}function ut(i,...e){if(qi.logLevel<=ie.in.DEBUG){const n=e.map(Kn);qi.debug(`Firestore (${ei}): ${i}`,...n)}}function mr(i,...e){if(qi.logLevel<=ie.in.ERROR){const n=e.map(Kn);qi.error(`Firestore (${ei}): ${i}`,...n)}}function oo(i,...e){if(qi.logLevel<=ie.in.WARN){const n=e.map(Kn);qi.warn(`Firestore (${ei}): ${i}`,...n)}}function Kn(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Ut(i="Unexpected state"){const e=`FIRESTORE (${ei}) INTERNAL ASSERTION FAILED: `+i;throw mr(e),new Error(e)}function Zt(i,e){i||Ut()}function yt(i,e){return i}const Fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends se.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class jr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Ea{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ri{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(oi.UNAUTHENTICATED))}shutdown(){}}class Zi{constructor(e){this.t=e,this.currentUser=oi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const l=P=>this.i!==u?(u=this.i,n(P)):Promise.resolve();let f=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new jr,e.enqueueRetryable(()=>l(this.currentUser))};const I=()=>{const P=f;e.enqueueRetryable((0,Ee.Z)(function*(){yield P.promise,yield l(o.currentUser)}))},R=P=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=P,this.auth.addAuthTokenListener(this.o),I()};this.t.onInit(P=>R(P)),setTimeout(()=>{if(!this.auth){const P=this.t.getImmediate({optional:!0});P?R(P):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new jr)}},0),I()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Zt("string"==typeof o.accessToken),new Ea(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Zt(null===e||"string"==typeof e),new oi(e)}}class Cs{constructor(e,n,o){this.type="FirstParty",this.user=oi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const u=e.auth.getAuthHeaderValueForFirstParty([]);u&&this.headers.set("Authorization",u),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class Yo{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new Cs(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(oi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yi{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qo{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const o=l=>{null!=l.error&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.p;return this.p=l.token,ut("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const u=l=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?u(l):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Zt("string"==typeof n.token),this.p=n.token,new Yi(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Jo(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class ao{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=Jo(40);for(let l=0;l<u.length;++l)o.length<20&&u[l]<n&&(o+=e.charAt(u[l]%e.length))}return o}}function rn(i,e){return i<e?-1:i>e?1:0}function zs(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}class lr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ct(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ct(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ct(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return lr.fromMillis(Date.now())}static fromDate(e){return lr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new lr(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rn(this.nanoseconds,e.nanoseconds):rn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Yt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Yt(e)}static min(){return new Yt(new lr(0,0))}static max(){return new Yt(new lr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class $r{constructor(e,n,o){void 0===n?n=0:n>e.length&&Ut(),void 0===o?o=e.length-n:o>e.length-n&&Ut(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===$r.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $r?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const l=e.get(u),f=n.get(u);if(l<f)return-1;if(l>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Tn extends $r{construct(e,n,o){return new Tn(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new ct(Fe.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new Tn(n)}static emptyPath(){return new Tn([])}}const Qa=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends $r{construct(e,n,o){return new wn(e,n,o)}static isValidIdentifier(e){return Qa.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wn(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const l=()=>{if(0===o.length)throw new ct(Fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let f=!1;for(;u<e.length;){const I=e[u];if("\\"===I){if(u+1===e.length)throw new ct(Fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const R=e[u+1];if("\\"!==R&&"."!==R&&"`"!==R)throw new ct(Fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=R,u+=2}else"`"===I?(f=!f,u++):"."!==I||f?(o+=I,u++):(l(),u++)}if(l(),f)throw new ct(Fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(n)}static emptyPath(){return new wn([])}}class _t{constructor(e){this.path=e}static fromPath(e){return new _t(Tn.fromString(e))}static fromName(e){return new _t(Tn.fromString(e).popFirst(5))}static empty(){return new _t(Tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Tn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _t(new Tn(e.slice()))}}function Bi(i){return new Ni(i.readTime,i.key,-1)}class Ni{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new Ni(Yt.min(),_t.empty(),-1)}static max(){return new Ni(Yt.max(),_t.empty(),-1)}}function Ms(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=_t.comparator(i.documentKey,e.documentKey),0!==n?n:rn(i.largestBatchId,e.largestBatchId))}const wu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Fn(i){return Iu.apply(this,arguments)}function Iu(){return Iu=(0,Ee.Z)(function*(i){if(i.code!==Fe.FAILED_PRECONDITION||i.message!==wu)throw i;ut("LocalStore","Unexpectedly lost primary lease")}),Iu.apply(this,arguments)}class Pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Pe((o,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,u)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Pe?n:Pe.resolve(n)}catch(n){return Pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Pe.reject(n)}static resolve(e){return new Pe((n,o)=>{n(e)})}static reject(e){return new Pe((n,o)=>{o(e)})}static waitFor(e){return new Pe((n,o)=>{let u=0,l=0,f=!1;e.forEach(I=>{++u,I.next(()=>{++l,f&&l===u&&n()},R=>o(R))}),f=!0,l===u&&n()})}static or(e){let n=Pe.resolve(!1);for(const o of e)n=n.next(u=>u?Pe.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,l)=>{o.push(n.call(this,u,l))}),this.waitFor(o)}static mapArray(e,n){return new Pe((o,u)=>{const l=e.length,f=new Array(l);let I=0;for(let R=0;R<l;R++){const P=R;n(e[P]).next($=>{f[P]=$,++I,I===l&&o(f)},$=>u($))}})}static doWhile(e,n){return new Pe((o,u)=>{const l=()=>{!0===e()?n().next(()=>{l()},u):o()};l()})}}function Qi(i){return"IndexedDbTransactionError"===i.name}class vi{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.it(o),this.rt=o=>n.writeSequenceNumber(o))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function ba(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Zr(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Hr(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}vi.ot=-1;class dr{constructor(e,n){this.comparator=e,this.root=n||y.EMPTY}insert(e,n){return new dr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,y.BLACK,null,null))}remove(e){return new dr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,y.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new v(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new v(this.root,e,this.comparator,!1)}getReverseIterator(){return new v(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new v(this.root,e,this.comparator,!0)}}class v{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class y{constructor(e,n,o,u,l){this.key=e,this.value=n,this.color=o??y.RED,this.left=u??y.EMPTY,this.right=l??y.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,l){return new y(e??this.key,n??this.value,o??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const l=o(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===l?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return y.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return y.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,y.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,y.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ut();const e=this.left.check();if(e!==this.right.check())throw Ut();return e+(this.isRed()?0:1)}}y.EMPTY=null,y.RED=!0,y.BLACK=!1,y.EMPTY=new class{constructor(){this.size=0}get key(){throw Ut()}get value(){throw Ut()}get color(){throw Ut()}get left(){throw Ut()}get right(){throw Ut()}copy(i,e,n,o,u){return this}insert(i,e,n){return new y(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class m{constructor(e){this.comparator=e,this.data=new dr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new D(this.data.getIterator())}getIteratorFrom(e){return new D(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof m)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new m(this.comparator);return n.data=e,n}}class D{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class O{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new O([])}unionWith(e){let n=new m(wn.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new O(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zs(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class Y{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Y(n)}static fromUint8Array(e){const n=function(o){let u="";for(let l=0;l<o.length;++l)u+=String.fromCharCode(o[l]);return u}(e);return new Y(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Y.EMPTY_BYTE_STRING=new Y("");const xe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ft(i){if(Zt(!!i),"string"==typeof i){let e=0;const n=xe.exec(i);if(Zt(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:St(i.seconds),nanos:St(i.nanos)}}function St(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function It(i){return"string"==typeof i?Y.fromBase64String(i):Y.fromUint8Array(i)}function xn(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ai(i){const e=i.mapValue.fields.__previous_value__;return xn(e)?ai(e):e}function Yr(i){const e=ft(i.mapValue.fields.__local_write_time__.timestampValue);return new lr(e.seconds,e.nanos)}class ks{constructor(e,n,o,u,l,f,I,R){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=I,this.useFetchStreams=R}}class Gr{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Gr("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Gr&&e.projectId===this.projectId&&e.database===this.database}}function ho(i){return null==i}function ds(i){return 0===i&&1/i==-1/0}const Ws_mapValue={fields:{__type__:{stringValue:"__max__"}}};function _i(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?xn(i)?4:A(i)?9007199254740991:10:Ut()}function ji(i,e){if(i===e)return!0;const n=_i(i);if(n!==_i(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Yr(i).isEqual(Yr(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const l=ft(o.timestampValue),f=ft(u.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,It(i.bytesValue).isEqual(It(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return St(o.geoPointValue.latitude)===St(u.geoPointValue.latitude)&&St(o.geoPointValue.longitude)===St(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return St(o.integerValue)===St(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const l=St(o.doubleValue),f=St(u.doubleValue);return l===f?ds(l)===ds(f):isNaN(l)&&isNaN(f)}return!1}(i,e);case 9:return zs(i.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:return function(o,u){const l=o.mapValue.fields||{},f=u.mapValue.fields||{};if(ba(l)!==ba(f))return!1;for(const I in l)if(l.hasOwnProperty(I)&&(void 0===f[I]||!ji(l[I],f[I])))return!1;return!0}(i,e);default:return Ut()}var u}function No(i,e){return void 0!==(i.values||[]).find(n=>ji(n,e))}function Po(i,e){if(i===e)return 0;const n=_i(i),o=_i(e);if(n!==o)return rn(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return rn(i.booleanValue,e.booleanValue);case 2:return function(u,l){const f=St(u.integerValue||u.doubleValue),I=St(l.integerValue||l.doubleValue);return f<I?-1:f>I?1:f===I?0:isNaN(f)?isNaN(I)?0:-1:1}(i,e);case 3:return Ks(i.timestampValue,e.timestampValue);case 4:return Ks(Yr(i),Yr(e));case 5:return rn(i.stringValue,e.stringValue);case 6:return function(u,l){const f=It(u),I=It(l);return f.compareTo(I)}(i.bytesValue,e.bytesValue);case 7:return function(u,l){const f=u.split("/"),I=l.split("/");for(let R=0;R<f.length&&R<I.length;R++){const P=rn(f[R],I[R]);if(0!==P)return P}return rn(f.length,I.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,l){const f=rn(St(u.latitude),St(l.latitude));return 0!==f?f:rn(St(u.longitude),St(l.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,l){const f=u.values||[],I=l.values||[];for(let R=0;R<f.length&&R<I.length;++R){const P=Po(f[R],I[R]);if(P)return P}return rn(f.length,I.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,l){if(u===Ws_mapValue&&l===Ws_mapValue)return 0;if(u===Ws_mapValue)return 1;if(l===Ws_mapValue)return-1;const f=u.fields||{},I=Object.keys(f),R=l.fields||{},P=Object.keys(R);I.sort(),P.sort();for(let $=0;$<I.length&&$<P.length;++$){const te=rn(I[$],P[$]);if(0!==te)return te;const we=Po(f[I[$]],R[P[$]]);if(0!==we)return we}return rn(I.length,P.length)}(i.mapValue,e.mapValue);default:throw Ut()}}function Ks(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return rn(i,e);const n=ft(i),o=ft(e),u=rn(n.seconds,o.seconds);return 0!==u?u:rn(n.nanos,o.nanos)}function Xa(i){return qs(i)}function qs(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=ft(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?It(i.bytesValue).toBase64():"referenceValue"in i?_t.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",l=!0;for(const f of o.values||[])l?l=!1:u+=",",u+=qs(f);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let l="{",f=!0;for(const I of u)f?f=!1:l+=",",l+=`${I}:${qs(o.fields[I])}`;return l+"}"}(i.mapValue):Ut();var e}function Ca(i){return!!i&&"integerValue"in i}function eu(i){return!!i&&"arrayValue"in i}function Lr(i){return!!i&&"nullValue"in i}function Xu(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ta(i){return!!i&&"mapValue"in i}function C(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Zr(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=C(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=C(i.arrayValue.values[n]);return e}return Object.assign({},i)}function A(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ge{constructor(e){this.value=e}static empty(){return new Ge({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!ta(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=C(n)}setAll(e){let n=wn.emptyPath(),o={},u=[];e.forEach((f,I)=>{if(!n.isImmediateParentOf(I)){const R=this.getFieldsMap(n);this.applyChanges(R,o,u),o={},u=[],n=I.popLast()}f?o[I.lastSegment()]=C(f):u.push(I.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,o,u)}delete(e){const n=this.field(e.popLast());ta(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];ta(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){Zr(n,(u,l)=>e[u]=l);for(const u of o)delete e[u]}clone(){return new Ge(C(this.value))}}function Dt(i){const e=[];return Zr(i.fields,(n,o)=>{const u=new wn([n]);if(ta(o)){const l=Dt(o.mapValue).fields;if(0===l.length)e.push(u);else for(const f of l)e.push(u.child(f))}else e.push(u)}),new O(e)}class Et{constructor(e,n,o,u,l,f){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.data=l,this.documentState=f}static newInvalidDocument(e){return new Et(e,0,Yt.min(),Yt.min(),Ge.empty(),0)}static newFoundDocument(e,n,o){return new Et(e,1,n,Yt.min(),o,0)}static newNoDocument(e,n){return new Et(e,2,n,Yt.min(),Ge.empty(),0)}static newUnknownDocument(e,n){return new Et(e,3,n,Yt.min(),Ge.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ge.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ge.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Et&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Et(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vn{constructor(e,n=null,o=[],u=[],l=null,f=null,I=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=l,this.startAt=f,this.endAt=I,this.ut=null}}function mn(i,e=null,n=[],o=[],u=null,l=null,f=null){return new vn(i,e,n,o,u,l,f)}function Kt(i){const e=yt(i);if(null===e.ut){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+Xa(u.value);var u}).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),ho(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Xa(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Xa(o)).join(",")),e.ut=n}return e.ut}function gi(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!sd(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((n=i.filters[u]).op!==(o=e.filters[u]).op||!n.field.isEqual(o.field)||!ji(n.value,o.value))return!1;var n,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!dl(i.startAt,e.startAt)&&dl(i.endAt,e.endAt)}function fo(i){return _t.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class ci extends class{}{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.ct(e,n,o):new ra(e,n,o):"array-contains"===n?new dh(e,o):"in"===n?new hh(e,o):"not-in"===n?new fh(e,o):"array-contains-any"===n?new Tc(e,o):new ci(e,n,o)}static ct(e,n,o){return"in"===n?new Oo(e,o):new Sa(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.at(Po(n,this.value)):null!==n&&_i(this.value)===_i(n)&&this.at(Po(n,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ut()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class ra extends ci{constructor(e,n,o){super(e,n,o),this.key=_t.fromName(o.referenceValue)}matches(e){const n=_t.comparator(e.key,this.key);return this.at(n)}}class Oo extends ci{constructor(e,n){super(e,"in",n),this.keys=Dc(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Sa extends ci{constructor(e,n){super(e,"not-in",n),this.keys=Dc(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Dc(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>_t.fromName(o.referenceValue))}class dh extends ci{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return eu(n)&&No(n.arrayValue,this.value)}}class hh extends ci{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&No(this.value.arrayValue,n)}}class fh extends ci{constructor(e,n){super(e,"not-in",n)}matches(e){if(No(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!No(this.value.arrayValue,n)}}class Tc extends ci{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!eu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>No(this.value.arrayValue,o))}}class ia{constructor(e,n){this.position=e,this.inclusive=n}}class Aa{constructor(e,n="asc"){this.field=e,this.dir=n}}function sd(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function ph(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const l=e[u],f=i.position[u];if(o=l.field.isKeyField()?_t.comparator(_t.fromName(f.referenceValue),n.key):Po(f,n.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function dl(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ji(i.position[n],e.position[n]))return!1;return!0}class xa{constructor(e,n=null,o=[],u=[],l=null,f="F",I=null,R=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=l,this.limitType=f,this.startAt=I,this.endAt=R,this.lt=null,this.ft=null}}function tu(i){return new xa(i)}function hl(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function nu(i){const e=yt(i);if(null===e.lt){e.lt=[];const n=function ec(i){for(const e of i.filters)if(e.ht())return e.field;return null}(e),o=function Tu(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}(e);if(null!==n&&null===o)n.isKeyField()||e.lt.push(new Aa(n)),e.lt.push(new Aa(wn.keyField(),"asc"));else{let u=!1;for(const l of e.explicitOrderBy)e.lt.push(l),l.field.isKeyField()&&(u=!0);if(!u){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new Aa(wn.keyField(),l))}}}return e.lt}function ps(i){const e=yt(i);if(!e.ft)if("F"===e.limitType)e.ft=mn(e.path,e.collectionGroup,nu(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const l of nu(e))n.push(new Aa(l.field,"desc"===l.dir?"asc":"desc"));const o=e.endAt?new ia(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new ia(e.startAt.position,e.startAt.inclusive):null;e.ft=mn(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e.ft}function tc(i,e,n){return new xa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Ra(i,e){return gi(ps(i),ps(e))&&i.limitType===e.limitType}function Cc(i){return`${Kt(ps(i))}|lt:${i.limitType}`}function fl(i){return`Query(target=${function ui(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(n=>{return`${(o=n).field.canonicalString()} ${o.op} ${Xa(o.value)}`;var o}).join(", ")}]`),ho(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(n=>{return`${(o=n).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(n=>Xa(n)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(n=>Xa(n)).join(",")),`Target(${e})`}(ps(i))}; limitType=${i.limitType})`}function nc(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):_t.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of n.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,l,f){const I=ph(u,l,f);return u.inclusive?I<=0:I<0}(n.startAt,nu(n),o)||n.endAt&&!function(u,l,f){const I=ph(u,l,f);return u.inclusive?I>=0:I>0}(n.endAt,nu(n),o)));var n,o}function Sc(i){return(e,n)=>{let o=!1;for(const u of nu(i)){const l=ad(u,e,n);if(0!==l)return l;o=o||u.field.isKeyField()}return 0}}function ad(i,e,n){const o=i.field.isKeyField()?_t.comparator(e.key,n.key):function(u,l,f){const I=l.data.field(u),R=f.data.field(u);return null!==I&&null!==R?Po(I,R):Ut()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Ut()}}function ud(i,e){if(i.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ds(e)?"-0":e}}function cd(i){return{integerValue:""+i}}function ld(i,e){return function ea(i){return"number"==typeof i&&Number.isInteger(i)&&!ds(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?cd(e):ud(i,e)}class Ac{constructor(){this._=void 0}}function _(i,e,n){return i instanceof E?function(o,u){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(l.fields.__previous_value__=u),{mapValue:l}}(n,e):i instanceof L?H(i,e):i instanceof Se?at(i,e):function(o,u){const l=p(o,u),f=en(l)+en(o._t);return Ca(l)&&Ca(o._t)?cd(f):ud(o.wt,f)}(i,e)}function h(i,e,n){return i instanceof L?H(i,e):i instanceof Se?at(i,e):n}function p(i,e){return i instanceof Tt?Ca(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class E extends Ac{}class L extends Ac{constructor(e){super(),this.elements=e}}function H(i,e){const n=bn(e);for(const o of i.elements)n.some(u=>ji(u,o))||n.push(o);return{arrayValue:{values:n}}}class Se extends Ac{constructor(e){super(),this.elements=e}}function at(i,e){let n=bn(e);for(const o of i.elements)n=n.filter(u=>!ji(u,o));return{arrayValue:{values:n}}}class Tt extends Ac{constructor(e,n){super(),this.wt=e,this._t=n}}function en(i){return St(i.integerValue||i.doubleValue)}function bn(i){return eu(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class ru{constructor(e,n){this.version=e,this.transformResults=n}}class Sr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Sr}static exists(e){return new Sr(void 0,e)}static updateTime(e){return new Sr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Na(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class iu{}function Zs(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Su(i.key,Sr.none()):new su(i.key,i.data,Sr.none());{const n=i.data,o=Ge.empty();let u=new m(wn.comparator);for(let l of e.fields)if(!u.has(l)){let f=n.field(l);null===f&&l.length>1&&(l=l.popLast(),f=n.field(l)),null===f?o.delete(l):o.set(l,f),u=u.add(l)}return new sa(i.key,o,new O(u.toArray()),Sr.none())}}function bu(i,e,n){i instanceof su?function(o,u,l){const f=o.value.clone(),I=Cu(o.fieldTransforms,u,l.transformResults);f.setAll(I),u.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(i,e,n):i instanceof sa?function(o,u,l){if(!Na(o.precondition,u))return void u.convertToUnknownDocument(l.version);const f=Cu(o.fieldTransforms,u,l.transformResults),I=u.data;I.setAll(gh(o)),I.setAll(f),u.convertToFoundDocument(l.version,I).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Pa(i,e,n,o){return i instanceof su?function(u,l,f,I){if(!Na(u.precondition,l))return f;const R=u.value.clone(),P=Mc(u.fieldTransforms,I,l);return R.setAll(P),l.convertToFoundDocument(l.version,R).setHasLocalMutations(),null}(i,e,n,o):i instanceof sa?function(u,l,f,I){if(!Na(u.precondition,l))return f;const R=Mc(u.fieldTransforms,I,l),P=l.data;return P.setAll(gh(u)),P.setAll(R),l.convertToFoundDocument(l.version,P).setHasLocalMutations(),null===f?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map($=>$.field))}(i,e,n,o):(f=n,Na(i.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f);var l,f}function pl(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),l=p(o.transform,u||null);null!=l&&(null===n&&(n=Ge.empty()),n.set(o.field,l))}return n||null}function xc(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&zs(n,o,(u,l)=>function Fo(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof L&&o instanceof L||n instanceof Se&&o instanceof Se?zs(n.elements,o.elements,ji):n instanceof Tt&&o instanceof Tt?ji(n._t,o._t):n instanceof E&&o instanceof E);var n,o}(u,l))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class su extends iu{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class sa extends iu{constructor(e,n,o,u,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function gh(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function Cu(i,e,n){const o=new Map;Zt(i.length===n.length);for(let u=0;u<n.length;u++){const l=i[u],f=l.transform,I=e.data.field(l.field);o.set(l.field,h(f,I,n[u]))}return o}function Mc(i,e,n){const o=new Map;for(const u of i){const l=u.transform,f=n.data.field(u.field);o.set(u.field,_(l,f,e))}return o}class Su extends iu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ip extends iu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class r_{constructor(e){this.count=e}}var wi,qn;function Ep(i){switch(i){default:return Ut();case Fe.CANCELLED:case Fe.UNKNOWN:case Fe.DEADLINE_EXCEEDED:case Fe.RESOURCE_EXHAUSTED:case Fe.INTERNAL:case Fe.UNAVAILABLE:case Fe.UNAUTHENTICATED:return!1;case Fe.INVALID_ARGUMENT:case Fe.NOT_FOUND:case Fe.ALREADY_EXISTS:case Fe.PERMISSION_DENIED:case Fe.FAILED_PRECONDITION:case Fe.ABORTED:case Fe.OUT_OF_RANGE:case Fe.UNIMPLEMENTED:case Fe.DATA_LOSS:return!0}}function Dp(i){if(void 0===i)return mr("GRPC error has no .code"),Fe.UNKNOWN;switch(i){case wi.OK:return Fe.OK;case wi.CANCELLED:return Fe.CANCELLED;case wi.UNKNOWN:return Fe.UNKNOWN;case wi.DEADLINE_EXCEEDED:return Fe.DEADLINE_EXCEEDED;case wi.RESOURCE_EXHAUSTED:return Fe.RESOURCE_EXHAUSTED;case wi.INTERNAL:return Fe.INTERNAL;case wi.UNAVAILABLE:return Fe.UNAVAILABLE;case wi.UNAUTHENTICATED:return Fe.UNAUTHENTICATED;case wi.INVALID_ARGUMENT:return Fe.INVALID_ARGUMENT;case wi.NOT_FOUND:return Fe.NOT_FOUND;case wi.ALREADY_EXISTS:return Fe.ALREADY_EXISTS;case wi.PERMISSION_DENIED:return Fe.PERMISSION_DENIED;case wi.FAILED_PRECONDITION:return Fe.FAILED_PRECONDITION;case wi.ABORTED:return Fe.ABORTED;case wi.OUT_OF_RANGE:return Fe.OUT_OF_RANGE;case wi.UNIMPLEMENTED:return Fe.UNIMPLEMENTED;case wi.DATA_LOSS:return Fe.DATA_LOSS;default:return Ut()}}(qn=wi||(wi={}))[qn.OK=0]="OK",qn[qn.CANCELLED=1]="CANCELLED",qn[qn.UNKNOWN=2]="UNKNOWN",qn[qn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qn[qn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qn[qn.NOT_FOUND=5]="NOT_FOUND",qn[qn.ALREADY_EXISTS=6]="ALREADY_EXISTS",qn[qn.PERMISSION_DENIED=7]="PERMISSION_DENIED",qn[qn.UNAUTHENTICATED=16]="UNAUTHENTICATED",qn[qn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qn[qn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qn[qn.ABORTED=10]="ABORTED",qn[qn.OUT_OF_RANGE=11]="OUT_OF_RANGE",qn[qn.UNIMPLEMENTED=12]="UNIMPLEMENTED",qn[qn.INTERNAL=13]="INTERNAL",qn[qn.UNAVAILABLE=14]="UNAVAILABLE",qn[qn.DATA_LOSS=15]="DATA_LOSS";class Au{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,l]of o)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Zr(this.inner,(n,o)=>{for(const[u,l]of o)e(u,l)})}isEmpty(){return Hr(this.inner)}size(){return this.innerSize}}const Tp=new dr(_t.comparator);function Ji(){return Tp}const bp=new dr(_t.comparator);function rc(...i){let e=bp;for(const n of i)e=e.insert(n.key,n);return e}function Cp(i){let e=bp;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function Tr(){return gl()}function Sp(){return gl()}function gl(){return new Au(i=>i.toString(),(i,e)=>i.isEqual(e))}const mh=new dr(_t.comparator),yh=new m(_t.comparator);function Mn(...i){let e=yh;for(const n of i)e=e.add(n);return e}const Om=new m(rn);function dd(){return Om}class ml{constructor(e,n,o,u,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n){const o=new Map;return o.set(e,yl.createSynthesizedTargetChangeForCurrentChange(e,n)),new ml(Yt.min(),o,dd(),Ji(),Mn())}}class yl{constructor(e,n,o,u,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n){return new yl(Y.EMPTY_BYTE_STRING,n,Mn(),Mn(),Mn())}}class vh{constructor(e,n,o,u){this.gt=e,this.removedTargetIds=n,this.key=o,this.yt=u}}class Fm{constructor(e,n){this.targetId=e,this.It=n}}class Rc{constructor(e,n,o=Y.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class hd{constructor(){this.Tt=0,this.Et=wh(),this.At=Y.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Mn(),n=Mn(),o=Mn();return this.Et.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:Ut()}}),new yl(this.At,this.Rt,e,n,o)}Dt(){this.bt=!1,this.Et=wh()}Ct(e,n){this.bt=!0,this.Et=this.Et.insert(e,n)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class Ap{constructor(e){this.Ot=e,this.Ft=new Map,this.$t=Ji(),this.Bt=_h(),this.Lt=new m(rn)}Ut(e){for(const n of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(n,e.yt):this.Kt(n,e.key,e.yt);for(const n of e.removedTargetIds)this.Kt(n,e.key,e.yt)}Gt(e){this.forEachTarget(e,n=>{const o=this.Qt(n);switch(e.state){case 0:this.jt(n)&&o.Vt(e.resumeToken);break;case 1:o.kt(),o.Pt||o.Dt(),o.Vt(e.resumeToken);break;case 2:o.kt(),o.Pt||this.removeTarget(n);break;case 3:this.jt(n)&&(o.Mt(),o.Vt(e.resumeToken));break;case 4:this.jt(n)&&(this.Wt(n),o.Vt(e.resumeToken));break;default:Ut()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ft.forEach((o,u)=>{this.jt(u)&&n(u)})}zt(e){const n=e.targetId,o=e.It.count,u=this.Ht(n);if(u){const l=u.target;if(fo(l))if(0===o){const f=new _t(l.path);this.Kt(n,f,Et.newNoDocument(f,Yt.min()))}else Zt(1===o);else this.Jt(n)!==o&&(this.Wt(n),this.Lt=this.Lt.add(n))}}Yt(e){const n=new Map;this.Ft.forEach((l,f)=>{const I=this.Ht(f);if(I){if(l.current&&fo(I.target)){const R=new _t(I.target.path);null!==this.$t.get(R)||this.Xt(f,R)||this.Kt(f,R,Et.newNoDocument(R,e))}l.vt&&(n.set(f,l.St()),l.Dt())}});let o=Mn();this.Bt.forEach((l,f)=>{let I=!0;f.forEachWhile(R=>{const P=this.Ht(R);return!P||2===P.purpose||(I=!1,!1)}),I&&(o=o.add(l))}),this.$t.forEach((l,f)=>f.setReadTime(e));const u=new ml(e,n,this.Lt,this.$t,o);return this.$t=Ji(),this.Bt=_h(),this.Lt=new m(rn),u}qt(e,n){if(!this.jt(e))return;const o=this.Xt(e,n.key)?2:0;this.Qt(e).Ct(n.key,o),this.$t=this.$t.insert(n.key,n),this.Bt=this.Bt.insert(n.key,this.Zt(n.key).add(e))}Kt(e,n,o){if(!this.jt(e))return;const u=this.Qt(e);this.Xt(e,n)?u.Ct(n,1):u.xt(n),this.Bt=this.Bt.insert(n,this.Zt(n).delete(e)),o&&(this.$t=this.$t.insert(n,o))}removeTarget(e){this.Ft.delete(e)}Jt(e){const n=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let n=this.Ft.get(e);return n||(n=new hd,this.Ft.set(e,n)),n}Zt(e){let n=this.Bt.get(e);return n||(n=new m(rn),this.Bt=this.Bt.insert(e,n)),n}jt(e){const n=null!==this.Ht(e);return n||ut("WatchChangeAggregator","Detected inactive target",e),n}Ht(e){const n=this.Ft.get(e);return n&&n.Pt?null:this.Ot.te(e)}Wt(e){this.Ft.set(e,new hd),this.Ot.getRemoteKeysForTarget(e).forEach(n=>{this.Kt(e,n,null)})}Xt(e,n){return this.Ot.getRemoteKeysForTarget(e).has(n)}}function _h(){return new dr(_t.comparator)}function wh(){return new dr(_t.comparator)}const Lm={asc:"ASCENDING",desc:"DESCENDING"},xp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Mp{constructor(e,n){this.databaseId=e,this.dt=n}}function ic(i,e){return i.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Um(i,e){return i.dt?e.toBase64():e.toUint8Array()}function Vm(i,e){return ic(i,e.toTimestamp())}function Ti(i){return Zt(!!i),Yt.fromTimestamp(function(e){const n=ft(e);return new lr(n.seconds,n.nanos)}(i))}function fd(i,e){return(n=i,new Tn(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Ih(i){const e=Tn.fromString(i);return Zt(Pc(e)),e}function oa(i,e){return fd(i.databaseId,e.path)}function ka(i,e){const n=Ih(e);if(n.get(1)!==i.databaseId.projectId)throw new ct(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ct(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new _t(pd(n))}function vl(i,e){return fd(i.databaseId,e)}function wl(i){return new Tn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function pd(i){return Zt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Il(i,e,n){return{name:oa(i,e),fields:n.value.mapValue.fields}}function sc(i,e){return{documents:[vl(i,e.path)]}}function Pp(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=vl(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=vl(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(R){if(0===R.length)return;const P=R.map($=>function(te){if("=="===te.op){if(Xu(te.value))return{unaryFilter:{field:oc(te.field),op:"IS_NAN"}};if(Lr(te.value))return{unaryFilter:{field:oc(te.field),op:"IS_NULL"}}}else if("!="===te.op){if(Xu(te.value))return{unaryFilter:{field:oc(te.field),op:"IS_NOT_NAN"}};if(Lr(te.value))return{unaryFilter:{field:oc(te.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oc(te.field),op:jm(te.op),value:te.value}}}($));return 1===P.length?P[0]:{compositeFilter:{op:"AND",filters:P}}}(e.filters);u&&(n.structuredQuery.where=u);const l=function(R){if(0!==R.length)return R.map(P=>{return{field:oc(($=P).field),direction:Th($.dir)};var $})}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const f=(P=e.limit,i.dt||ho(P)?P:{value:P});var P,I,R;return null!==f&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt={before:(I=e.startAt).inclusive,values:I.position}),e.endAt&&(n.structuredQuery.endAt={before:!(R=e.endAt).inclusive,values:R.position}),n}function kp(i){let e=function _l(i){const e=Ih(i);return 4===e.length?Tn.emptyPath():pd(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){Zt(1===o);const $=n.from[0];$.allDescendants?u=$.collectionId:e=e.child($.collectionId)}let l=[];n.where&&(l=Op(n.where));let f=[];n.orderBy&&(f=n.orderBy.map($=>{return new Aa(Nc((te=$).field),function(we){switch(we){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(te.direction));var te}));let I=null;n.limit&&(I=function($){let te;return te="object"==typeof $?$.value:$,ho(te)?null:te}(n.limit));let R=null;var $;n.startAt&&(R=new ia(($=n.startAt).values||[],!!$.before));let P=null;return n.endAt&&(P=function($){return new ia($.values||[],!$.before)}(n.endAt)),function bc(i,e,n,o,u,l,f,I){return new xa(i,e,n,o,u,l,f,I)}(e,u,f,l,I,"F",R,P)}function Op(i){return i?void 0!==i.unaryFilter?[i_(i)]:void 0!==i.fieldFilter?[Fp(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>Op(e)).reduce((e,n)=>e.concat(n)):Ut():[]}function Th(i){return Lm[i]}function jm(i){return xp[i]}function oc(i){return{fieldPath:i.canonicalString()}}function Nc(i){return wn.fromServerFormat(i.fieldPath)}function Fp(i){return ci.create(Nc(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ut()}}(i.fieldFilter.op),i.fieldFilter.value)}function i_(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Nc(i.unaryFilter.field);return ci.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Nc(i.unaryFilter.field);return ci.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Nc(i.unaryFilter.field);return ci.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Nc(i.unaryFilter.field);return ci.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ut()}}function $m(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Pc(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Tl{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&bu(l,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=Pa(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=Pa(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=Sp();return this.mutations.forEach(u=>{const l=e.get(u.key),f=l.overlayedDocument;let I=this.applyToLocalView(f,l.mutatedFields);I=n.has(u.key)?null:I;const R=Zs(f,I);null!==R&&o.set(u.key,R),f.isValidDocument()||f.convertToNoDocument(Yt.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Mn())}isEqual(e){return this.batchId===e.batchId&&zs(this.mutations,e.mutations,(n,o)=>xc(n,o))&&zs(this.baseMutations,e.baseMutations,(n,o)=>xc(n,o))}}class xh{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){Zt(e.mutations.length===o.length);let u=mh;const l=e.mutations;for(let f=0;f<l.length;f++)u=u.insert(l[f].key,o[f].version);return new xh(e,n,o,u)}}class bl{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Lo{constructor(e,n,o,u,l=Yt.min(),f=Yt.min(),I=Y.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=I}withSequenceNumber(e){return new Lo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Lo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class jp{constructor(e){this.ne=e}}function Mh(i){const e=kp({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?tc(e,e.limit,"L"):e}class ou{constructor(){}re(e,n){this.oe(e,n),n.ue()}oe(e,n){if("nullValue"in e)this.ce(n,5);else if("booleanValue"in e)this.ce(n,10),n.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(n,15),n.ae(St(e.integerValue));else if("doubleValue"in e){const o=St(e.doubleValue);isNaN(o)?this.ce(n,13):(this.ce(n,15),ds(o)?n.ae(0):n.ae(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ce(n,20),"string"==typeof o?n.he(o):(n.he(`${o.seconds||""}`),n.ae(o.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,n),this.fe(n);else if("bytesValue"in e)this.ce(n,30),n.de(It(e.bytesValue)),this.fe(n);else if("referenceValue"in e)this._e(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ce(n,45),n.ae(o.latitude||0),n.ae(o.longitude||0)}else"mapValue"in e?A(e)?this.ce(n,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,n),this.fe(n)):"arrayValue"in e?(this.me(e.arrayValue,n),this.fe(n)):Ut()}le(e,n){this.ce(n,25),this.ge(e,n)}ge(e,n){n.he(e)}we(e,n){const o=e.fields||{};this.ce(n,55);for(const u of Object.keys(o))this.le(u,n),this.oe(o[u],n)}me(e,n){const o=e.values||[];this.ce(n,50);for(const u of o)this.oe(u,n)}_e(e,n){this.ce(n,37),_t.fromName(e).path.forEach(o=>{this.ce(n,60),this.ge(o,n)})}ce(e,n){e.ae(n)}fe(e){e.ae(2)}}ou.ye=new ou;class ey{constructor(){this.ze=new kh}addToCollectionParentIndex(e,n){return this.ze.add(n),Pe.resolve()}getCollectionParents(e,n){return Pe.resolve(this.ze.getEntries(n))}addFieldIndex(e,n){return Pe.resolve()}deleteFieldIndex(e,n){return Pe.resolve()}getDocumentsMatchingTarget(e,n){return Pe.resolve(null)}getIndexType(e,n){return Pe.resolve(0)}getFieldIndexes(e,n){return Pe.resolve([])}getNextCollectionGroupToUpdate(e){return Pe.resolve(null)}getMinOffset(e,n){return Pe.resolve(Ni.min())}getMinOffsetFromCollectionGroup(e,n){return Pe.resolve(Ni.min())}updateCollectionGroup(e,n,o){return Pe.resolve()}updateIndexEntries(e,n){return Pe.resolve()}}class kh{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new m(Tn.comparator),l=!u.has(o);return this.index[n]=u.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new m(Tn.comparator)).toArray()}}new Uint8Array(0);class go{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new go(e,go.DEFAULT_COLLECTION_PERCENTILE,go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}go.DEFAULT_COLLECTION_PERCENTILE=10,go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,go.DEFAULT=new go(41943040,go.DEFAULT_COLLECTION_PERCENTILE,go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),go.DISABLED=new go(-1,0,0);class Nu{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new Nu(0)}static Rn(){return new Nu(-1)}}class rg{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Id{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.getBaseDocument(e,n,o))).next(u=>(null!==o&&Pa(o.mutation,u,O.empty(),lr.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,Mn()).next(()=>o))}getLocalViewOfDocuments(e,n,o=Mn()){const u=Tr();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(l=>{let f=rc();return l.forEach((I,R)=>{f=f.insert(I,R.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const o=Tr();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,Mn()))}populateOverlays(e,n,o){const u=[];return o.forEach(l=>{n.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((f,I)=>{n.set(f,I)})})}computeViews(e,n,o,u){let l=Ji();const f=gl(),I=gl();return n.forEach((R,P)=>{const $=o.get(P.key);u.has(P.key)&&(void 0===$||$.mutation instanceof sa)?l=l.insert(P.key,P):void 0!==$&&(f.set(P.key,$.mutation.getFieldMask()),Pa($.mutation,P,$.mutation.getFieldMask(),lr.now()))}),this.recalculateAndSaveOverlays(e,l).next(R=>(R.forEach((P,$)=>f.set(P,$)),n.forEach((P,$)=>{var te;return I.set(P,new rg($,null!==(te=f.get(P))&&void 0!==te?te:null))}),I))}recalculateAndSaveOverlays(e,n){const o=gl();let u=new dr((f,I)=>f-I),l=Mn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const I of f)I.keys().forEach(R=>{const P=n.get(R);if(null===P)return;let $=o.get(R)||O.empty();$=I.applyToLocalView(P,$),o.set(R,$);const te=(u.get(I.batchId)||Mn()).add(R);u=u.insert(I.batchId,te)})}).next(()=>{const f=[],I=u.getReverseIterator();for(;I.hasNext();){const R=I.getNext(),P=R.key,$=R.value,te=Sp();$.forEach(we=>{if(!l.has(we)){const qe=Zs(n.get(we),o.get(we));null!==qe&&te.set(we,qe),l=l.add(we)}}),f.push(this.documentOverlayCache.saveOverlays(e,P,te))}return Pe.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return _t.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function Ma(i){return null!==i.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var u}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(l=>{const f=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-l.size):Pe.resolve(Tr());let I=-1,R=l;return f.next(P=>Pe.forEach(P,($,te)=>(I<te.largestBatchId&&(I=te.largestBatchId),l.get($)?Pe.resolve():this.getBaseDocument(e,$,te).next(we=>{R=R.insert($,we)}))).next(()=>this.populateOverlays(e,P,l)).next(()=>this.computeViews(e,R,P,Mn())).next($=>({batchId:I,changes:Cp($)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _t(n)).next(o=>{let u=rc();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const u=n.collectionGroup;let l=rc();return this.indexManager.getCollectionParents(e,u).next(f=>Pe.forEach(f,I=>{const R=(P=n,$=I.child(u),new xa($,null,P.explicitOrderBy.slice(),P.filters.slice(),P.limit,P.limitType,P.startAt,P.endAt));var P,$;return this.getDocumentsMatchingCollectionQuery(e,R,o).next(P=>{P.forEach(($,te)=>{l=l.insert($,te)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,o){let u;return this.remoteDocumentCache.getAllFromCollection(e,n.path,o).next(l=>(u=l,this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId))).next(l=>{l.forEach((I,R)=>{const P=R.getKey();null===u.get(P)&&(u=u.insert(P,Et.newInvalidDocument(P)))});let f=rc();return u.forEach((I,R)=>{const P=l.get(I);void 0!==P&&Pa(P.mutation,R,O.empty(),lr.now()),nc(n,R)&&(f=f.insert(I,R))}),f})}getBaseDocument(e,n,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,n):Pe.resolve(Et.newInvalidDocument(n))}}class ig{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,n){return Pe.resolve(this.Jn.get(n))}saveBundleMetadata(e,n){var o;return this.Jn.set(n.id,{id:(o=n).id,version:o.version,createTime:Ti(o.createTime)}),Pe.resolve()}getNamedQuery(e,n){return Pe.resolve(this.Yn.get(n))}saveNamedQuery(e,n){return this.Yn.set(n.name,{name:(o=n).name,query:Mh(o.bundledQuery),readTime:Ti(o.readTime)}),Pe.resolve();var o}}class Lh{constructor(){this.overlays=new dr(_t.comparator),this.Xn=new Map}getOverlay(e,n){return Pe.resolve(this.overlays.get(n))}getOverlays(e,n){const o=Tr();return Pe.forEach(n,u=>this.getOverlay(e,u).next(l=>{null!==l&&o.set(u,l)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,l)=>{this.ie(e,n,l)}),Pe.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.Xn.get(o);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.Xn.delete(o)),Pe.resolve()}getOverlaysForCollection(e,n,o){const u=Tr(),l=n.length+1,f=new _t(n.child("")),I=this.overlays.getIteratorFrom(f);for(;I.hasNext();){const R=I.getNext().value,P=R.getKey();if(!n.isPrefixOf(P.path))break;P.path.length===l&&R.largestBatchId>o&&u.set(R.getKey(),R)}return Pe.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let l=new dr((P,$)=>P-$);const f=this.overlays.getIterator();for(;f.hasNext();){const P=f.getNext().value;if(P.getKey().getCollectionGroup()===n&&P.largestBatchId>o){let $=l.get(P.largestBatchId);null===$&&($=Tr(),l=l.insert(P.largestBatchId,$)),$.set(P.getKey(),P)}}const I=Tr(),R=l.getIterator();for(;R.hasNext()&&(R.getNext().value.forEach((P,$)=>I.set(P,$)),!(I.size()>=u)););return Pe.resolve(I)}ie(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const f=this.Xn.get(u.largestBatchId).delete(o.key);this.Xn.set(u.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new bl(n,o));let l=this.Xn.get(n);void 0===l&&(l=Mn(),this.Xn.set(n,l)),this.Xn.set(n,l.add(o.key))}}class Uh{constructor(){this.Zn=new m($i.ts),this.es=new m($i.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,n){const o=new $i(e,n);this.Zn=this.Zn.add(o),this.es=this.es.add(o)}ss(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.rs(new $i(e,n))}os(e,n){e.forEach(o=>this.removeReference(o,n))}us(e){const n=new _t(new Tn([])),o=new $i(n,e),u=new $i(n,e+1),l=[];return this.es.forEachInRange([o,u],f=>{this.rs(f),l.push(f.key)}),l}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const n=new _t(new Tn([])),o=new $i(n,e),u=new $i(n,e+1);let l=Mn();return this.es.forEachInRange([o,u],f=>{l=l.add(f.key)}),l}containsKey(e){const n=new $i(e,0),o=this.Zn.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class $i{constructor(e,n){this.key=e,this.ls=n}static ts(e,n){return _t.comparator(e.key,n.key)||rn(e.ls,n.ls)}static ns(e,n){return rn(e.ls,n.ls)||_t.comparator(e.key,n.key)}}class sg{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new m($i.ts)}checkEmpty(e){return Pe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const l=this.fs;this.fs++;const f=new Tl(l,n,o,u);this.mutationQueue.push(f);for(const I of u)this.ds=this.ds.add(new $i(I.key,l)),this.indexManager.addToCollectionParentIndex(e,I.key.path.popLast());return Pe.resolve(f)}lookupMutationBatch(e,n){return Pe.resolve(this._s(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.ws(n+1),l=u<0?0:u;return Pe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Pe.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return Pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new $i(n,0),u=new $i(n,Number.POSITIVE_INFINITY),l=[];return this.ds.forEachInRange([o,u],f=>{const I=this._s(f.ls);l.push(I)}),Pe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new m(rn);return n.forEach(u=>{const l=new $i(u,0),f=new $i(u,Number.POSITIVE_INFINITY);this.ds.forEachInRange([l,f],I=>{o=o.add(I.ls)})}),Pe.resolve(this.gs(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let l=o;_t.isDocumentKey(l)||(l=l.child(""));const f=new $i(new _t(l),0);let I=new m(rn);return this.ds.forEachWhile(R=>{const P=R.key.path;return!!o.isPrefixOf(P)&&(P.length===u&&(I=I.add(R.ls)),!0)},f),Pe.resolve(this.gs(I))}gs(e){const n=[];return e.forEach(o=>{const u=this._s(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){Zt(0===this.ys(n.batchId,"removed")),this.mutationQueue.shift();let o=this.ds;return Pe.forEach(n.mutations,u=>{const l=new $i(u.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.ds=o})}In(e){}containsKey(e,n){const o=new $i(n,0),u=this.ds.firstAfterOrEqual(o);return Pe.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return Pe.resolve()}ys(e,n){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const n=this.ws(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class og{constructor(e){this.ps=e,this.docs=new dr(_t.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),l=u?u.size:0,f=this.ps(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Pe.resolve(o?o.document.mutableCopy():Et.newInvalidDocument(n))}getEntries(e,n){let o=Ji();return n.forEach(u=>{const l=this.docs.get(u);o=o.insert(u,l?l.document.mutableCopy():Et.newInvalidDocument(u))}),Pe.resolve(o)}getAllFromCollection(e,n,o){let u=Ji();const l=new _t(n.child("")),f=this.docs.getIteratorFrom(l);for(;f.hasNext();){const{key:I,value:{document:R}}=f.getNext();if(!n.isPrefixOf(I.path))break;I.path.length>n.length+1||Ms(Bi(R),o)<=0||(u=u.insert(R.key,R.mutableCopy()))}return Pe.resolve(u)}getAllFromCollectionGroup(e,n,o,u){Ut()}Is(e,n){return Pe.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new hc(this)}getSize(e){return Pe.resolve(this.size)}}class hc extends class Xp{constructor(){this.changes=new Au(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Et.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?Pe.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.zn=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.zn.addEntry(e,u)):this.zn.removeEntry(o)}),Pe.waitFor(n)}getFromCache(e,n){return this.zn.getEntry(e,n)}getAllFromCache(e,n){return this.zn.getEntries(e,n)}}class ag{constructor(e){this.persistence=e,this.Ts=new Au(n=>Kt(n),gi),this.lastRemoteSnapshotVersion=Yt.min(),this.highestTargetId=0,this.Es=0,this.As=new Uh,this.targetCount=0,this.Rs=Nu.An()}forEachTarget(e,n){return this.Ts.forEach((o,u)=>n(u)),Pe.resolve()}getLastRemoteSnapshotVersion(e){return Pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pe.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Es&&(this.Es=n),Pe.resolve()}vn(e){this.Ts.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Rs=new Nu(n),this.highestTargetId=n),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,n){return this.vn(n),this.targetCount+=1,Pe.resolve()}updateTargetData(e,n){return this.vn(n),Pe.resolve()}removeTargetData(e,n){return this.Ts.delete(n.target),this.As.us(n.targetId),this.targetCount-=1,Pe.resolve()}removeTargets(e,n,o){let u=0;const l=[];return this.Ts.forEach((f,I)=>{I.sequenceNumber<=n&&null===o.get(I.targetId)&&(this.Ts.delete(f),l.push(this.removeMatchingKeysForTargetId(e,I.targetId)),u++)}),Pe.waitFor(l).next(()=>u)}getTargetCount(e){return Pe.resolve(this.targetCount)}getTargetData(e,n){const o=this.Ts.get(n)||null;return Pe.resolve(o)}addMatchingKeys(e,n,o){return this.As.ss(n,o),Pe.resolve()}removeMatchingKeys(e,n,o){this.As.os(n,o);const u=this.persistence.referenceDelegate,l=[];return u&&n.forEach(f=>{l.push(u.markPotentiallyOrphaned(e,f))}),Pe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.As.us(n),Pe.resolve()}getMatchingKeysForTargetId(e,n){const o=this.As.hs(n);return Pe.resolve(o)}containsKey(e,n){return Pe.resolve(this.As.containsKey(n))}}class Vh{constructor(e,n){this.bs={},this.overlays={},this.Ps=new vi(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new ag(this),this.indexManager=new ey,this.remoteDocumentCache=new og(o=>this.referenceDelegate.Ss(o)),this.wt=new jp(n),this.Ds=new ig(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Lh,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.bs[e.toKey()];return o||(o=new sg(n,this.referenceDelegate),this.bs[e.toKey()]=o),o}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,n,o){ut("MemoryPersistence","Starting transaction:",e);const u=new oy(this.Ps.next());return this.referenceDelegate.Cs(),o(u).next(l=>this.referenceDelegate.xs(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Ns(e,n){return Pe.or(Object.values(this.bs).map(o=>()=>o.containsKey(e,n)))}}class oy extends class Ja{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Bh{constructor(e){this.persistence=e,this.ks=new Uh,this.Ms=null}static Os(e){return new Bh(e)}get Fs(){if(this.Ms)return this.Ms;throw Ut()}addReference(e,n,o){return this.ks.addReference(o,n),this.Fs.delete(o.toString()),Pe.resolve()}removeReference(e,n,o){return this.ks.removeReference(o,n),this.Fs.add(o.toString()),Pe.resolve()}markPotentiallyOrphaned(e,n){return this.Fs.add(n.toString()),Pe.resolve()}removeTarget(e,n){this.ks.us(n.targetId).forEach(u=>this.Fs.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(l=>this.Fs.add(l.toString()))}).next(()=>o.removeTargetData(e,n))}Cs(){this.Ms=new Set}xs(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pe.forEach(this.Fs,o=>{const u=_t.fromPath(o);return this.$s(e,u).next(l=>{l||n.removeEntry(u,Yt.min())})}).next(()=>(this.Ms=null,n.apply(e)))}updateLimboDocument(e,n){return this.$s(e,n).next(o=>{o?this.Fs.delete(n.toString()):this.Fs.add(n.toString())})}Ss(e){return 0}$s(e,n){return Pe.or([()=>Pe.resolve(this.ks.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ns(e,n)])}}class Gc{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Pi=o,this.vi=u}static Vi(e,n){let o=Mn(),u=Mn();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new Gc(e,n.fromCache,o,u)}}class Rl{constructor(){this.Si=!1}initialize(e,n){this.Di=e,this.indexManager=n,this.Si=!0}getDocumentsMatchingQuery(e,n,o,u){return this.Ci(e,n).next(l=>l||this.xi(e,n,u,o)).next(l=>l||this.Ni(e,n))}Ci(e,n){if(hl(n))return Pe.resolve(null);let o=ps(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=tc(n,null,"F"),o=ps(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const f=Mn(...l);return this.Di.getDocuments(e,f).next(I=>this.indexManager.getMinOffset(e,o).next(R=>{const P=this.ki(n,I);return this.Mi(n,P,f,R.readTime)?this.Ci(e,tc(n,null,"F")):this.Oi(e,P,n,R)}))})))}xi(e,n,o,u){return hl(n)||u.isEqual(Yt.min())?this.Ni(e,n):this.Di.getDocuments(e,o).next(l=>{const f=this.ki(n,l);return this.Mi(n,f,o,u)?this.Ni(e,n):(Ro()<=ie.in.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),fl(n)),this.Oi(e,f,n,function co(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Yt.fromTimestamp(1e9===o?new lr(n+1,0):new lr(n,o));return new Ni(u,_t.empty(),e)}(u,-1)))})}ki(e,n){let o=new m(Sc(e));return n.forEach((u,l)=>{nc(e,l)&&(o=o.add(l))}),o}Mi(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const l="F"===e.limitType?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Ni(e,n){return Ro()<=ie.in.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",fl(n)),this.Di.getDocumentsMatchingQuery(e,n,Ni.min())}Oi(e,n,o,u){return this.Di.getDocumentsMatchingQuery(e,o,u).next(l=>(n.forEach(f=>{l=l.insert(f.key,f)}),l))}}class cg{constructor(e,n,o,u){this.persistence=e,this.Fi=n,this.wt=u,this.$i=new dr(rn),this.Bi=new Au(l=>Kt(l),gi),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(o)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Id(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.$i))}}function jh(i,e){return Nl.apply(this,arguments)}function Nl(){return Nl=(0,Ee.Z)(function*(i,e){const n=yt(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(l=>(u=l,n.qi(e),n.mutationQueue.getAllMutationBatches(o))).next(l=>{const f=[],I=[];let R=Mn();for(const P of u){f.push(P.batchId);for(const $ of P.mutations)R=R.add($.key)}for(const P of l){I.push(P.batchId);for(const $ of P.mutations)R=R.add($.key)}return n.localDocuments.getDocuments(o,R).next(P=>({Ki:P,removedBatchIds:f,addedBatchIds:I}))})})}),Nl.apply(this,arguments)}function Pl(i,e){const n=yt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),l=n.Ui.newChangeBuffer({trackRemovals:!0});return function(f,I,R,P){const $=R.batch,te=$.keys();let we=Pe.resolve();return te.forEach(qe=>{we=we.next(()=>P.getEntry(I,qe)).next(nt=>{const At=R.docVersions.get(qe);Zt(null!==At),nt.version.compareTo(At)<0&&($.applyToRemoteDocument(nt,R),nt.isValidDocument()&&(nt.setReadTime(R.commitVersion),P.addEntry(nt)))})}),we.next(()=>f.mutationQueue.removeMutationBatch(I,$))}(n,o,e,l).next(()=>l.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(f){let I=Mn();for(let R=0;R<f.mutationResults.length;++R)f.mutationResults[R].transformResults.length>0&&(I=I.add(f.batch.mutations[R].key));return I}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}function lg(i){const e=yt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Vs.getLastRemoteSnapshotVersion(n))}function dg(i,e){const n=yt(i),o=e.snapshotVersion;let u=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=n.Ui.newChangeBuffer({trackRemovals:!0});u=n.$i;const I=[];e.targetChanges.forEach(($,te)=>{const we=u.get(te);if(!we)return;I.push(n.Vs.removeMatchingKeys(l,$.removedDocuments,te).next(()=>n.Vs.addMatchingKeys(l,$.addedDocuments,te)));let qe=we.withSequenceNumber(l.currentSequenceNumber);var nt,At,Qt;e.targetMismatches.has(te)?qe=qe.withResumeToken(Y.EMPTY_BYTE_STRING,Yt.min()).withLastLimboFreeSnapshotVersion(Yt.min()):$.resumeToken.approximateByteSize()>0&&(qe=qe.withResumeToken($.resumeToken,o)),u=u.insert(te,qe),At=qe,Qt=$,(0===(nt=we).resumeToken.approximateByteSize()||At.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=3e8||Qt.addedDocuments.size+Qt.modifiedDocuments.size+Qt.removedDocuments.size>0)&&I.push(n.Vs.updateTargetData(l,qe))});let R=Ji(),P=Mn();if(e.documentUpdates.forEach($=>{e.resolvedLimboDocuments.has($)&&I.push(n.persistence.referenceDelegate.updateLimboDocument(l,$))}),I.push(function hg(i,e,n){let o=Mn(),u=Mn();return n.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let f=Ji();return n.forEach((I,R)=>{const P=l.get(I);R.isFoundDocument()!==P.isFoundDocument()&&(u=u.add(I)),R.isNoDocument()&&R.version.isEqual(Yt.min())?(e.removeEntry(I,R.readTime),f=f.insert(I,R)):!P.isValidDocument()||R.version.compareTo(P.version)>0||0===R.version.compareTo(P.version)&&P.hasPendingWrites?(e.addEntry(R),f=f.insert(I,R)):ut("LocalStore","Ignoring outdated watch update for ",I,". Current version:",P.version," Watch version:",R.version)}),{Gi:f,Qi:u}})}(l,f,e.documentUpdates).next($=>{R=$.Gi,P=$.Qi})),!o.isEqual(Yt.min())){const $=n.Vs.getLastRemoteSnapshotVersion(l).next(te=>n.Vs.setTargetsMetadata(l,l.currentSequenceNumber,o));I.push($)}return Pe.waitFor(I).next(()=>f.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,R,P)).next(()=>R)}).then(l=>(n.$i=u,l))}function ay(i,e){const n=yt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function fc(i,e){const n=yt(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.Vs.getTargetData(o,e).next(l=>l?(u=l,Pe.resolve(u)):n.Vs.allocateTargetId(o).next(f=>(u=new Lo(e,f,0,o.currentSequenceNumber),n.Vs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.$i.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.$i=n.$i.insert(o.targetId,o),n.Bi.set(e,o.targetId)),o})}function Pu(i,e,n){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,Ee.Z)(function*(i,e,n){const o=yt(i),u=o.$i.get(e),l=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",l,f=>o.persistence.referenceDelegate.removeTarget(f,u)))}catch(f){if(!Qi(f))throw f;ut("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.$i=o.$i.remove(e),o.Bi.delete(u.target)}),Sd.apply(this,arguments)}function $h(i,e,n){const o=yt(i);let u=Yt.min(),l=Mn();return o.persistence.runTransaction("Execute query","readonly",f=>function(I,R,P){const $=yt(I),te=$.Bi.get(P);return void 0!==te?Pe.resolve($.$i.get(te)):$.Vs.getTargetData(R,P)}(o,f,ps(e)).next(I=>{if(I)return u=I.lastLimboFreeSnapshotVersion,o.Vs.getMatchingKeysForTargetId(f,I.targetId).next(R=>{l=R})}).next(()=>o.Fi.getDocumentsMatchingQuery(f,e,n?u:Yt.min(),n?l:Mn())).next(I=>(function Gh(i,e,n){let o=Yt.min();n.forEach((u,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),i.Li.set(e,o)}(o,function od(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),I),{documents:I,ji:l})))}class Yh{constructor(){this.activeTargetIds=dd()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class In{constructor(){this.Fr=new Yh,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,n,o){this.$r[e]=n}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new Yh,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gg{Br(e){}shutdown(){}}class Jh{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){ut("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){ut("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const mg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class cy{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class ly extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,n,o,u,l){const f=this.oo(e,n);ut("RestConnection","Sending: ",f,o);const I={};return this.uo(I,u,l),this.co(e,f,I,o).then(R=>(ut("RestConnection","Received: ",R),R),R=>{throw oo("RestConnection",`${e} failed with error: `,R,"url: ",f,"request:",o),R})}ao(e,n,o,u,l,f){return this.ro(e,n,o,u,l)}uo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+ei,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,l)=>e[l]=u),o&&o.headers.forEach((u,l)=>e[l]=u)}oo(e,n){return`${this.so}/v1/${n}:${mg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,n,o,u){return new Promise((l,f)=>{const I=new Zu;I.listenOnce(io.COMPLETE,()=>{try{switch(I.getLastErrorCode()){case Vi.NO_ERROR:const P=I.getResponseJson();ut("Connection","XHR received:",JSON.stringify(P)),l(P);break;case Vi.TIMEOUT:ut("Connection",'RPC "'+e+'" timed out'),f(new ct(Fe.DEADLINE_EXCEEDED,"Request time out"));break;case Vi.HTTP_ERROR:const $=I.getStatus();if(ut("Connection",'RPC "'+e+'" failed with status:',$,"response text:",I.getResponseText()),$>0){const te=I.getResponseJson().error;if(te&&te.status&&te.message){const we=function(qe){const nt=qe.toLowerCase().replace(/_/g,"-");return Object.values(Fe).indexOf(nt)>=0?nt:Fe.UNKNOWN}(te.status);f(new ct(we,te.message))}else f(new ct(Fe.UNKNOWN,"Server responded with status "+I.getStatus()))}else f(new ct(Fe.UNAVAILABLE,"Connection failed."));break;default:Ut()}}finally{ut("Connection",'RPC "'+e+'" completed.')}});const R=JSON.stringify(u);I.send(n,"POST",R,o,15)})}ho(e,n,o){const u=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=qa(),f=qu(),I={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(I.xmlHttpFactory=new Gs({})),this.uo(I.initMessageHeaders,n,o),(0,se.uI)()||(0,se.b$)()||(0,se.d)()||(0,se.w1)()||(0,se.Mn)()||(0,se.ru)()||(I.httpHeadersOverwriteParam="$httpHeaders");const R=u.join("");ut("Connection","Creating WebChannel: "+R,I);const P=l.createWebChannel(R,I);let $=!1,te=!1;const we=new cy({jr:nt=>{te?ut("Connection","Not sending because WebChannel is closed:",nt):($||(ut("Connection","Opening WebChannel transport."),P.open(),$=!0),ut("Connection","WebChannel sending:",nt),P.send(nt))},Wr:()=>P.close()}),qe=(nt,At,Qt)=>{nt.listen(At,tr=>{try{Qt(tr)}catch(Ar){setTimeout(()=>{throw Ar},0)}})};return qe(P,so.EventType.OPEN,()=>{te||ut("Connection","WebChannel transport opened.")}),qe(P,so.EventType.CLOSE,()=>{te||(te=!0,ut("Connection","WebChannel transport closed"),we.eo())}),qe(P,so.EventType.ERROR,nt=>{te||(te=!0,oo("Connection","WebChannel transport errored:",nt),we.eo(new ct(Fe.UNAVAILABLE,"The operation could not be completed")))}),qe(P,so.EventType.MESSAGE,nt=>{var At;if(!te){const Qt=nt.data[0];Zt(!!Qt);const tr=Qt,Ar=tr.error||(null===(At=tr[0])||void 0===At?void 0:At.error);if(Ar){ut("Connection","WebChannel received error:",Ar);const Ur=Ar.status;let bi=function(xr){const es=wi[xr];if(void 0!==es)return Dp(es)}(Ur),zr=Ar.message;void 0===bi&&(bi=Fe.INTERNAL,zr="Unknown error status: "+Ur+" with message "+Ar.message),te=!0,we.eo(new ct(bi,zr)),P.close()}else ut("Connection","WebChannel received:",Qt),we.no(Qt)}}),qe(f,vu.STAT_EVENT,nt=>{nt.stat===Zo.PROXY?ut("Connection","Detected buffering proxy"):nt.stat===Zo.NOPROXY&&ut("Connection","Detected no buffering proxy")}),setTimeout(()=>{we.Zr()},0),we}}function xd(){return typeof document<"u"?document:null}function zc(i){return new Mp(i,!0)}class ef{constructor(e,n,o=1e3,u=1.5,l=6e4){this.js=e,this.timerId=n,this.lo=o,this.fo=u,this._o=l,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const n=Math.floor(this.wo+this.To()),o=Math.max(0,Date.now()-this.yo),u=Math.max(0,n-o);u>0&&ut("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.wo} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,u,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class yg{constructor(e,n,o,u,l,f,I,R){this.js=e,this.Ao=o,this.Ro=u,this.bo=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=I,this.listener=R,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new ef(e,n)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,Ee.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,Ee.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,n){var o=this;return(0,Ee.Z)(function*(){o.Fo(),o.$o(),o.So.cancel(),o.Po++,4!==e?o.So.reset():n&&n.code===Fe.RESOURCE_EXHAUSTED?(mr(n.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),o.So.po()):n&&n.code===Fe.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Bo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Jr(n)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Po===n&&this.Uo(o,u)},o=>{e(()=>{const u=new ct(Fe.UNKNOWN,"Fetching auth token failed: "+o.message);return this.qo(u)})})}Uo(e,n){const o=this.Lo(this.Po);this.stream=this.Ko(e,n),this.stream.zr(()=>{o(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(u=>{o(()=>this.qo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}xo(){var e=this;this.state=5,this.So.Io((0,Ee.Z)(function*(){e.state=0,e.start()}))}qo(e){return ut("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return n=>{this.js.enqueueAndForget(()=>this.Po===e?n():(ut("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class h_ extends yg{constructor(e,n,o,u,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,f),this.wt=l}Ko(e,n){return this.bo.ho("Listen",e,n)}onMessage(e){this.So.reset();const n=function Eh(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(R=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===R?1:"REMOVE"===R?2:"CURRENT"===R?3:"RESET"===R?4:Ut(),u=e.targetChange.targetIds||[],l=function(R,P){return R.dt?(Zt(void 0===P||"string"==typeof P),Y.fromBase64String(P||"")):(Zt(void 0===P||P instanceof Uint8Array),Y.fromUint8Array(P||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,I=f&&function(R){const P=void 0===R.code?Fe.UNKNOWN:Dp(R.code);return new ct(P,R.message||"")}(f);n=new Rc(o,u,l,I||null)}else if("documentChange"in e){const o=e.documentChange,u=ka(i,o.document.name),l=Ti(o.document.updateTime),f=new Ge({mapValue:{fields:o.document.fields}}),I=Et.newFoundDocument(u,l,f);n=new vh(o.targetIds||[],o.removedTargetIds||[],I.key,I)}else if("documentDelete"in e){const o=e.documentDelete,u=ka(i,o.document),l=o.readTime?Ti(o.readTime):Yt.min(),f=Et.newNoDocument(u,l);n=new vh([],o.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const o=e.documentRemove,u=ka(i,o.document);n=new vh([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Ut();{const o=e.filter,l=new r_(o.count||0);n=new Fm(o.targetId,l)}}var R;return n}(this.wt,e),o=function(u){if(!("targetChange"in u))return Yt.min();const l=u.targetChange;return l.targetIds&&l.targetIds.length?Yt.min():l.readTime?Ti(l.readTime):Yt.min()}(e);return this.listener.Go(n,o)}Qo(e){const n={};n.database=wl(this.wt),n.addTarget=function(u,l){let f;const I=l.target;return f=fo(I)?{documents:sc(u,I)}:{query:Pp(u,I)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?f.resumeToken=Um(u,l.resumeToken):l.snapshotVersion.compareTo(Yt.min())>0&&(f.readTime=ic(u,l.snapshotVersion.toTimestamp())),f}(this.wt,e);const o=function Bm(i,e){const n=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ut()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Oo(n)}jo(e){const n={};n.database=wl(this.wt),n.removeTarget=e,this.Oo(n)}}class vg extends yg{constructor(e,n,o,u,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,f),this.wt=l,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,n){return this.bo.ho("Write",e,n)}onMessage(e){if(Zt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const n=function Np(i,e){return i&&i.length>0?(Zt(void 0!==e),i.map(n=>function(o,u){let l=Ti(o.updateTime?o.updateTime:u);return l.isEqual(Yt.min())&&(l=Ti(u)),new ru(l,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=Ti(e.commitTime);return this.listener.Jo(o,n)}return Zt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=wl(this.wt),this.Oo(e)}Ho(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function El(i,e){let n;if(e instanceof su)n={update:Il(i,e.key,e.value)};else if(e instanceof Su)n={delete:oa(i,e.key)};else if(e instanceof sa)n={update:Il(i,e.key,e.data),updateMask:$m(e.fieldMask)};else{if(!(e instanceof Ip))return Ut();n={verify:oa(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,l){const f=l.transform;if(f instanceof E)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof L)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Se)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Tt)return{fieldPath:l.field.canonicalString(),increment:f._t};throw Ut()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Vm(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Ut()),n;var u}(this.wt,o))};this.Oo(n)}}class _g extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=o,this.wt=u,this.Zo=!1}tu(){if(this.Zo)throw new ct(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,n,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.bo.ro(e,n,o,u,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(Fe.UNKNOWN,u.toString())})}ao(e,n,o,u){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.bo.ao(e,n,o,l,f,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ct(Fe.UNKNOWN,l.toString())})}terminate(){this.Zo=!0}}class pc{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(mr(n),this.su=!1):ut("OnlineStateTracker",n)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class dy{constructor(e,n,o,u,l){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=l,this.du.Br(I=>{o.enqueueAndForget((0,Ee.Z)(function*(){var R;mo(f)&&(ut("RemoteStore","Restarting streams for network reachability change."),yield(R=(0,Ee.Z)(function*(P){const $=yt(P);$.lu.add(4),yield Wc($),$._u.set("Unknown"),$.lu.delete(4),yield gc($)}),function(P){return R.apply(this,arguments)})(f))}))}),this._u=new pc(o,u)}}function gc(i){return Fl.apply(this,arguments)}function Fl(){return Fl=(0,Ee.Z)(function*(i){if(mo(i))for(const e of i.fu)yield e(!0)}),Fl.apply(this,arguments)}function Wc(i){return wg.apply(this,arguments)}function wg(){return wg=(0,Ee.Z)(function*(i){for(const e of i.fu)yield e(!1)}),wg.apply(this,arguments)}function tf(i,e){const n=yt(i);n.hu.has(e.targetId)||(n.hu.set(e.targetId,e),sf(n)?Ig(n):Ou(n).Co()&&nf(n,e))}function Md(i,e){const n=yt(i),o=Ou(n);n.hu.delete(e),o.Co()&&rf(n,e),0===n.hu.size&&(o.Co()?o.ko():mo(n)&&n._u.set("Unknown"))}function nf(i,e){i.wu.Nt(e.targetId),Ou(i).Qo(e)}function rf(i,e){i.wu.Nt(e),Ou(i).jo(e)}function Ig(i){i.wu=new Ap({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),te:e=>i.hu.get(e)||null}),Ou(i).start(),i._u.iu()}function sf(i){return mo(i)&&!Ou(i).Do()&&i.hu.size>0}function mo(i){return 0===yt(i).lu.size}function Eg(i){i.wu=void 0}function Dg(i){return Kc.apply(this,arguments)}function Kc(){return Kc=(0,Ee.Z)(function*(i){i.hu.forEach((e,n)=>{nf(i,e)})}),Kc.apply(this,arguments)}function hy(i,e){return Rd.apply(this,arguments)}function Rd(){return Rd=(0,Ee.Z)(function*(i,e){Eg(i),sf(i)?(i._u.uu(e),Ig(i)):i._u.set("Unknown")}),Rd.apply(this,arguments)}function fy(i,e,n){return af.apply(this,arguments)}function af(){return af=(0,Ee.Z)(function*(i,e,n){if(i._u.set("Online"),e instanceof Rc&&2===e.state&&e.cause)try{yield(o=(0,Ee.Z)(function*(u,l){const f=l.cause;for(const I of l.targetIds)u.hu.has(I)&&(yield u.remoteSyncer.rejectListen(I,f),u.hu.delete(I),u.wu.removeTarget(I))}),function(u,l){return o.apply(this,arguments)})(i,e)}catch(o){ut("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Nd(i,o)}else if(e instanceof vh?i.wu.Ut(e):e instanceof Fm?i.wu.zt(e):i.wu.Gt(e),!n.isEqual(Yt.min()))try{const o=yield lg(i.localStore);n.compareTo(o)>=0&&(yield function(u,l){const f=u.wu.Yt(l);return f.targetChanges.forEach((I,R)=>{if(I.resumeToken.approximateByteSize()>0){const P=u.hu.get(R);P&&u.hu.set(R,P.withResumeToken(I.resumeToken,l))}}),f.targetMismatches.forEach(I=>{const R=u.hu.get(I);if(!R)return;u.hu.set(I,R.withResumeToken(Y.EMPTY_BYTE_STRING,R.snapshotVersion)),rf(u,I);const P=new Lo(R.target,I,1,R.sequenceNumber);nf(u,P)}),u.remoteSyncer.applyRemoteEvent(f)}(i,n))}catch(o){ut("RemoteStore","Failed to raise snapshot:",o),yield Nd(i,o)}var o}),af.apply(this,arguments)}function Nd(i,e,n){return uf.apply(this,arguments)}function uf(){return uf=(0,Ee.Z)(function*(i,e,n){if(!Qi(e))throw e;i.lu.add(1),yield Wc(i),i._u.set("Offline"),n||(n=()=>lg(i.localStore)),i.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){ut("RemoteStore","Retrying IndexedDB access"),yield n(),i.lu.delete(1),yield gc(i)}))}),uf.apply(this,arguments)}function Tg(i,e){return e().catch(n=>Nd(i,n,e))}function mc(i){return cf.apply(this,arguments)}function cf(){return cf=(0,Ee.Z)(function*(i){const e=yt(i),n=cu(e);let o=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;bg(e);)try{const u=yield ay(e.localStore,o);if(null===u){0===e.au.length&&n.ko();break}o=u.batchId,Cg(e,u)}catch(u){yield Nd(e,u)}Pd(e)&&py(e)}),cf.apply(this,arguments)}function bg(i){return mo(i)&&i.au.length<10}function Cg(i,e){i.au.push(e);const n=cu(i);n.Co()&&n.zo&&n.Ho(e.mutations)}function Pd(i){return mo(i)&&!cu(i).Do()&&i.au.length>0}function py(i){cu(i).start()}function lf(i){return df.apply(this,arguments)}function df(){return df=(0,Ee.Z)(function*(i){cu(i).Xo()}),df.apply(this,arguments)}function f_(i){return ku.apply(this,arguments)}function ku(){return ku=(0,Ee.Z)(function*(i){const e=cu(i);for(const n of i.au)e.Ho(n.mutations)}),ku.apply(this,arguments)}function Sg(i,e,n){return kd.apply(this,arguments)}function kd(){return kd=(0,Ee.Z)(function*(i,e,n){const o=i.au.shift(),u=xh.from(o,e,n);yield Tg(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield mc(i)}),kd.apply(this,arguments)}function Od(i,e){return yo.apply(this,arguments)}function yo(){return yo=(0,Ee.Z)(function*(i,e){var n;e&&cu(i).zo&&(yield(n=(0,Ee.Z)(function*(o,u){if(Ep(l=u.code)&&l!==Fe.ABORTED){const f=o.au.shift();cu(o).No(),yield Tg(o,()=>o.remoteSyncer.rejectFailedWrite(f.batchId,u)),yield mc(o)}var l}),function(o,u){return n.apply(this,arguments)})(i,e)),Pd(i)&&py(i)}),yo.apply(this,arguments)}function hf(i,e){return ff.apply(this,arguments)}function ff(){return ff=(0,Ee.Z)(function*(i,e){const n=yt(i);n.asyncQueue.verifyOperationInProgress(),ut("RemoteStore","RemoteStore received new credentials");const o=mo(n);n.lu.add(3),yield Wc(n),o&&n._u.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.lu.delete(3),yield gc(n)}),ff.apply(this,arguments)}function ca(){return ca=(0,Ee.Z)(function*(i,e){const n=yt(i);e?(n.lu.delete(2),yield gc(n)):e||(n.lu.add(2),yield Wc(n),n._u.set("Unknown"))}),ca.apply(this,arguments)}function Ou(i){return i.mu||(i.mu=function(e,n,o){const u=yt(e);return u.tu(),new h_(n,u.bo,u.authCredentials,u.appCheckCredentials,u.wt,o)}(i.datastore,i.asyncQueue,{zr:Dg.bind(null,i),Jr:hy.bind(null,i),Go:fy.bind(null,i)}),i.fu.push(function(){var e=(0,Ee.Z)(function*(n){n?(i.mu.No(),sf(i)?Ig(i):i._u.set("Unknown")):(yield i.mu.stop(),Eg(i))});return function(n){return e.apply(this,arguments)}}())),i.mu}function cu(i){return i.gu||(i.gu=function(e,n,o){const u=yt(e);return u.tu(),new vg(n,u.bo,u.authCredentials,u.appCheckCredentials,u.wt,o)}(i.datastore,i.asyncQueue,{zr:lf.bind(null,i),Jr:Od.bind(null,i),Yo:f_.bind(null,i),Jo:Sg.bind(null,i)}),i.fu.push(function(){var e=(0,Ee.Z)(function*(n){n?(i.gu.No(),yield mc(i)):(yield i.gu.stop(),i.au.length>0&&(ut("RemoteStore",`Stopping write stream with ${i.au.length} pending writes`),i.au=[]))});return function(n){return e.apply(this,arguments)}}())),i.gu}class Ul{constructor(e,n,o,u,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=l,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,n,o,u,l){const f=Date.now()+o,I=new Ul(e,n,f,u,l);return I.start(o),I}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ct(Fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vl(i,e){if(mr("AsyncQueue",`${e}: ${i}`),Qi(i))return new ct(Fe.UNAVAILABLE,`${e}: ${i}`);throw i}class yc{constructor(e){this.comparator=e?(n,o)=>e(n,o)||_t.comparator(n.key,o.key):(n,o)=>_t.comparator(n.key,o.key),this.keyedMap=rc(),this.sortedSet=new dr(this.comparator)}static emptySet(e){return new yc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new yc;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class gy{constructor(){this.yu=new dr(_t.comparator)}track(e){const n=e.doc.key,o=this.yu.get(n);o?0!==e.type&&3===o.type?this.yu=this.yu.insert(n,e):3===e.type&&1!==o.type?this.yu=this.yu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.yu=this.yu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.yu=this.yu.remove(n):1===e.type&&2===o.type?this.yu=this.yu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):Ut():this.yu=this.yu.insert(n,e)}pu(){const e=[];return this.yu.inorderTraversal((n,o)=>{e.push(o)}),e}}class lu{constructor(e,n,o,u,l,f,I,R){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=I,this.excludesMetadataChanges=R}static fromInitialDocuments(e,n,o,u){const l=[];return n.forEach(f=>{l.push({type:0,doc:f})}),new lu(e,n,yc.emptySet(n),l,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ra(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class Fd{constructor(){this.Iu=void 0,this.listeners=[]}}class pf{constructor(){this.queries=new Au(e=>Cc(e),Ra),this.onlineState="Unknown",this.Tu=new Set}}function jl(){return jl=(0,Ee.Z)(function*(i,e){const n=yt(i),o=e.query;let u=!1,l=n.queries.get(o);if(l||(u=!0,l=new Fd),u)try{l.Iu=yield n.onListen(o)}catch(f){const I=Vl(f,`Initialization of query '${fl(e.query)}' failed`);return void e.onError(I)}n.queries.set(o,l),l.listeners.push(e),e.Eu(n.onlineState),l.Iu&&e.Au(l.Iu)&&mf(n)}),jl.apply(this,arguments)}function gf(){return gf=(0,Ee.Z)(function*(i,e){const n=yt(i),o=e.query;let u=!1;const l=n.queries.get(o);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),u=0===l.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),gf.apply(this,arguments)}function my(i,e){const n=yt(i);let o=!1;for(const u of e){const f=n.queries.get(u.query);if(f){for(const I of f.listeners)I.Au(u)&&(o=!0);f.Iu=u}}o&&mf(n)}function yy(i,e,n){const o=yt(i),u=o.queries.get(e);if(u)for(const l of u.listeners)l.onError(n);o.queries.delete(e)}function mf(i){i.Tu.forEach(e=>{e.next()})}class Ld{constructor(e,n,o){this.query=e,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=o||{}}Au(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new lu(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),n=!0):this.Vu(e,this.onlineState)&&(this.Su(e),n=!0),this.Pu=e,n}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let n=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),n=!0),n}Vu(e,n){return!e.fromCache||!(this.options.Du&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=lu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class vf{constructor(e){this.key=e}}class Mg{constructor(e){this.key=e}}class Ud{constructor(e,n){this.query=e,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Mn(),this.mutatedKeys=Mn(),this.Lu=Sc(e),this.Uu=new yc(this.Lu)}get qu(){return this.Fu}Ku(e,n){const o=n?n.Gu:new gy,u=n?n.Uu:this.Uu;let l=n?n.mutatedKeys:this.mutatedKeys,f=u,I=!1;const R="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,P="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(($,te)=>{const we=u.get($),qe=nc(this.query,te)?te:null,nt=!!we&&this.mutatedKeys.has(we.key),At=!!qe&&(qe.hasLocalMutations||this.mutatedKeys.has(qe.key)&&qe.hasCommittedMutations);let Qt=!1;we&&qe?we.data.isEqual(qe.data)?nt!==At&&(o.track({type:3,doc:qe}),Qt=!0):this.Qu(we,qe)||(o.track({type:2,doc:qe}),Qt=!0,(R&&this.Lu(qe,R)>0||P&&this.Lu(qe,P)<0)&&(I=!0)):!we&&qe?(o.track({type:0,doc:qe}),Qt=!0):we&&!qe&&(o.track({type:1,doc:we}),Qt=!0,(R||P)&&(I=!0)),Qt&&(qe?(f=f.add(qe),l=At?l.add($):l.delete($)):(f=f.delete($),l=l.delete($)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const $="F"===this.query.limitType?f.last():f.first();f=f.delete($.key),l=l.delete($.key),o.track({type:1,doc:$})}return{Uu:f,Gu:o,Mi:I,mutatedKeys:l}}Qu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const l=e.Gu.pu();l.sort((P,$)=>function(te,we){const qe=nt=>{switch(nt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ut()}};return qe(te)-qe(we)}(P.type,$.type)||this.Lu(P.doc,$.doc)),this.ju(o);const f=n?this.Wu():[],I=0===this.Bu.size&&this.current?1:0,R=I!==this.$u;return this.$u=I,0!==l.length||R?{snapshot:new lu(this.query,e.Uu,u,l,e.mutatedKeys,0===I,R,!1),zu:f}:{zu:f}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new gy,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(n=>this.Fu=this.Fu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Fu=this.Fu.delete(n)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Mn(),this.Uu.forEach(o=>{this.Hu(o.key)&&(this.Bu=this.Bu.add(o.key))});const n=[];return e.forEach(o=>{this.Bu.has(o)||n.push(new Mg(o))}),this.Bu.forEach(o=>{e.has(o)||n.push(new vf(o))}),n}Ju(e){this.Fu=e.ji,this.Bu=Mn();const n=this.Ku(e.documents);return this.applyChanges(n,!0)}Yu(){return lu.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class m_{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class y_{constructor(e){this.key=e,this.Xu=!1}}class v_{constructor(e,n,o,u,l,f){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.Zu={},this.tc=new Au(I=>Cc(I),Ra),this.ec=new Map,this.nc=new Set,this.sc=new dr(_t.comparator),this.ic=new Map,this.rc=new Uh,this.oc={},this.uc=new Map,this.cc=Nu.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function __(i,e){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,Ee.Z)(function*(i,e){const n=Bg(i);let o,u;const l=n.tc.get(e);if(l)o=l.targetId,n.sharedClientState.addLocalQueryTarget(o),u=l.view.Yu();else{const f=yield fc(n.localStore,ps(e));n.isPrimaryClient&&tf(n.remoteStore,f);const I=n.sharedClientState.addLocalQueryTarget(f.targetId);o=f.targetId,u=yield Ng(n,e,o,"current"===I)}return u}),Rg.apply(this,arguments)}function Ng(i,e,n,o){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,Ee.Z)(function*(i,e,n,o){i.hc=($,te,we)=>{return(qe=(0,Ee.Z)(function*(nt,At,Qt,tr){let Ar=At.view.Ku(Qt);Ar.Mi&&(Ar=yield $h(nt.localStore,At.query,!1).then(({documents:zr})=>At.view.Ku(zr,Ar)));const Ur=tr&&tr.targetChanges.get(At.targetId),bi=At.view.applyChanges(Ar,nt.isPrimaryClient,Ur);return Zc(nt,At.targetId,bi.zu),bi.snapshot}),function(nt,At,Qt,tr){return qe.apply(this,arguments)})(i,$,te,we);var qe};const u=yield $h(i.localStore,e,!0),l=new Ud(e,u.ji),f=l.Ku(u.documents),I=yl.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState),R=l.applyChanges(f,i.isPrimaryClient,I);Zc(i,n,R.zu);const P=new m_(e,n,l);return i.tc.set(e,P),i.ec.has(n)?i.ec.get(n).push(e):i.ec.set(n,[e]),R.snapshot}),Pg.apply(this,arguments)}function w_(i,e){return kg.apply(this,arguments)}function kg(){return kg=(0,Ee.Z)(function*(i,e){const n=yt(i),o=n.tc.get(e),u=n.ec.get(o.targetId);if(u.length>1)return n.ec.set(o.targetId,u.filter(l=>!Ra(l,e))),void n.tc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Pu(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),Md(n.remoteStore,o.targetId),qc(n,o.targetId)}).catch(Fn))):(qc(n,o.targetId),yield Pu(n.localStore,o.targetId,!0))}),kg.apply(this,arguments)}function Ua(){return Ua=(0,Ee.Z)(function*(i,e,n){const o=kf(i);try{const u=yield function(l,f){const I=yt(l),R=lr.now(),P=f.reduce((we,qe)=>we.add(qe.key),Mn());let $,te;return I.persistence.runTransaction("Locally write mutations","readwrite",we=>{let qe=Ji(),nt=Mn();return I.Ui.getEntries(we,P).next(At=>{qe=At,qe.forEach((Qt,tr)=>{tr.isValidDocument()||(nt=nt.add(Qt))})}).next(()=>I.localDocuments.getOverlayedDocuments(we,qe)).next(At=>{$=At;const Qt=[];for(const tr of f){const Ar=pl(tr,$.get(tr.key).overlayedDocument);null!=Ar&&Qt.push(new sa(tr.key,Ar,Dt(Ar.value.mapValue),Sr.exists(!0)))}return I.mutationQueue.addMutationBatch(we,R,Qt,f)}).next(At=>{te=At;const Qt=At.applyToLocalDocumentSet($,nt);return I.documentOverlayCache.saveOverlays(we,At.batchId,Qt)})}).then(()=>({batchId:te.batchId,changes:Cp($)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(l,f,I){let R=l.oc[l.currentUser.toKey()];R||(R=new dr(rn)),R=R.insert(f,I),l.oc[l.currentUser.toKey()]=R}(o,u.batchId,n),yield Ys(o,u.changes),yield mc(o.remoteStore)}catch(u){const l=Vl(u,"Failed to persist write");n.reject(l)}}),Ua.apply(this,arguments)}function Vd(i,e){return _f.apply(this,arguments)}function _f(){return _f=(0,Ee.Z)(function*(i,e){const n=yt(i);try{const o=yield dg(n.localStore,e);e.targetChanges.forEach((u,l)=>{const f=n.ic.get(l);f&&(Zt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?f.Xu=!0:u.modifiedDocuments.size>0?Zt(f.Xu):u.removedDocuments.size>0&&(Zt(f.Xu),f.Xu=!1))}),yield Ys(n,o,e)}catch(o){yield Fn(o)}}),_f.apply(this,arguments)}function wf(i,e,n){const o=yt(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.tc.forEach((l,f)=>{const I=f.view.Eu(e);I.snapshot&&u.push(I.snapshot)}),function(l,f){const I=yt(l);I.onlineState=f;let R=!1;I.queries.forEach((P,$)=>{for(const te of $.listeners)te.Eu(f)&&(R=!0)}),R&&mf(I)}(o.eventManager,e),u.length&&o.Zu.Go(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function If(i,e,n){return Bd.apply(this,arguments)}function Bd(){return Bd=(0,Ee.Z)(function*(i,e,n){const o=yt(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.ic.get(e),l=u&&u.key;if(l){let f=new dr(_t.comparator);f=f.insert(l,Et.newNoDocument(l,Yt.min()));const I=Mn().add(l),R=new ml(Yt.min(),new Map,new m(rn),f,I);yield Vd(o,R),o.sc=o.sc.remove(l),o.ic.delete(e),Hl(o)}else yield Pu(o.localStore,e,!1).then(()=>qc(o,e,n)).catch(Fn)}),Bd.apply(this,arguments)}function Ef(i,e){return Df.apply(this,arguments)}function Df(){return Df=(0,Ee.Z)(function*(i,e){const n=yt(i),o=e.batch.batchId;try{const u=yield Pl(n.localStore,e);$d(n,o,null),Tf(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Ys(n,u)}catch(u){yield Fn(u)}}),Df.apply(this,arguments)}function Fu(i,e,n){return jd.apply(this,arguments)}function jd(){return jd=(0,Ee.Z)(function*(i,e,n){const o=yt(i);try{const u=yield function(l,f){const I=yt(l);return I.persistence.runTransaction("Reject batch","readwrite-primary",R=>{let P;return I.mutationQueue.lookupMutationBatch(R,f).next($=>(Zt(null!==$),P=$.keys(),I.mutationQueue.removeMutationBatch(R,$))).next(()=>I.mutationQueue.performConsistencyCheck(R)).next(()=>I.documentOverlayCache.removeOverlaysForBatchId(R,P,f)).next(()=>I.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(R,P)).next(()=>I.localDocuments.getDocuments(R,P))})}(o.localStore,e);$d(o,e,n),Tf(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Ys(o,u)}catch(u){yield Fn(u)}}),jd.apply(this,arguments)}function Tf(i,e){(i.uc.get(e)||[]).forEach(n=>{n.resolve()}),i.uc.delete(e)}function $d(i,e,n){const o=yt(i);let u=o.oc[o.currentUser.toKey()];if(u){const l=u.get(e);l&&(n?l.reject(n):l.resolve(),u=u.remove(e)),o.oc[o.currentUser.toKey()]=u}}function qc(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ec.get(e))i.tc.delete(o),n&&i.Zu.lc(o,n);i.ec.delete(e),i.isPrimaryClient&&i.rc.us(e).forEach(o=>{i.rc.containsKey(o)||Og(i,o)})}function Og(i,e){i.nc.delete(e.path.canonicalString());const n=i.sc.get(e);null!==n&&(Md(i.remoteStore,n),i.sc=i.sc.remove(e),i.ic.delete(n),Hl(i))}function Zc(i,e,n){for(const o of n)o instanceof vf?(i.rc.addReference(o.key,e),Yc(i,o)):o instanceof Mg?(ut("SyncEngine","Document no longer in limbo: "+o.key),i.rc.removeReference(o.key,e),i.rc.containsKey(o.key)||Og(i,o.key)):Ut()}function Yc(i,e){const n=e.key,o=n.path.canonicalString();i.sc.get(n)||i.nc.has(o)||(ut("SyncEngine","New document in limbo: "+n),i.nc.add(o),Hl(i))}function Hl(i){for(;i.nc.size>0&&i.sc.size<i.maxConcurrentLimboResolutions;){const e=i.nc.values().next().value;i.nc.delete(e);const n=new _t(Tn.fromString(e)),o=i.cc.next();i.ic.set(o,new y_(n)),i.sc=i.sc.insert(n,o),tf(i.remoteStore,new Lo(ps(tu(n.path)),o,2,vi.ot))}}function Ys(i,e,n){return Qc.apply(this,arguments)}function Qc(){return Qc=(0,Ee.Z)(function*(i,e,n){const o=yt(i),u=[],l=[],f=[];var I;o.tc.isEmpty()||(o.tc.forEach((I,R)=>{f.push(o.hc(R,e,n).then(P=>{if(P){o.isPrimaryClient&&o.sharedClientState.updateQueryState(R.targetId,P.fromCache?"not-current":"current"),u.push(P);const $=Gc.Vi(R.targetId,P);l.push($)}}))}),yield Promise.all(f),o.Zu.Go(u),yield(I=(0,Ee.Z)(function*(R,P){const $=yt(R);try{yield $.persistence.runTransaction("notifyLocalViewChanges","readwrite",te=>Pe.forEach(P,we=>Pe.forEach(we.Pi,qe=>$.persistence.referenceDelegate.addReference(te,we.targetId,qe)).next(()=>Pe.forEach(we.vi,qe=>$.persistence.referenceDelegate.removeReference(te,we.targetId,qe)))))}catch(te){if(!Qi(te))throw te;ut("LocalStore","Failed to update sequence numbers: "+te)}for(const te of P){const we=te.targetId;if(!te.fromCache){const qe=$.$i.get(we),At=qe.withLastLimboFreeSnapshotVersion(qe.snapshotVersion);$.$i=$.$i.insert(we,At)}}}),function(R,P){return I.apply(this,arguments)})(o.localStore,l))}),Qc.apply(this,arguments)}function Gl(i,e){return bf.apply(this,arguments)}function bf(){return bf=(0,Ee.Z)(function*(i,e){const n=yt(i);if(!n.currentUser.isEqual(e)){ut("SyncEngine","User change. New user:",e.toKey());const o=yield jh(n.localStore,e);n.currentUser=e,(u=n).uc.forEach(f=>{f.forEach(I=>{I.reject(new ct(Fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.uc.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Ys(n,o.Ki)}var u}),bf.apply(this,arguments)}function Fg(i,e){const n=yt(i),o=n.ic.get(e);if(o&&o.Xu)return Mn().add(o.key);{let u=Mn();const l=n.ec.get(e);if(!l)return u;for(const f of l){const I=n.tc.get(f);u=u.unionWith(I.view.qu)}return u}}function Bg(i){const e=yt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vd.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=If.bind(null,e),e.Zu.Go=my.bind(null,e.eventManager),e.Zu.lc=yy.bind(null,e.eventManager),e}function kf(i){const e=yt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ef.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Fu.bind(null,e),e}class jg{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,Ee.Z)(function*(){n.wt=zc(e.databaseInfo.databaseId),n.sharedClientState=n.dc(e),n.persistence=n._c(e),yield n.persistence.start(),n.localStore=n.wc(e),n.gcScheduler=n.mc(e,n.localStore),n.indexBackfillerScheduler=n.gc(e,n.localStore)})()}mc(e,n){return null}gc(e,n){return null}wc(e){return function Cd(i,e,n,o){return new cg(i,e,n,o)}(this.persistence,new Rl,e.initialUser,this.wt)}_c(e){return new Vh(Bh.Os,this.wt)}dc(e){return new In}terminate(){var e=this;return(0,Ee.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ff{initialize(e,n){var o=this;return(0,Ee.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>wf(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Gl.bind(null,o.syncEngine),yield function Ll(i,e){return ca.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new pf}createDatastore(e){const n=zc(e.databaseInfo.databaseId),o=new ly(e.databaseInfo);return new _g(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,l=I=>wf(this.syncEngine,I,0),f=Jh.V()?new Jh:new gg,new dy(n,o,u,l,f);var n,o,u,l,f}createSyncEngine(e,n){return function(o,u,l,f,I,R,P){const $=new v_(o,u,l,f,I,R);return P&&($.ac=!0),$}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,Ee.Z)(function*(n){const o=yt(n);ut("RemoteStore","RemoteStore shutting down."),o.lu.add(5),yield Wc(o),o.du.shutdown(),o._u.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Gd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Hg{constructor(e,n,o,u){var l=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=oi.UNAUTHENTICATED,this.clientId=ao.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var f=(0,Ee.Z)(function*(I){ut("FirestoreClient","Received user=",I.uid),yield l.authCredentialListener(I),l.user=I});return function(I){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(o,f=>(ut("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,Ee.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ct(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=Vl(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function Uf(i,e){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,Ee.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),ut("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,Ee.Z)(function*(l){o.isEqual(l)||(yield jh(e.localStore,l),o=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Vf.apply(this,arguments)}function la(i,e){return Wl.apply(this,arguments)}function Wl(){return Wl=(0,Ee.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield Bf(i);ut("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>hf(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,l)=>hf(e.remoteStore,l)),i.onlineComponents=e}),Wl.apply(this,arguments)}function Bf(i){return jf.apply(this,arguments)}function jf(){return jf=(0,Ee.Z)(function*(i){return i.offlineComponents||(ut("FirestoreClient","Using default OfflineComponentProvider"),yield Uf(i,new jg)),i.offlineComponents}),jf.apply(this,arguments)}function $f(i){return zd.apply(this,arguments)}function zd(){return zd=(0,Ee.Z)(function*(i){return i.onlineComponents||(ut("FirestoreClient","Using default OnlineComponentProvider"),yield la(i,new Ff)),i.onlineComponents}),zd.apply(this,arguments)}function Hf(){return Hf=(0,Ee.Z)(function*(i){const e=yield $f(i),n=e.eventManager;return n.onListen=__.bind(null,e.syncEngine),n.onUnlisten=w_.bind(null,e.syncEngine),n}),Hf.apply(this,arguments)}function zf(i,e,n={}){const o=new jr;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(u,l,f,I,R){const P=new Gd({next:te=>{l.enqueueAndForget(()=>function Ag(i,e){return gf.apply(this,arguments)}(u,$));const we=te.docs.has(f);!we&&te.fromCache?R.reject(new ct(Fe.UNAVAILABLE,"Failed to get document because the client is offline.")):we&&te.fromCache&&I&&"server"===I.source?R.reject(new ct(Fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):R.resolve(te)},error:te=>R.reject(te)}),$=new Ld(tu(f.path),P,{includeMetadataChanges:!0,Du:!0});return function Bl(i,e){return jl.apply(this,arguments)}(u,$)}(yield function Jc(i){return Hf.apply(this,arguments)}(i),i.asyncQueue,e,n,o)})),o.promise}const Wg=new Map;function qd(i,e,n){if(!n)throw new ct(Fe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Zf(i){if(!_t.isDocumentKey(i))throw new ct(Fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Xc(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":Ut()}function Rn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ct(Fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xc(i);throw new ct(Fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class Zl{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new ct(Fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ct(Fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Kg(i,e,n,o){if(!0===e&&!0===o)throw new ct(Fe.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class du{constructor(e,n,o){this._authCredentials=n,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zl({}),this._settingsFrozen=!1,e instanceof Gr?this._databaseId=e:(this._app=e,this._databaseId=function(u){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ct(Fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gr(u.options.projectId)}(e))}get app(){if(!this._app)throw new ct(Fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ct(Fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zl(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Ri;switch(n.type){case"gapi":const o=n.client;return Zt(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new Yo(o,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new ct(Fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Wg.get(e);n&&(ut("ComponentProvider","Removing Datastore"),Wg.delete(e),n.terminate())}(this),Promise.resolve()}}class li{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new li(this.firestore,e,this._key)}}class Xi{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Xi(this.firestore,e,this._query)}}class Va extends Xi{constructor(e,n,o){super(e,n,tu(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new li(this.firestore,null,new _t(e))}withConverter(e){return new Va(this.firestore,e,this._path)}}function qg(i,e,...n){if(i=(0,se.m9)(i),1===arguments.length&&(e=ao.I()),qd("doc","path",e),i instanceof du){const o=Tn.fromString(e,...n);return Zf(o),new li(i,null,new _t(o))}{if(!(i instanceof li||i instanceof Va))throw new ct(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Tn.fromString(e,...n));return Zf(o),new li(i.firestore,i instanceof Va?i.converter:null,new _t(o))}}class A_{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new ef(this,"async_queue_retry"),this.Kc=()=>{const n=xd();n&&ut("AsyncQueue","Visibility state changed to "+n.visibilityState),this.So.Eo()};const e=xd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const n=xd();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const n=new jr;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Oc.push(e),this.jc()))}jc(){var e=this;return(0,Ee.Z)(function*(){if(0!==e.Oc.length){try{yield e.Oc[0](),e.Oc.shift(),e.So.reset()}catch(n){if(!Qi(n))throw n;ut("AsyncQueue","Operation failed with retryable error: "+n)}e.Oc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const n=this.Mc.then(()=>(this.Lc=!0,e().catch(o=>{throw this.Bc=o,this.Lc=!1,mr("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(o)),o}).then(o=>(this.Lc=!1,o))));return this.Mc=n,n}enqueueAfterDelay(e,n,o){this.Gc(),this.qc.indexOf(e)>-1&&(n=0);const u=Ul.createAndSchedule(this,e,n,o,l=>this.Wc(l));return this.$c.push(u),u}Gc(){this.Bc&&Ut()}verifyOperationInProgress(){}zc(){var e=this;return(0,Ee.Z)(function*(){let n;do{n=e.Mc,yield n}while(n!==e.Mc)})()}Hc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}class ti extends du{constructor(e,n,o){super(e,n,o),this.type="firestore",this._queue=new A_,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Yg(this),this._firestoreClient.terminate()}}function Zg(i=(0,ot.Mq)()){return(0,ot.qX)(i,"firestore").getImmediate()}function Ii(i){return i._firestoreClient||Yg(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Yg(i){var e;const n=i._freezeSettings(),o=(l=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new ks(i._databaseId,l,i._persistenceKey,(I=n).host,I.ssl,I.experimentalForceLongPolling,I.experimentalAutoDetectLongPolling,I.useFetchStreams));var l,I;i._firestoreClient=new Hg(i._authCredentials,i._appCheckCredentials,i._queue,o)}class nl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new ct(Fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hu(Y.fromBase64String(e))}catch(n){throw new ct(Fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hu(Y.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Xg{constructor(e){this._methodName=e}}class Uo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ct(Fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ct(Fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rn(this._lat,e._lat)||rn(this._long,e._long)}}const Yl=/^__.*__$/;class ys{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new sa(e,this.data,this.fieldMask,n,this.fieldTransforms):new su(e,this.data,n,this.fieldTransforms)}}function Ql(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ut()}}class Ls{constructor(e,n,o,u,l,f){this.settings=e,this.databaseId=n,this.wt=o,this.ignoreUndefinedProperties=u,void 0===l&&this.Xc(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new Ls(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.ta({path:o,na:!1});return u.sa(e),u}ia(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.ta({path:o,na:!1});return u.Xc(),u}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return Jd(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(Ql(this.Zc)&&Yl.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class Xf{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.wt=o||zc(e)}aa(e,n,o,u=!1){return new Ls({Zc:e,methodName:n,ca:o,path:wn.emptyPath(),na:!1,ua:u},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function da(i){const e=i._freezeSettings(),n=zc(i._databaseId);return new Xf(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Uu(i,e,n,o,u,l={}){const f=i.aa(l.merge||l.mergeFields?2:0,e,n,u);Yd("Data must be an object, but it was:",f,o);const I=np(o,f);let R,P;if(l.merge)R=new O(f.fieldMask),P=f.fieldTransforms;else if(l.mergeFields){const $=[];for(const te of l.mergeFields){const we=Qd(e,te,n);if(!f.contains(we))throw new ct(Fe.INVALID_ARGUMENT,`Field '${we}' is specified in your field mask but missing from your input data.`);tm($,we)||$.push(we)}R=new O($),P=f.fieldTransforms.filter(te=>R.covers(te.field))}else R=null,P=f.fieldTransforms;return new ys(new Ge(I),R,P)}function Bu(i,e){if(rp(i=(0,se.m9)(i)))return Yd("Unsupported field value:",e,i),np(i,e);if(i instanceof Xg)return function(n,o){if(!Ql(o.Zc))throw o.oa(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.oa(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(n,o){const u=[];let l=0;for(const f of n){let I=Bu(f,o.ra(l));null==I&&(I={nullValue:"NULL_VALUE"}),u.push(I),l++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,se.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return ld(o.wt,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=lr.fromDate(n);return{timestampValue:ic(o.wt,u)}}if(n instanceof lr){const u=new lr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ic(o.wt,u)}}if(n instanceof Uo)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof hu)return{bytesValue:Um(o.wt,n._byteString)};if(n instanceof li){const u=o.databaseId,l=n.firestore._databaseId;if(!l.isEqual(u))throw o.oa(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:fd(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o.oa(`Unsupported field value: ${Xc(n)}`)}(i,e)}function np(i,e){const n={};return Hr(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zr(i,(o,u)=>{const l=Bu(u,e.ea(o));null!=l&&(n[o]=l)}),{mapValue:{fields:n}}}function rp(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof lr||i instanceof Uo||i instanceof hu||i instanceof li||i instanceof Xg)}function Yd(i,e,n){if(!rp(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Xc(n);throw e.oa("an object"===o?i+" a custom object":i+" "+o)}var o}function Qd(i,e,n){if((e=(0,se.m9)(e))instanceof nl)return e._internalPath;if("string"==typeof e)return Jl(i,e);throw Jd("Field path arguments must be of type string or ",i,!1,void 0,n)}const em=new RegExp("[~\\*/\\[\\]]");function Jl(i,e,n){if(e.search(em)>=0)throw Jd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new nl(...e.split("."))._internalPath}catch{throw Jd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Jd(i,e,n,o,u){const l=o&&!o.isEmpty(),f=void 0!==u;let I=`Function ${e}() called with invalid data`;n&&(I+=" (via `toFirestore()`)"),I+=". ";let R="";return(l||f)&&(R+=" (found",l&&(R+=` in field ${o}`),f&&(R+=` in document ${u}`),R+=")"),new ct(Fe.INVALID_ARGUMENT,I+i+R)}function tm(i,e){return i.some(n=>n.isEqual(e))}class ip{constructor(e,n,o,u,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new li(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new nm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class nm extends ip{data(){return super.data()}}function Xd(i,e){return"string"==typeof e?Jl(i,e):e instanceof nl?e._internalPath:e._delegate._internalPath}class wc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ju extends ip{constructor(e,n,o,u,l,f){super(e,n,o,u,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ol(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(Xd("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class ol extends ju{data(e={}){return super.data(e)}}function hm(i){i=Rn(i,li);const e=Rn(i.firestore,ti);return zf(Ii(e),i._key).then(n=>function rh(i,e,n){const o=n.docs.get(e._key),u=new $u(i);return new ju(i,u,e._key,o,new wc(n.hasPendingWrites,n.fromCache),e.converter)}(e,i,n))}class $u extends class lm{convertValue(e,n="none"){switch(_i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(It(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ut()}}convertObject(e,n){const o={};return Zr(e.fields,(u,l)=>{o[u]=this.convertValue(l,n)}),o}convertGeoPoint(e){return new Uo(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=ai(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(Yr(e));default:return null}}convertTimestamp(e){const n=ft(e);return new lr(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Tn.fromString(e);Zt(Pc(o));const u=new Gr(o.get(1),o.get(3)),l=new _t(o.popFirst(5));return u.isEqual(n)||mr(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new hu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new li(this.firestore,null,n)}}function Oy(i,e,n){i=Rn(i,li);const o=Rn(i.firestore,ti),u=function nh(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}(i.converter,e,n);return function ed(i,e){return function(n,o){const u=new jr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function I_(i,e,n){return Ua.apply(this,arguments)}(yield function Kl(i){return $f(i).then(e=>e.syncEngine)}(n),o,u)})),u.promise}(Ii(i),e)}(o,[Uu(da(o),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,Sr.none())])}!function(i,e=!0){ei=ot.Jn,(0,ot.Xd)(new He.wA("firestore",(n,{options:o})=>{const u=n.getProvider("app").getImmediate(),l=new ti(u,new Zi(n.getProvider("auth-internal")),new Qo(n.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),l._setSettings(o),l},"PUBLIC")),(0,ot.KN)(Za,"3.4.14",i),(0,ot.KN)(Za,"3.4.14","esm2017")}();class vo{constructor(e){return e}}const gm="firestore",_o=new F.OlP("angularfire2.firestore-instances");function mm(i){return(e,n)=>{const o=e.runOutsideAngular(()=>i(n));return new vo(o)}}const ym={provide:class By{constructor(){return(0,b.vb)(gm)}},deps:[[new F.FiY,_o]]},jy={provide:vo,useFactory:function ha(i,e){const n=(0,b.JM)(gm,i,e);return n&&new vo(n)},deps:[[new F.FiY,_o],fe.Ot]};let $y=(()=>{class i{constructor(){(0,Ie.KN)("angularfire",b.q4.full,"fst")}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=F.oAB({type:i}),i.\u0275inj=F.cJS({providers:[jy,ym]}),i})();function Hy(i,...e){return{ngModule:$y,providers:[{provide:_o,useFactory:mm(i),multi:!0,deps:[F.R0b,F.zs3,b.HU,fe.z6,[new F.FiY,de.dh],[new F.FiY,tt.nm],...e]}]}}const wm=(0,b.u3)(qg,!0),nv=(0,b.u3)(hm,!0),rv=(0,b.u3)(Zg,!0),Im=(0,b.u3)(Oy,!0)},8321:(qt,We,j)=>{j.d(We,{q4:()=>ft,HU:()=>Po,vb:()=>Ju,JM:()=>Ws,u3:()=>ta});var b=j(8256),F=j(5867),de=j(5861),fe=j(9681),Ie=j(2090),tt=j(4859),Ee=j(1877),ot=j(8766);const He="@firebase/installations",ie="0.5.12",Oe=`w:${ie}`,Ze="FIS_v2",xt=new Ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ue(C){return C instanceof Ie.ZR&&C.code.includes("request-failed")}function Be({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function rt(C){return{token:C.token,requestStatus:2,expiresIn:ve(C.expiresIn),creationTime:Date.now()}}function Ne(C,A){return mt.apply(this,arguments)}function mt(){return(mt=(0,de.Z)(function*(C,A){const z=(yield A.json()).error;return xt.create("request-failed",{requestName:C,serverCode:z.code,serverMessage:z.message,serverStatus:z.status})})).apply(this,arguments)}function he({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function _e(C,{refreshToken:A}){const k=he(C);return k.append("Authorization",function Me(C){return`${Ze} ${C}`}(A)),k}function ge(C){return le.apply(this,arguments)}function le(){return(le=(0,de.Z)(function*(C){const A=yield C();return A.status>=500&&A.status<600?C():A})).apply(this,arguments)}function ve(C){return Number(C.replace("s","000"))}function ye(C,A){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,de.Z)(function*({appConfig:C,heartbeatServiceProvider:A},{fid:k}){const z=Be(C),me=he(C),ke=A.getImmediate({optional:!0});if(ke){const vn=yield ke.getHeartbeatsHeader();vn&&me.append("x-firebase-client",vn)}const Dt={method:"POST",headers:me,body:JSON.stringify({fid:k,authVersion:Ze,appId:C.appId,sdkVersion:Oe})},Et=yield ge(()=>fetch(z,Dt));if(Et.ok){const vn=yield Et.json();return{fid:vn.fid||k,registrationStatus:2,refreshToken:vn.refreshToken,authToken:rt(vn.authToken)}}throw yield Ne("Create Installation",Et)})).apply(this,arguments)}function it(C){return new Promise(A=>{setTimeout(A,C)})}const Xt=/^[cdef][\w-]{21}$/;function Ft(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const k=function sn(C){return function Nt(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Xt.test(k)?k:""}catch{return""}}function Ln(C){return`${C.appName}!${C.appId}`}const zt=new Map;function $n(C,A){const k=Ln(C);Un(k,A),function dn(C,A){const k=function Gt(){return!nr&&"BroadcastChannel"in self&&(nr=new BroadcastChannel("[Firebase] FID Change"),nr.onmessage=C=>{Un(C.data.key,C.data.fid)}),nr}();k&&k.postMessage({key:C,fid:A}),function ni(){0===zt.size&&nr&&(nr.close(),nr=null)}()}(k,A)}function Un(C,A){const k=zt.get(C);if(k)for(const z of k)z(A)}let nr=null;const Pn="firebase-installations-store";let En=null;function Mr(){return En||(En=(0,ot.X3)("firebase-installations-database",1,{upgrade:(C,A)=>{0===A&&C.createObjectStore(Pn)}})),En}function Pt(C,A){return sr.apply(this,arguments)}function sr(){return(sr=(0,de.Z)(function*(C,A){const k=Ln(C),me=(yield Mr()).transaction(Pn,"readwrite"),ke=me.objectStore(Pn),Ge=yield ke.get(k);return yield ke.put(A,k),yield me.done,(!Ge||Ge.fid!==A.fid)&&$n(C,A.fid),A})).apply(this,arguments)}function or(C){return ar.apply(this,arguments)}function ar(){return(ar=(0,de.Z)(function*(C){const A=Ln(C),z=(yield Mr()).transaction(Pn,"readwrite");yield z.objectStore(Pn).delete(A),yield z.done})).apply(this,arguments)}function rr(C,A){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,de.Z)(function*(C,A){const k=Ln(C),me=(yield Mr()).transaction(Pn,"readwrite"),ke=me.objectStore(Pn),Ge=yield ke.get(k),Dt=A(Ge);return void 0===Dt?yield ke.delete(k):yield ke.put(Dt,k),yield me.done,Dt&&(!Ge||Ge.fid!==Dt.fid)&&$n(C,Dt.fid),Dt})).apply(this,arguments)}function br(C){return De.apply(this,arguments)}function De(){return(De=(0,de.Z)(function*(C){let A;const k=yield rr(C.appConfig,z=>{const me=X(z),ke=Q(C,me);return A=ke.registrationPromise,ke.installationEntry});return""===k.fid?{installationEntry:yield A}:{installationEntry:k,registrationPromise:A}})).apply(this,arguments)}function X(C){return kt(C||{fid:Ft(),registrationStatus:0})}function Q(C,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(xt.create("app-offline"))};const k={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},z=function be(C,A){return $e.apply(this,arguments)}(C,k);return{installationEntry:k,registrationPromise:z}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:wt(C)}:{installationEntry:A}}function $e(){return($e=(0,de.Z)(function*(C,A){try{const k=yield ye(C,A);return Pt(C.appConfig,k)}catch(k){throw Ue(k)&&409===k.customData.serverCode?yield or(C.appConfig):yield Pt(C.appConfig,{fid:A.fid,registrationStatus:0}),k}})).apply(this,arguments)}function wt(C){return $t.apply(this,arguments)}function $t(){return($t=(0,de.Z)(function*(C){let A=yield Jt(C.appConfig);for(;1===A.registrationStatus;)yield it(100),A=yield Jt(C.appConfig);if(0===A.registrationStatus){const{installationEntry:k,registrationPromise:z}=yield br(C);return z||k}return A})).apply(this,arguments)}function Jt(C){return rr(C,A=>{if(!A)throw xt.create("installation-not-found");return kt(A)})}function kt(C){return function Vn(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function nn(C,A){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,de.Z)(function*({appConfig:C,heartbeatServiceProvider:A},k){const z=Ht(C,k),me=_e(C,k),ke=A.getImmediate({optional:!0});if(ke){const vn=yield ke.getHeartbeatsHeader();vn&&me.append("x-firebase-client",vn)}const Dt={method:"POST",headers:me,body:JSON.stringify({installation:{sdkVersion:Oe,appId:C.appId}})},Et=yield ge(()=>fetch(z,Dt));if(Et.ok)return rt(yield Et.json());throw yield Ne("Generate Auth Token",Et)})).apply(this,arguments)}function Ht(C,{fid:A}){return`${Be(C)}/${A}/authTokens:generate`}function re(C){return J.apply(this,arguments)}function J(){return(J=(0,de.Z)(function*(C,A=!1){let k;const z=yield rr(C.appConfig,ke=>{if(!Ct(ke))throw xt.create("not-registered");const Ge=ke.authToken;if(!A&&_n(Ge))return ke;if(1===Ge.requestStatus)return k=K(C,A),ke;{if(!navigator.onLine)throw xt.create("app-offline");const Dt=ur(ke);return k=je(C,Dt),Dt}});return k?yield k:z.authToken})).apply(this,arguments)}function K(C,A){return ne.apply(this,arguments)}function ne(){return(ne=(0,de.Z)(function*(C,A){let k=yield q(C.appConfig);for(;1===k.authToken.requestStatus;)yield it(100),k=yield q(C.appConfig);const z=k.authToken;return 0===z.requestStatus?re(C,A):z})).apply(this,arguments)}function q(C){return rr(C,A=>{if(!Ct(A))throw xt.create("not-registered");return function Sn(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function je(C,A){return pt.apply(this,arguments)}function pt(){return(pt=(0,de.Z)(function*(C,A){try{const k=yield nn(C,A),z=Object.assign(Object.assign({},A),{authToken:k});return yield Pt(C.appConfig,z),k}catch(k){if(!Ue(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const z=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield Pt(C.appConfig,z)}else yield or(C.appConfig);throw k}})).apply(this,arguments)}function Ct(C){return void 0!==C&&2===C.registrationStatus}function _n(C){return 2===C.requestStatus&&!function Dn(C){const A=Date.now();return A<C.creationTime||C.creationTime+C.expiresIn<A+36e5}(C)}function ur(C){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:A})}function _r(){return(_r=(0,de.Z)(function*(C){const A=C,{installationEntry:k,registrationPromise:z}=yield br(A);return z?z.catch(console.error):re(A).catch(console.error),k.fid})).apply(this,arguments)}function On(){return(On=(0,de.Z)(function*(C,A=!1){const k=C;return yield hr(k),(yield re(k,A)).token})).apply(this,arguments)}function hr(C){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,de.Z)(function*(C){const{registrationPromise:A}=yield br(C);A&&(yield A)})).apply(this,arguments)}function Bt(C){return xt.create("missing-app-config-values",{valueName:C})}const ln="installations",yi=C=>{const A=C.getProvider("app").getImmediate(),k=function Je(C){if(!C||!C.options)throw Bt("App Configuration");if(!C.name)throw Bt("App Name");const A=["projectId","apiKey","appId"];for(const k of A)if(!C.options[k])throw Bt(k);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(A);return{app:A,appConfig:k,heartbeatServiceProvider:(0,fe.qX)(A,"heartbeat"),_delete:()=>Promise.resolve()}},cr=C=>{const A=C.getProvider("app").getImmediate(),k=(0,fe.qX)(A,ln).getImmediate();return{getId:()=>function vr(C){return _r.apply(this,arguments)}(k),getToken:me=>function Ci(C){return On.apply(this,arguments)}(k,me)}};(function Wr(){(0,fe.Xd)(new tt.wA(ln,yi,"PUBLIC")),(0,fe.Xd)(new tt.wA("installations-internal",cr,"PRIVATE"))})(),(0,fe.KN)(He,ie),(0,fe.KN)(He,ie,"esm2017");const Hn="@firebase/remote-config",fr=new Ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Yn{constructor(A,k,z,me){this.client=A,this.storage=k,this.storageCache=z,this.logger=me}isCachedDataFresh(A,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const z=Date.now()-k,me=z<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${z}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${me}.`),me}fetch(A){var k=this;return(0,de.Z)(function*(){const[z,me]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(me&&k.isCachedDataFresh(A.cacheMaxAgeMillis,z))return me;A.eTag=me&&me.eTag;const ke=yield k.client.fetch(A),Ge=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ke.status&&Ge.push(k.storage.setLastSuccessfulFetchResponse(ke)),yield Promise.all(Ge),ke})()}}function ii(C=navigator){return C.languages&&C.languages[0]||C.language}class Ir{constructor(A,k,z,me,ke,Ge){this.firebaseInstallations=A,this.sdkVersion=k,this.namespace=z,this.projectId=me,this.apiKey=ke,this.appId=Ge}fetch(A){var k=this;return(0,de.Z)(function*(){var z,me,ke;const[Ge,Dt]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),vn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,mn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},Kt={sdk_version:k.sdkVersion,app_instance_id:Ge,app_instance_id_token:Dt,app_id:k.appId,language_code:ii()},ui={method:"POST",headers:mn,body:JSON.stringify(Kt)},gi=fetch(vn,ui),fo=new Promise((Oo,Sa)=>{A.signal.addEventListener(()=>{const Dc=new Error("The operation was aborted.");Dc.name="AbortError",Sa(Dc)})});let ko;try{yield Promise.race([gi,fo]),ko=yield gi}catch(Oo){let Sa="fetch-client-network";throw"AbortError"===(null===(z=Oo)||void 0===z?void 0:z.name)&&(Sa="fetch-timeout"),fr.create(Sa,{originalErrorMessage:null===(me=Oo)||void 0===me?void 0:me.message})}let fs=ko.status;const na=ko.headers.get("ETag")||void 0;let ci,ra;if(200===ko.status){let Oo;try{Oo=yield ko.json()}catch(Sa){throw fr.create("fetch-client-parse",{originalErrorMessage:null===(ke=Sa)||void 0===ke?void 0:ke.message})}ci=Oo.entries,ra=Oo.state}if("INSTANCE_STATE_UNSPECIFIED"===ra?fs=500:"NO_CHANGE"===ra?fs=304:("NO_TEMPLATE"===ra||"EMPTY_CONFIG"===ra)&&(ci={}),304!==fs&&200!==fs)throw fr.create("fetch-status",{httpStatus:fs});return{status:fs,eTag:na,config:ci}})()}}class ns{constructor(A,k){this.client=A,this.storage=k}fetch(A){var k=this;return(0,de.Z)(function*(){const z=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(A,z)})()}attemptFetch(A,{throttleEndTimeMillis:k,backoffCount:z}){var me=this;return(0,de.Z)(function*(){yield function Er(C,A){return new Promise((k,z)=>{const me=Math.max(A-Date.now(),0),ke=setTimeout(k,me);C.addEventListener(()=>{clearTimeout(ke),z(fr.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,k);try{const ke=yield me.client.fetch(A);return yield me.storage.deleteThrottleMetadata(),ke}catch(ke){if(!function fi(C){if(!(C instanceof Ie.ZR&&C.customData))return!1;const A=Number(C.customData.httpStatus);return 429===A||500===A||503===A||504===A}(ke))throw ke;const Ge={throttleEndTimeMillis:Date.now()+(0,Ie.$s)(z),backoffCount:z+1};return yield me.storage.setThrottleMetadata(Ge),me.attemptFetch(A,Ge)}})()}}class pa{constructor(A,k,z,me,ke){this.app=A,this._client=k,this._storageCache=z,this._storage=me,this._logger=ke,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Qs(C,A){var k;const z=C.target.error||void 0;return fr.create(A,{originalErrorMessage:z&&(null===(k=z)||void 0===k?void 0:k.message)})}const rs="app_namespace_store";class Bo{constructor(A,k,z,me=function ja(){return new Promise((C,A)=>{var k;try{const z=indexedDB.open("firebase_remote_config",1);z.onerror=me=>{A(Qs(me,"storage-open"))},z.onsuccess=me=>{C(me.target.result)},z.onupgradeneeded=me=>{0===me.oldVersion&&me.target.result.createObjectStore(rs,{keyPath:"compositeKey"})}}catch(z){A(fr.create("storage-open",{originalErrorMessage:null===(k=z)||void 0===k?void 0:k.message}))}})}()){this.appId=A,this.appName=k,this.namespace=z,this.openDbPromise=me}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var k=this;return(0,de.Z)(function*(){const z=yield k.openDbPromise;return new Promise((me,ke)=>{var Ge;const Et=z.transaction([rs],"readonly").objectStore(rs),vn=k.createCompositeKey(A);try{const mn=Et.get(vn);mn.onerror=Kt=>{ke(Qs(Kt,"storage-get"))},mn.onsuccess=Kt=>{const ui=Kt.target.result;me(ui?ui.value:void 0)}}catch(mn){ke(fr.create("storage-get",{originalErrorMessage:null===(Ge=mn)||void 0===Ge?void 0:Ge.message}))}})})()}set(A,k){var z=this;return(0,de.Z)(function*(){const me=yield z.openDbPromise;return new Promise((ke,Ge)=>{var Dt;const vn=me.transaction([rs],"readwrite").objectStore(rs),mn=z.createCompositeKey(A);try{const Kt=vn.put({compositeKey:mn,value:k});Kt.onerror=ui=>{Ge(Qs(ui,"storage-set"))},Kt.onsuccess=()=>{ke()}}catch(Kt){Ge(fr.create("storage-set",{originalErrorMessage:null===(Dt=Kt)||void 0===Dt?void 0:Dt.message}))}})})()}delete(A){var k=this;return(0,de.Z)(function*(){const z=yield k.openDbPromise;return new Promise((me,ke)=>{var Ge;const Et=z.transaction([rs],"readwrite").objectStore(rs),vn=k.createCompositeKey(A);try{const mn=Et.delete(vn);mn.onerror=Kt=>{ke(Qs(Kt,"storage-delete"))},mn.onsuccess=()=>{me()}}catch(mn){ke(fr.create("storage-delete",{originalErrorMessage:null===(Ge=mn)||void 0===Ge?void 0:Ge.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class Xs{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,de.Z)(function*(){const k=A.storage.getLastFetchStatus(),z=A.storage.getLastSuccessfulFetchTimestampMillis(),me=A.storage.getActiveConfig(),ke=yield k;ke&&(A.lastFetchStatus=ke);const Ge=yield z;Ge&&(A.lastSuccessfulFetchTimestampMillis=Ge);const Dt=yield me;Dt&&(A.activeConfig=Dt)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function Io(){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,de.Z)(function*(){if(!(0,Ie.hl)())return!1;try{return yield(0,Ie.eu)()}catch{return!1}})).apply(this,arguments)}!function $a(){(0,fe.Xd)(new tt.wA("remote-config",function C(A,{instanceIdentifier:k}){const z=A.getProvider("app").getImmediate(),me=A.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw fr.create("registration-window");if(!(0,Ie.hl)())throw fr.create("indexed-db-unavailable");const{projectId:ke,apiKey:Ge,appId:Dt}=z.options;if(!ke)throw fr.create("registration-project-id");if(!Ge)throw fr.create("registration-api-key");if(!Dt)throw fr.create("registration-app-id");const Et=new Bo(Dt,z.name,k=k||"firebase"),vn=new Xs(Et),mn=new Ee.Yd(Hn);mn.logLevel=Ee.in.ERROR;const Kt=new Ir(me,fe.Jn,k,ke,Ge,Dt),ui=new ns(Kt,Et),gi=new Yn(ui,Et,vn,mn),fo=new pa(z,gi,vn,Et,mn);return function Re(C){const A=(0,Ie.m9)(C);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(fo),fo},"PUBLIC").setMultipleInstances(!0)),(0,fe.KN)(Hn,"0.3.11"),(0,fe.KN)(Hn,"0.3.11","esm2017")}();const pr="/firebase-messaging-sw.js",is="/firebase-cloud-messaging-push-scope",ws="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ss="google.c.a.c_id",os="google.c.a.c_l",Is="google.c.a.ts",Ai="google.c.a.e";var Br=(()=>{return(C=Br||(Br={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Br;var C})();function kr(C){const A=new Uint8Array(C);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Vs(C){const k=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),z=atob(k),me=new Uint8Array(z.length);for(let ke=0;ke<z.length;++ke)me[ke]=z.charCodeAt(ke);return me}const Fi="fcm_token_details_db",Eo="fcm_token_object_Store";function zn(C){return zi.apply(this,arguments)}function zi(){return zi=(0,de.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ke=>ke.name).includes(Fi))return null;let A=null;return(yield(0,ot.X3)(Fi,5,{upgrade:(z=(0,de.Z)(function*(me,ke,Ge,Dt){var Et;if(ke<2||!me.objectStoreNames.contains(Eo))return;const vn=Dt.objectStore(Eo),mn=yield vn.index("fcmSenderId").get(C);if(yield vn.clear(),mn)if(2===ke){const Kt=mn;if(!Kt.auth||!Kt.p256dh||!Kt.endpoint)return;A={token:Kt.fcmToken,createTime:null!==(Et=Kt.createTime)&&void 0!==Et?Et:Date.now(),subscriptionOptions:{auth:Kt.auth,p256dh:Kt.p256dh,endpoint:Kt.endpoint,swScope:Kt.swScope,vapidKey:"string"==typeof Kt.vapidKey?Kt.vapidKey:kr(Kt.vapidKey)}}}else if(3===ke){const Kt=mn;A={token:Kt.fcmToken,createTime:Kt.createTime,subscriptionOptions:{auth:kr(Kt.auth),p256dh:kr(Kt.p256dh),endpoint:Kt.endpoint,swScope:Kt.swScope,vapidKey:kr(Kt.vapidKey)}}}else if(4===ke){const Kt=mn;A={token:Kt.fcmToken,createTime:Kt.createTime,subscriptionOptions:{auth:kr(Kt.auth),p256dh:kr(Kt.p256dh),endpoint:Kt.endpoint,swScope:Kt.swScope,vapidKey:kr(Kt.vapidKey)}}}}),function(ke,Ge,Dt,Et){return z.apply(this,arguments)})})).close(),yield(0,ot.Lj)(Fi),yield(0,ot.Lj)("fcm_vapid_details_db"),yield(0,ot.Lj)("undefined"),Ho(A)?A:null;var z}),zi.apply(this,arguments)}function Ho(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:A}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}const Ei="firebase-messaging-store";let as=null;function Bs(){return as||(as=(0,ot.X3)("firebase-messaging-database",1,{upgrade:(C,A)=>{0===A&&C.createObjectStore(Ei)}})),as}function Go(C){return x.apply(this,arguments)}function x(){return(x=(0,de.Z)(function*(C){const A=Le(C),z=yield(yield Bs()).transaction(Ei).objectStore(Ei).get(A);if(z)return z;{const me=yield zn(C.appConfig.senderId);if(me)return yield V(C,me),me}})).apply(this,arguments)}function V(C,A){return M.apply(this,arguments)}function M(){return(M=(0,de.Z)(function*(C,A){const k=Le(C),me=(yield Bs()).transaction(Ei,"readwrite");return yield me.objectStore(Ei).put(A,k),yield me.done,A})).apply(this,arguments)}function B(C){return oe.apply(this,arguments)}function oe(){return(oe=(0,de.Z)(function*(C){const A=Le(C),z=(yield Bs()).transaction(Ei,"readwrite");yield z.objectStore(Ei).delete(A),yield z.done})).apply(this,arguments)}function Le({appConfig:C}){return C.appId}const vt=new Ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fn(C,A){return jn.apply(this,arguments)}function jn(){return(jn=(0,de.Z)(function*(C,A){var k;const z=yield Wt(C),me=us(A),ke={method:"POST",headers:z,body:JSON.stringify(me)};let Ge;try{Ge=yield(yield fetch(Or(C.appConfig),ke)).json()}catch(Dt){throw vt.create("token-subscribe-failed",{errorInfo:null===(k=Dt)||void 0===k?void 0:k.toString()})}if(Ge.error)throw vt.create("token-subscribe-failed",{errorInfo:Ge.error.message});if(!Ge.token)throw vt.create("token-subscribe-no-token");return Ge.token})).apply(this,arguments)}function Qn(C,A){return pn.apply(this,arguments)}function pn(){return(pn=(0,de.Z)(function*(C,A){var k;const z=yield Wt(C),me=us(A.subscriptionOptions),ke={method:"PATCH",headers:z,body:JSON.stringify(me)};let Ge;try{Ge=yield(yield fetch(`${Or(C.appConfig)}/${A.token}`,ke)).json()}catch(Dt){throw vt.create("token-update-failed",{errorInfo:null===(k=Dt)||void 0===k?void 0:k.toString()})}if(Ge.error)throw vt.create("token-update-failed",{errorInfo:Ge.error.message});if(!Ge.token)throw vt.create("token-update-no-token");return Ge.token})).apply(this,arguments)}function ir(C,A){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,de.Z)(function*(C,A){var k;const me={method:"DELETE",headers:yield Wt(C)};try{const Ge=yield(yield fetch(`${Or(C.appConfig)}/${A}`,me)).json();if(Ge.error)throw vt.create("token-unsubscribe-failed",{errorInfo:Ge.error.message})}catch(ke){throw vt.create("token-unsubscribe-failed",{errorInfo:null===(k=ke)||void 0===k?void 0:k.toString()})}})).apply(this,arguments)}function Or({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Wt(C){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,de.Z)(function*({appConfig:C,installations:A}){const k=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function us({p256dh:C,auth:A,endpoint:k,vapidKey:z}){const me={web:{endpoint:k,auth:A,p256dh:C}};return z!==ws&&(me.web.applicationPubKey=z),me}const xi=6048e5;function zo(C){return Es.apply(this,arguments)}function Es(){return(Es=(0,de.Z)(function*(C){const A=yield mu(C.swRegistration,C.vapidKey),k={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:A.endpoint,auth:kr(A.getKey("auth")),p256dh:kr(A.getKey("p256dh"))},z=yield Go(C.firebaseDependencies);if(z){if(Ds(z.subscriptionOptions,k))return Date.now()>=z.createTime+xi?Ha(C,{token:z.token,createTime:Date.now(),subscriptionOptions:k}):z.token;try{yield ir(C.firebaseDependencies,z.token)}catch(me){console.warn(me)}return gn(C.firebaseDependencies,k)}return gn(C.firebaseDependencies,k)})).apply(this,arguments)}function Do(C){return js.apply(this,arguments)}function js(){return(js=(0,de.Z)(function*(C){const A=yield Go(C.firebaseDependencies);A&&(yield ir(C.firebaseDependencies,A.token),yield B(C.firebaseDependencies));const k=yield C.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function Ha(C,A){return et.apply(this,arguments)}function et(){return(et=(0,de.Z)(function*(C,A){try{const k=yield Qn(C.firebaseDependencies,A),z=Object.assign(Object.assign({},A),{token:k,createTime:Date.now()});return yield V(C.firebaseDependencies,z),k}catch(k){throw yield Do(C),k}})).apply(this,arguments)}function gn(C,A){return Li.apply(this,arguments)}function Li(){return(Li=(0,de.Z)(function*(C,A){const z={token:yield fn(C,A),createTime:Date.now(),subscriptionOptions:A};return yield V(C,z),z.token})).apply(this,arguments)}function mu(C,A){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,de.Z)(function*(C,A){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Vs(A)})})).apply(this,arguments)}function Ds(C,A){return A.vapidKey===C.vapidKey&&A.endpoint===C.endpoint&&A.auth===C.auth&&A.p256dh===C.p256dh}function Ui(C){const A={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Wn(C,A){if(!A.notification)return;C.notification={};const k=A.notification.title;k&&(C.notification.title=k);const z=A.notification.body;z&&(C.notification.body=z);const me=A.notification.image;me&&(C.notification.image=me)}(A,C),function Ga(C,A){!A.data||(C.data=A.data)}(A,C),function Wo(C,A){var k,z,me,ke,Ge;if(!(A.fcmOptions||null!==(k=A.notification)&&void 0!==k&&k.click_action))return;C.fcmOptions={};const Dt=null!==(me=null===(z=A.fcmOptions)||void 0===z?void 0:z.link)&&void 0!==me?me:null===(ke=A.notification)||void 0===ke?void 0:ke.click_action;Dt&&(C.fcmOptions.link=Dt);const Et=null===(Ge=A.fcmOptions)||void 0===Ge?void 0:Ge.analytics_label;Et&&(C.fcmOptions.analyticsLabel=Et)}(A,C),A}function ll(C){return"object"==typeof C&&!!C&&ss in C}function Gu(C,A){const k=[];for(let z=0;z<C.length;z++)k.push(C.charAt(z)),z<A.length&&k.push(A.charAt(z));return k.join("")}function To(C){return vt.create("missing-app-config-values",{valueName:C})}Gu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Gu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Jr{constructor(A,k,z){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const me=function yu(C){if(!C||!C.options)throw To("App Configuration Object");if(!C.name)throw To("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:k}=C;for(const z of A)if(!k[z])throw To(z);return{appName:C.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:me,installations:k,analyticsProvider:z}}_delete(){return Promise.resolve()}}function Mi(C){return Di.apply(this,arguments)}function Di(){return(Di=(0,de.Z)(function*(C){var A;try{C.swRegistration=yield navigator.serviceWorker.register(pr,{scope:is}),C.swRegistration.update().catch(()=>{})}catch(k){throw vt.create("failed-service-worker-registration",{browserErrorMessage:null===(A=k)||void 0===A?void 0:A.message})}})).apply(this,arguments)}function bo(C,A){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,de.Z)(function*(C,A){if(!A&&!C.swRegistration&&(yield Mi(C)),A||!C.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw vt.create("invalid-sw-registration");C.swRegistration=A}})).apply(this,arguments)}function zu(C,A){return Co.apply(this,arguments)}function Co(){return(Co=(0,de.Z)(function*(C,A){A?C.vapidKey=A:C.vapidKey||(C.vapidKey=ws)})).apply(this,arguments)}function Ts(){return(Ts=(0,de.Z)(function*(C,A){if(!navigator)throw vt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw vt.create("permission-blocked");return yield zu(C,A?.vapidKey),yield bo(C,A?.serviceWorkerRegistration),zo(C)})).apply(this,arguments)}function za(C,A,k){return bs.apply(this,arguments)}function bs(){return(bs=(0,de.Z)(function*(C,A,k){const z=ya(A);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(z,{message_id:k[ss],message_name:k[os],message_time:k[Is],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ya(C){switch(C){case Br.NOTIFICATION_CLICKED:return"notification_open";case Br.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function So(){return(So=(0,de.Z)(function*(C,A){const k=A.data;if(!k.isFirebaseMessaging)return;C.onMessageHandler&&k.messageType===Br.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Ui(k)):C.onMessageHandler.next(Ui(k)));const z=k.data;ll(z)&&"1"===z[Ai]&&(yield za(C,k.messageType,z))})).apply(this,arguments)}const cs="@firebase/messaging",to=C=>{const A=new Jr(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function va(C,A){return So.apply(this,arguments)}(A,k)),A},$s=C=>{const A=C.getProvider("messaging").getImmediate();return{getToken:z=>function ma(C,A){return Ts.apply(this,arguments)}(A,z)}};function _a(){return no.apply(this,arguments)}function no(){return(no=(0,de.Z)(function*(){try{yield(0,Ie.eu)()}catch{return!1}return typeof window<"u"&&(0,Ie.hl)()&&(0,Ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Wa(){(0,fe.Xd)(new tt.wA("messaging",to,"PUBLIC")),(0,fe.Xd)(new tt.wA("messaging-internal",$s,"PRIVATE")),(0,fe.KN)(cs,"0.9.16"),(0,fe.KN)(cs,"0.9.16","esm2017")}();const xo="analytics",Ku="firebase_id",ro="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qo="https://www.googletagmanager.com/gtag/js",er=new Ee.Yd("@firebase/analytics");function qa(C){return Promise.all(C.map(A=>A.catch(k=>k)))}function qu(C,A){const k=document.createElement("script");k.src=`${qo}?l=${C}&id=${A}`,k.async=!0,document.head.appendChild(k)}function io(C,A,k,z,me,ke){return vu.apply(this,arguments)}function vu(){return(vu=(0,de.Z)(function*(C,A,k,z,me,ke){const Ge=z[me];try{if(Ge)yield A[Ge];else{const Et=(yield qa(k)).find(vn=>vn.measurementId===me);Et&&(yield A[Et.appId])}}catch(Dt){er.error(Dt)}C("config",me,ke)})).apply(this,arguments)}function Zo(C,A,k,z,me){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,de.Z)(function*(C,A,k,z,me){try{let ke=[];if(me&&me.send_to){let Ge=me.send_to;Array.isArray(Ge)||(Ge=[Ge]);const Dt=yield qa(k);for(const Et of Ge){const vn=Dt.find(Kt=>Kt.measurementId===Et),mn=vn&&A[vn.appId];if(!mn){ke=[];break}ke.push(mn)}}0===ke.length&&(ke=Object.values(A)),yield Promise.all(ke),C("event",z,me||{})}catch(ke){er.error(ke)}})).apply(this,arguments)}function Za(){const C=window.document.getElementsByTagName("script");for(const A of Object.values(C))if(A.src&&A.src.includes(qo))return A;return null}const ei=new Ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ut=new class Yu{constructor(A={},k=1e3){this.throttleMetadata=A,this.intervalMillis=k}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,k){this.throttleMetadata[A]=k}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function mr(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function oo(C){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,de.Z)(function*(C){var A;const{appId:k,apiKey:z}=C,me={method:"GET",headers:mr(z)},ke=ro.replace("{app-id}",k),Ge=yield fetch(ke,me);if(200!==Ge.status&&304!==Ge.status){let Dt="";try{const Et=yield Ge.json();null!==(A=Et.error)&&void 0!==A&&A.message&&(Dt=Et.error.message)}catch{}throw ei.create("config-fetch-failed",{httpStatus:Ge.status,responseMessage:Dt})}return Ge.json()})).apply(this,arguments)}function Ut(C){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,de.Z)(function*(C,A=ut,k){const{appId:z,apiKey:me,measurementId:ke}=C.options;if(!z)throw ei.create("no-app-id");if(!me){if(ke)return{measurementId:ke,appId:z};throw ei.create("no-api-key")}const Ge=A.getThrottleMetadata(z)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Dt=new jr;return setTimeout((0,de.Z)(function*(){Dt.abort()}),void 0!==k?k:6e4),Ia({appId:z,apiKey:me,measurementId:ke},Ge,Dt,A)})).apply(this,arguments)}function Ia(C,A,k){return yt.apply(this,arguments)}function yt(){return(yt=(0,de.Z)(function*(C,{throttleEndTimeMillis:A,backoffCount:k},z,me=ut){var ke,Ge;const{appId:Dt,measurementId:Et}=C;try{yield Fe(z,A)}catch(vn){if(Et)return er.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Et} provided in the "measurementId" field in the local Firebase config. [${null===(ke=vn)||void 0===ke?void 0:ke.message}]`),{appId:Dt,measurementId:Et};throw vn}try{const vn=yield oo(C);return me.deleteThrottleMetadata(Dt),vn}catch(vn){const mn=vn;if(!ct(mn)){if(me.deleteThrottleMetadata(Dt),Et)return er.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Et} provided in the "measurementId" field in the local Firebase config. [${mn?.message}]`),{appId:Dt,measurementId:Et};throw vn}const Kt=503===Number(null===(Ge=mn?.customData)||void 0===Ge?void 0:Ge.httpStatus)?(0,Ie.$s)(k,me.intervalMillis,30):(0,Ie.$s)(k,me.intervalMillis),ui={throttleEndTimeMillis:Date.now()+Kt,backoffCount:k+1};return me.setThrottleMetadata(Dt,ui),er.debug(`Calling attemptFetch again in ${Kt} millis`),Ia(C,ui,z,me)}})).apply(this,arguments)}function Fe(C,A){return new Promise((k,z)=>{const me=Math.max(A-Date.now(),0),ke=setTimeout(k,me);C.addEventListener(()=>{clearTimeout(ke),z(ei.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}function ct(C){if(!(C instanceof Ie.ZR&&C.customData))return!1;const A=Number(C.customData.httpStatus);return 429===A||500===A||503===A||504===A}class jr{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let Ea,rn;function Da(){return(Da=(0,de.Z)(function*(C,A,k,z,me){if(me&&me.global)C("event",k,z);else{const ke=yield A;C("event",k,Object.assign(Object.assign({},z),{send_to:ke}))}})).apply(this,arguments)}function zs(C){rn=C}function Ya(C){Ea=C}function lr(){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,de.Z)(function*(){var C;if(!(0,Ie.hl)())return er.warn(ei.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ie.eu)()}catch(A){return er.warn(ei.create("indexeddb-unavailable",{errorInfo:null===(C=A)||void 0===C?void 0:C.toString()}).message),!1}return!0})).apply(this,arguments)}function Tn(){return(Tn=(0,de.Z)(function*(C,A,k,z,me,ke,Ge){var Dt;const Et=Ut(C);Et.then(gi=>{k[gi.measurementId]=gi.appId,C.options.measurementId&&gi.measurementId!==C.options.measurementId&&er.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${gi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(gi=>er.error(gi)),A.push(Et);const vn=lr().then(gi=>{if(gi)return z.getId()}),[mn,Kt]=yield Promise.all([Et,vn]);Za()||qu(ke,mn.measurementId),rn&&(me("consent","default",rn),zs(void 0)),me("js",new Date);const ui=null!==(Dt=Ge?.config)&&void 0!==Dt?Dt:{};return ui.origin="firebase",ui.update=!0,null!=Kt&&(ui[Ku]=Kt),me("config",mn.measurementId,ui),Ea&&(me("set",Ea),Ya(void 0)),mn.measurementId})).apply(this,arguments)}class Qa{constructor(A){this.app=A}_delete(){return delete wn[this.app.options.appId],Promise.resolve()}}let wn={},_t=[];const uo={};let _u,pi,Ss="dataLayer",xs=!1;function Bi(C,A,k){!function co(){const C=[];if((0,Ie.ru)()&&C.push("This is a browser extension environment."),(0,Ie.zI)()||C.push("Cookies are not available."),C.length>0){const A=C.map((z,me)=>`(${me+1}) ${z}`).join(" "),k=ei.create("invalid-analytics-context",{errorInfo:A});er.warn(k.message)}}();const z=C.options.appId;if(!z)throw ei.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw ei.create("no-api-key");er.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=wn[z])throw ei.create("already-exists",{id:z});if(!xs){!function Vi(C){let A=[];Array.isArray(window[C])?A=window[C]:window[C]=A}(Ss);const{wrappedGtag:ke,gtagCore:Ge}=function Zu(C,A,k,z,me){let ke=function(...Ge){window[z].push(arguments)};return window[me]&&"function"==typeof window[me]&&(ke=window[me]),window[me]=function so(C,A,k,z){function ke(){return(ke=(0,de.Z)(function*(Ge,Dt,Et){try{"event"===Ge?yield Zo(C,A,k,Dt,Et):"config"===Ge?yield io(C,A,k,z,Dt,Et):"consent"===Ge?C("consent","update",Et):C("set",Dt)}catch(vn){er.error(vn)}})).apply(this,arguments)}return function me(Ge,Dt,Et){return ke.apply(this,arguments)}}(ke,C,A,k),{gtagCore:ke,wrappedGtag:window[me]}}(wn,_t,uo,Ss,"gtag");pi=ke,_u=Ge,xs=!0}return wn[z]=function $r(C,A,k,z,me,ke,Ge){return Tn.apply(this,arguments)}(C,_t,uo,A,_u,Ss,k),new Qa(C)}function wu(){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,de.Z)(function*(){if((0,Ie.ru)()||!(0,Ie.zI)()||!(0,Ie.hl)())return!1;try{return yield(0,Ie.eu)()}catch{return!1}})).apply(this,arguments)}const Qi="@firebase/analytics";!function Ns(){(0,fe.Xd)(new tt.wA(xo,(A,{options:k})=>Bi(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,fe.Xd)(new tt.wA("analytics-internal",function C(A){try{const k=A.getProvider(xo).getImmediate();return{logEvent:(z,me,ke)=>function Eu(C,A,k,z){C=(0,Ie.m9)(C),function Ri(C,A,k,z,me){return Da.apply(this,arguments)}(pi,wn[C.app.options.appId],A,k,z).catch(me=>er.error(me))}(k,z,me,ke)}}catch(k){throw ei.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,fe.KN)(Qi,"0.8.0"),(0,fe.KN)(Qi,"0.8.0","esm2017")}();var Ec=j(727);class Dr extends Ec.w0{constructor(A,k){super()}schedule(A,k=0){return this}}const Ps={setInterval(C,A,...k){const{delegate:z}=Ps;return z?.setInterval?z.setInterval(C,A,...k):setInterval(C,A,...k)},clearInterval(C){const{delegate:A}=Ps;return(A?.clearInterval||clearInterval)(C)},delegate:void 0};var lo=j(8737);class vi extends Dr{constructor(A,k){super(A,k),this.scheduler=A,this.work=k,this.pending=!1}schedule(A,k=0){if(this.closed)return this;this.state=A;const z=this.id,me=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId(me,z,k)),this.pending=!0,this.delay=k,this.id=this.id||this.requestAsyncId(me,this.id,k),this}requestAsyncId(A,k,z=0){return Ps.setInterval(A.flush.bind(A,this),z)}recycleAsyncId(A,k,z=0){if(null!=z&&this.delay===z&&!1===this.pending)return k;Ps.clearInterval(k)}execute(A,k){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const z=this._execute(A,k);if(z)return z;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(A,k){let me,z=!1;try{this.work(A)}catch(ke){z=!0,me=ke||new Error("Scheduled action threw falsy error")}if(z)return this.unsubscribe(),me}unsubscribe(){if(!this.closed){const{id:A,scheduler:k}=this,{actions:z}=k;this.work=this.state=this.scheduler=null,this.pending=!1,(0,lo.P)(z,this),null!=A&&(this.id=this.recycleAsyncId(k,A,null)),this.delay=null,super.unsubscribe()}}}const Zr={now:()=>(Zr.delegate||Date).now(),delegate:void 0};class Hr{constructor(A,k=Hr.now){this.schedulerActionCtor=A,this.now=k}schedule(A,k=0,z){return new this.schedulerActionCtor(this,A).schedule(z,k)}}Hr.now=Zr.now;class dr extends Hr{constructor(A,k=Hr.now){super(A,k),this.actions=[],this._active=!1,this._scheduled=void 0}flush(A){const{actions:k}=this;if(this._active)return void k.push(A);let z;this._active=!0;do{if(z=A.execute(A.state,A.delay))break}while(A=k.shift());if(this._active=!1,z){for(;A=k.shift();)A.unsubscribe();throw z}}}const y=new class v extends dr{}(class ba extends vi{constructor(A,k){super(A,k),this.scheduler=A,this.work=k}schedule(A,k=0){return k>0?super.schedule(A,k):(this.delay=k,this.state=A,this.scheduler.flush(this),this)}execute(A,k){return k>0||this.closed?super.execute(A,k):this._execute(A,k)}requestAsyncId(A,k,z=0){return null!=z&&z>0||null==z&&this.delay>0?super.requestAsyncId(A,k,z):A.flush(this)}}),D=new dr(vi);var O=j(9751),W=j(8505),Y=j(9468),xe=j(5363);const ft=new b.GfV("7.4.1"),St="__angularfire_symbol__analyticsIsSupportedValue",It="__angularfire_symbol__analyticsIsSupported",xn="__angularfire_symbol__remoteConfigIsSupportedValue",ai="__angularfire_symbol__remoteConfigIsSupported",Yr="__angularfire_symbol__messagingIsSupportedValue",ks="__angularfire_symbol__messagingIsSupported";function Ws(C,A,k){if(A){if(1===A.length)return A[0];const ke=A.filter(Ge=>Ge.app===k);if(1===ke.length)return ke[0]}return k.container.getProvider(C).getImmediate({optional:!0})}globalThis[It]||(globalThis[It]=wu().then(C=>globalThis[St]=C).catch(()=>globalThis[St]=!1)),globalThis[ks]||(globalThis[ks]=_a().then(C=>globalThis[Yr]=C).catch(()=>globalThis[Yr]=!1)),globalThis[ai]||(globalThis[ai]=Io().then(C=>globalThis[xn]=C).catch(()=>globalThis[xn]=!1));const Ju=(C,A)=>{const k=A?[A]:(0,F.C6)(),z=[];return k.forEach(me=>{me.container.getProvider(C).instances.forEach(Ge=>{z.includes(Ge)||z.push(Ge)})}),z};function _i(){}class ji{constructor(A,k=y){this.zone=A,this.delegate=k}now(){return this.delegate.now()}schedule(A,k,z){const me=this.zone;return this.delegate.schedule(function(Ge){me.runGuarded(()=>{A.apply(this,[Ge])})},k,z)}}class No{constructor(A){this.zone=A,this.task=null}call(A,k){const z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_i,{},_i,_i)),k.pipe((0,W.b)({next:z,complete:z,error:z})).subscribe(A).add(z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Po=(()=>{class C{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new ji(Zone.current)),this.insideAngular=k.run(()=>new ji(Zone.current,D)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(k){return new(k||C)(b.LFG(b.R0b))},C.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Ks(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Xa(C){return Ks().ngZone.runOutsideAngular(()=>C())}function qs(C){return Ks().ngZone.run(()=>C())}function eu(C){return Ks(),function Lr(C){return function(k){return(k=k.lift(new No(C.ngZone))).pipe((0,Y.R)(C.outsideAngular),(0,xe.Q)(C.insideAngular))}}(Ks())(C)}const Xu=(C,A)=>function(){const z=arguments;return A&&setTimeout(()=>{"scheduled"===A.state&&A.invoke()},10),qs(()=>C.apply(void 0,z))},ta=(C,A)=>function(){let k;const z=arguments;for(let ke=0;ke<arguments.length;ke++)"function"==typeof z[ke]&&(A&&(k||(k=qs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_i,{},_i,_i)))),z[ke]=Xu(z[ke],k));const me=Xa(()=>C.apply(this,z));if(!A){if(me instanceof O.y){const ke=Ks();return me.pipe((0,Y.R)(ke.outsideAngular),(0,xe.Q)(ke.insideAngular))}return qs(()=>me)}return me instanceof O.y?me.pipe(eu):me instanceof Promise?qs(()=>new Promise((ke,Ge)=>me.then(Dt=>qs(()=>ke(Dt)),Dt=>qs(()=>Ge(Dt))))):"function"==typeof me&&k?function(){return setTimeout(()=>{k&&"scheduled"===k.state&&k.invoke()},10),me.apply(this,arguments)}:qs(()=>me)}},2090:(qt,We,j)=>{j.d(We,{$s:()=>Vn,BH:()=>Ze,L:()=>ot,LL:()=>Ye,Mn:()=>Ne,US:()=>tt,ZR:()=>ye,b$:()=>Ue,d:()=>Be,eu:()=>ge,hl:()=>_e,m9:()=>Ht,ne:()=>Mr,ru:()=>xt,tV:()=>He,uI:()=>Ve,vZ:()=>nr,w1:()=>rt,xO:()=>Nn,xb:()=>Un,z$:()=>gt,zI:()=>le});const fe=function(re){const J=[];let K=0;for(let ne=0;ne<re.length;ne++){let q=re.charCodeAt(ne);q<128?J[K++]=q:q<2048?(J[K++]=q>>6|192,J[K++]=63&q|128):55296==(64512&q)&&ne+1<re.length&&56320==(64512&re.charCodeAt(ne+1))?(q=65536+((1023&q)<<10)+(1023&re.charCodeAt(++ne)),J[K++]=q>>18|240,J[K++]=q>>12&63|128,J[K++]=q>>6&63|128,J[K++]=63&q|128):(J[K++]=q>>12|224,J[K++]=q>>6&63|128,J[K++]=63&q|128)}return J},tt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(re,J){if(!Array.isArray(re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=J?this.byteToCharMapWebSafe_:this.byteToCharMap_,ne=[];for(let q=0;q<re.length;q+=3){const je=re[q],pt=q+1<re.length,Ct=pt?re[q+1]:0,_n=q+2<re.length,Dn=_n?re[q+2]:0;let vr=(15&Ct)<<2|Dn>>6,_r=63&Dn;_n||(_r=64,pt||(vr=64)),ne.push(K[je>>2],K[(3&je)<<4|Ct>>4],K[vr],K[_r])}return ne.join("")},encodeString(re,J){return this.HAS_NATIVE_SUPPORT&&!J?btoa(re):this.encodeByteArray(fe(re),J)},decodeString(re,J){return this.HAS_NATIVE_SUPPORT&&!J?atob(re):function(re){const J=[];let K=0,ne=0;for(;K<re.length;){const q=re[K++];if(q<128)J[ne++]=String.fromCharCode(q);else if(q>191&&q<224){const je=re[K++];J[ne++]=String.fromCharCode((31&q)<<6|63&je)}else if(q>239&&q<365){const _n=((7&q)<<18|(63&re[K++])<<12|(63&re[K++])<<6|63&re[K++])-65536;J[ne++]=String.fromCharCode(55296+(_n>>10)),J[ne++]=String.fromCharCode(56320+(1023&_n))}else{const je=re[K++],pt=re[K++];J[ne++]=String.fromCharCode((15&q)<<12|(63&je)<<6|63&pt)}}return J.join("")}(this.decodeStringToByteArray(re,J))},decodeStringToByteArray(re,J){this.init_();const K=J?this.charToByteMapWebSafe_:this.charToByteMap_,ne=[];for(let q=0;q<re.length;){const je=K[re.charAt(q++)],Ct=q<re.length?K[re.charAt(q)]:0;++q;const Dn=q<re.length?K[re.charAt(q)]:64;++q;const Sn=q<re.length?K[re.charAt(q)]:64;if(++q,null==je||null==Ct||null==Dn||null==Sn)throw Error();ne.push(je<<2|Ct>>4),64!==Dn&&(ne.push(Ct<<4&240|Dn>>2),64!==Sn&&ne.push(Dn<<6&192|Sn))}return ne},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let re=0;re<this.ENCODED_VALS.length;re++)this.byteToCharMap_[re]=this.ENCODED_VALS.charAt(re),this.charToByteMap_[this.byteToCharMap_[re]]=re,this.byteToCharMapWebSafe_[re]=this.ENCODED_VALS_WEBSAFE.charAt(re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[re]]=re,re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(re)]=re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(re)]=re)}}},ot=function(re){return function(re){const J=fe(re);return tt.encodeByteArray(J,!0)}(re).replace(/\./g,"")},He=function(re){try{return tt.decodeString(re,!0)}catch(J){console.error("base64Decode failed: ",J)}return null};class Ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((J,K)=>{this.resolve=J,this.reject=K})}wrapCallback(J){return(K,ne)=>{K?this.reject(K):this.resolve(ne),"function"==typeof J&&(this.promise.catch(()=>{}),1===J.length?J(K):J(K,ne))}}}function gt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function xt(){const re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof re&&void 0!==re.id}function Ue(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Be(){return gt().indexOf("Electron/")>=0}function rt(){const re=gt();return re.indexOf("MSIE ")>=0||re.indexOf("Trident/")>=0}function Ne(){return gt().indexOf("MSAppHost/")>=0}function _e(){return"object"==typeof indexedDB}function ge(){return new Promise((re,J)=>{try{let K=!0;const ne="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(ne);q.onsuccess=()=>{q.result.close(),K||self.indexedDB.deleteDatabase(ne),re(!0)},q.onupgradeneeded=()=>{K=!1},q.onerror=()=>{var je;J((null===(je=q.error)||void 0===je?void 0:je.message)||"")}}catch(K){J(K)}})}function le(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ye extends Error{constructor(J,K,ne){super(K),this.code=J,this.customData=ne,this.name="FirebaseError",Object.setPrototypeOf(this,ye.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ye.prototype.create)}}class Ye{constructor(J,K,ne){this.service=J,this.serviceName=K,this.errors=ne}create(J,...K){const ne=K[0]||{},q=`${this.service}/${J}`,je=this.errors[J],pt=je?function it(re,J){return re.replace(Nt,(K,ne)=>{const q=J[ne];return null!=q?String(q):`<${ne}?>`})}(je,ne):"Error";return new ye(q,`${this.serviceName}: ${pt} (${q}).`,ne)}}const Nt=/\{\$([^}]+)}/g;function Un(re){for(const J in re)if(Object.prototype.hasOwnProperty.call(re,J))return!1;return!0}function nr(re,J){if(re===J)return!0;const K=Object.keys(re),ne=Object.keys(J);for(const q of K){if(!ne.includes(q))return!1;const je=re[q],pt=J[q];if(Gt(je)&&Gt(pt)){if(!nr(je,pt))return!1}else if(je!==pt)return!1}for(const q of ne)if(!K.includes(q))return!1;return!0}function Gt(re){return null!==re&&"object"==typeof re}function Nn(re){const J=[];for(const[K,ne]of Object.entries(re))Array.isArray(ne)?ne.forEach(q=>{J.push(encodeURIComponent(K)+"="+encodeURIComponent(q))}):J.push(encodeURIComponent(K)+"="+encodeURIComponent(ne));return J.length?"&"+J.join("&"):""}function Mr(re,J){const K=new Pt(re,J);return K.subscribe.bind(K)}class Pt{constructor(J,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{J(this)}).catch(ne=>{this.error(ne)})}next(J){this.forEachObserver(K=>{K.next(J)})}error(J){this.forEachObserver(K=>{K.error(J)}),this.close(J)}complete(){this.forEachObserver(J=>{J.complete()}),this.close()}subscribe(J,K,ne){let q;if(void 0===J&&void 0===K&&void 0===ne)throw new Error("Missing Observer.");q=function or(re,J){if("object"!=typeof re||null===re)return!1;for(const K of J)if(K in re&&"function"==typeof re[K])return!0;return!1}(J,["next","error","complete"])?J:{next:J,error:K,complete:ne},void 0===q.next&&(q.next=ar),void 0===q.error&&(q.error=ar),void 0===q.complete&&(q.complete=ar);const je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch{}}),this.observers.push(q),je}unsubscribeOne(J){void 0===this.observers||void 0===this.observers[J]||(delete this.observers[J],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(J){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,J)}sendOne(J,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[J])try{K(this.observers[J])}catch(ne){typeof console<"u"&&console.error&&console.error(ne)}})}close(J){this.finalized||(this.finalized=!0,void 0!==J&&(this.finalError=J),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ar(){}function Vn(re,J=1e3,K=2){const ne=J*Math.pow(K,re),q=Math.round(.5*ne*(Math.random()-.5)*2);return Math.min(144e5,ne+q)}function Ht(re){return re&&re._delegate?re._delegate:re}},3848:(qt,We,j)=>{j.d(We,{v:()=>F});var b=j(8256);let F=(()=>{class de{constructor(){}}return de.\u0275fac=function(Ie){return new(Ie||de)},de.\u0275prov=b.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})()},3174:(qt,We,j)=>{var b=j(1481),F=j(8256),de=j(529),fe=j(5808),Ie=j(3848);let tt=(()=>{class ze{constructor(Ue,Be){this.commonService=Ue,this.router=Be}canActivate(Ue,Be){return this.getUser(),"/fare/login"==Be.url&&this.isLoggedIn()?(this.router.navigate(["/fare/dashboard"]),!1):!(("/fare/login"!=Be.url||this.isLoggedIn())&&!this.isLoggedIn()&&(this.router.navigate(["/fare/login"]),1))}getUser(){if(this.commonService.user)return;const Ue=localStorage.getItem("user");"undefined"!=Ue&&(this.commonService.user=JSON.parse(Ue))}isLoggedIn(){return!!this.commonService.user}}return ze.\u0275fac=function(Ue){return new(Ue||ze)(F.LFG(Ie.v),F.LFG(fe.F0))},ze.\u0275prov=F.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"}),ze})();var Ee=j(6895);let ot=(()=>{class ze{constructor(Ue){this.document=Ue,this.isDarkTheme=!1}initializeTheme(){localStorage.getItem("dark-theme")?(this.isDarkTheme=!0,this.document.body.classList.add("dark-theme")):(this.isDarkTheme=!1,this.document.body.classList.add("light-theme"))}switchTheme(){localStorage.getItem("dark-theme")?(this.document.body.classList.replace("dark-theme","light-theme"),this.isDarkTheme=!1,localStorage.removeItem("dark-theme")):(this.document.body.classList.replace("light-theme","dark-theme"),this.isDarkTheme=!0,localStorage.setItem("dark-theme"," "))}}return ze.\u0275fac=function(Ue){return new(Ue||ze)(F.LFG(Ee.K0))},ze.\u0275prov=F.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"}),ze})();const ie=[{path:"",component:(()=>{class ze{constructor(Ue,Be){this.themeService=Ue,this.router=Be,this.socialActive=!1,this.isDarkTheme=this.themeService.isDarkTheme}ngOnInit(){this.setUpScrollListener()}setUpScrollListener(){window.addEventListener("scroll",()=>{var Be=document.querySelector("#socials").getBoundingClientRect();this.socialActive=Be.top<window.innerHeight&&Be.bottom>=0})}switchTheme(){this.themeService.switchTheme()}scrollTo(Ue){this.router.navigate(["home"]).then(()=>{document.getElementById(Ue)?.scrollIntoView()})}isActive(Ue){return Ue==this.router.url}}return ze.\u0275fac=function(Ue){return new(Ue||ze)(F.Y36(ot),F.Y36(fe.F0))},ze.\u0275cmp=F.Xpm({type:ze,selectors:[["app-parent"]],decls:23,vars:4,consts:[[1,"navbar","navbar-expand-lg","fixed-top","material-navbar","m-2"],[1,"container-fluid","m-1"],["height","40","src","assets/logo.svg"],["data-bs-toggle","collapse","data-bs-target","#navbar",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbar",1,"collapse","navbar-collapse"],[1,"navbar-nav","nav-padding","px-2","align-items-center","ms-auto"],[1,"m-1",3,"ngClass","click"],[1,"my-1",3,"ngClass","click"],["routerLink","/media",1,"m-1",3,"ngClass"],["routerLink","/",1,"material-button-outlined","my-1"],["href","https://forms.gle/vzTGhFdCephRSEfJ6",1,"material-button-outlined","m-1"],["href","assets/epoch1_sponsorship_brochure.pdf",1,"material-button-outlined","my-1"],[1,"form-switch","m-1","pb-1"],["type","checkbox","id","themeSwitch",1,"form-check-input",3,"checked","change"],["id","top",2,"padding-top","100px"]],template:function(Ue,Be){1&Ue&&(F.TgZ(0,"nav",0)(1,"div",1),F._UZ(2,"img",2),F.TgZ(3,"button",3),F._UZ(4,"span",4),F.qZA(),F.TgZ(5,"div",5)(6,"div",6)(7,"button",7),F.NdJ("click",function(){return Be.scrollTo("top")}),F._uU(8,"Home"),F.qZA(),F.TgZ(9,"button",8),F.NdJ("click",function(){return Be.scrollTo("socials")}),F._uU(10,"Socials"),F.qZA(),F.TgZ(11,"button",9),F._uU(12,"Media"),F.qZA(),F.TgZ(13,"button",10),F._uU(14,"Fair"),F.qZA(),F.TgZ(15,"a",11),F._uU(16,"Recruitment"),F.qZA(),F.TgZ(17,"a",12),F._uU(18,"Sponsors"),F.qZA(),F.TgZ(19,"div",13)(20,"input",14),F.NdJ("change",function(){return Be.switchTheme()}),F.qZA()()()()()(),F.TgZ(21,"div",15),F._UZ(22,"router-outlet"),F.qZA()),2&Ue&&(F.xp6(7),F.Q6J("ngClass",Be.isActive("/home")&&!Be.socialActive?"material-button-filled":"material-button-outlined"),F.xp6(2),F.Q6J("ngClass",Be.isActive("/home")&&Be.socialActive?"material-button-filled":"material-button-outlined"),F.xp6(2),F.Q6J("ngClass",Be.isActive("/media")?"material-button-filled":"material-button-outlined"),F.xp6(9),F.Q6J("checked",Be.isDarkTheme))},dependencies:[Ee.mk,fe.lC,fe.rH]}),ze})(),loadChildren:()=>j.e(561).then(j.bind(j,8561)).then(ze=>ze.WebsiteModule)},{path:"fare",loadChildren:()=>j.e(241).then(j.bind(j,4241)).then(ze=>ze.FairAppModule),canActivate:[tt]}];let se=(()=>{class ze{}return ze.\u0275fac=function(Ue){return new(Ue||ze)},ze.\u0275mod=F.oAB({type:ze}),ze.\u0275inj=F.cJS({imports:[fe.Bz.forRoot(ie),fe.Bz]}),ze})(),Oe=(()=>{class ze{constructor(Ue){this.themeService=Ue}ngOnInit(){this.themeService.initializeTheme()}}return ze.\u0275fac=function(Ue){return new(Ue||ze)(F.Y36(ot))},ze.\u0275cmp=F.Xpm({type:ze,selectors:[["app-root"]],decls:1,vars:0,template:function(Ue,Be){1&Ue&&F._UZ(0,"router-outlet")},dependencies:[fe.lC]}),ze})();var Ze=j(3692),ue=j(9226);const gt_firebase={projectId:"git-commit-c14e1",appId:"1:840629976706:web:696613902852f550107e9b",storageBucket:"git-commit-c14e1.appspot.com",locationId:"asia-south1",apiKey:"AIzaSyAsy7J_mDvuVcWShxbQqOGk0qYBs4FvKTE",authDomain:"git-commit-c14e1.firebaseapp.com",messagingSenderId:"840629976706"};var Ve=j(7158);let Rt=(()=>{class ze{}return ze.\u0275fac=function(Ue){return new(Ue||ze)},ze.\u0275mod=F.oAB({type:ze,bootstrap:[Oe]}),ze.\u0275inj=F.cJS({imports:[b.b2,se,de.JF,(0,Ze.hX)(()=>(0,Ze.ZF)(gt_firebase)),(0,ue.Cm)(()=>(0,ue.ad)()),(0,Ve.AR)(()=>(0,Ve.v0)())]}),ze})();(0,F.G48)(),b.q6().bootstrapModule(Rt).catch(ze=>console.error(ze))},5867:(qt,We,j)=>{j.d(We,{C6:()=>b.C6,KN:()=>b.KN,Mq:()=>b.Mq,ZF:()=>b.ZF});var b=j(9681);(0,b.KN)("firebase","9.9.2","app")},5444:(qt,We,j)=>{j.d(We,{hJ:()=>ss,v0:()=>Ac,cx:()=>Xu,F6:()=>No,w7:()=>xo});var b=j(5861),F=j(2090),de=j(9681),fe=j(655),Ie=j(1877),tt=j(4859);const gt=function Ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ve=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ze=new Ie.Yd("@firebase/auth");function xt(_,...h){ze.logLevel<=Ie.in.ERROR&&ze.error(`Auth (${de.Jn}): ${_}`,...h)}function Ue(_,...h){throw mt(_,...h)}function Be(_,...h){return mt(_,...h)}function rt(_,h,p){const E=Object.assign(Object.assign({},gt()),{[h]:p});return new F.LL("auth","Firebase",E).create(h,{appName:_.name})}function Ne(_,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&Ue(_,"argument-error"),rt(_,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mt(_,...h){if("string"!=typeof _){const p=h[0],E=[...h.slice(1)];return E[0]&&(E[0].appName=_.name),_._errorFactory.create(p,...E)}return Ve.create(_,...h)}function he(_,h,...p){if(!_)throw mt(h,...p)}function _e(_){const h="INTERNAL ASSERTION FAILED: "+_;throw xt(h),new Error(h)}function ge(_,h){_||_e(h)}const le=new Map;function ve(_){ge(_ instanceof Function,"Expected a class definition");let h=le.get(_);return h?(ge(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,le.set(_,h),h)}function Ye(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Nt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Ft{constructor(h,p){this.shortDelay=h,this.longDelay=p,ge(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function Xt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function it(){return"http:"===Nt()||"https:"===Nt()}()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function sn(_,h){ge(_.emulator,"Emulator should always be set here");const{url:p}=_.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class Ln{static initialize(h,p,E){this.fetchImpl=h,p&&(this.headersImpl=p),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void _e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void _e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void _e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},$n=new Ft(3e4,6e4);function hn(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function cn(_,h,p,E){return Un.apply(this,arguments)}function Un(){return(Un=(0,b.Z)(function*(_,h,p,E,L={}){return dn(_,L,(0,b.Z)(function*(){let H={},Se={};E&&("GET"===h?Se=E:H={body:JSON.stringify(E)});const at=(0,F.xO)(Object.assign({key:_.config.apiKey},Se)).slice(1),Tt=yield _._getAdditionalHeaders();return Tt["Content-Type"]="application/json",_.languageCode&&(Tt["X-Firebase-Locale"]=_.languageCode),Ln.fetch()(Nn(_,_.config.apiHost,p,at),Object.assign({method:h,headers:Tt,referrerPolicy:"no-referrer"},H))}))})).apply(this,arguments)}function dn(_,h,p){return nr.apply(this,arguments)}function nr(){return(nr=(0,b.Z)(function*(_,h,p){_._canInitEmulator=!1;const E=Object.assign(Object.assign({},zt),h);try{const L=new Cn(_),H=yield Promise.race([p(),L.promise]);L.clearNetworkTimeout();const Se=yield H.json();if("needConfirmation"in Se)throw Pn(_,"account-exists-with-different-credential",Se);if(H.ok&&!("errorMessage"in Se))return Se;{const at=H.ok?Se.errorMessage:Se.error.message,[Tt,en]=at.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Tt)throw Pn(_,"credential-already-in-use",Se);if("EMAIL_EXISTS"===Tt)throw Pn(_,"email-already-in-use",Se);if("USER_DISABLED"===Tt)throw Pn(_,"user-disabled",Se);const bn=E[Tt]||Tt.toLowerCase().replace(/[_\s]+/g,"-");if(en)throw rt(_,bn,en);Ue(_,bn)}}catch(L){if(L instanceof F.ZR)throw L;Ue(_,"network-request-failed")}})).apply(this,arguments)}function Gt(_,h,p,E){return ni.apply(this,arguments)}function ni(){return(ni=(0,b.Z)(function*(_,h,p,E,L={}){const H=yield cn(_,h,p,E,L);return"mfaPendingCredential"in H&&Ue(_,"multi-factor-auth-required",{_serverResponse:H}),H})).apply(this,arguments)}function Nn(_,h,p,E){const L=`${h}${p}?${E}`;return _.config.emulator?sn(_.config,L):`${_.config.apiScheme}://${L}`}class Cn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,E)=>{this.timer=setTimeout(()=>E(Be(this.auth,"network-request-failed")),$n.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pn(_,h,p){const E={appName:_.name};p.email&&(E.email=p.email),p.phoneNumber&&(E.phoneNumber=p.phoneNumber);const L=Be(_,h,E);return L.customData._tokenResponse=p,L}function Mr(){return(Mr=(0,b.Z)(function*(_,h){return cn(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function or(_,h){return ar.apply(this,arguments)}function ar(){return(ar=(0,b.Z)(function*(_,h){return cn(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function rr(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function De(){return(De=(0,b.Z)(function*(_,h=!1){const p=(0,F.m9)(_),E=yield p.getIdToken(h),L=Q(E);he(L&&L.exp&&L.auth_time&&L.iat,p.auth,"internal-error");const H="object"==typeof L.firebase?L.firebase:void 0,Se=H?.sign_in_provider;return{claims:L,token:E,authTime:rr(X(L.auth_time)),issuedAtTime:rr(X(L.iat)),expirationTime:rr(X(L.exp)),signInProvider:Se||null,signInSecondFactor:H?.sign_in_second_factor||null}})).apply(this,arguments)}function X(_){return 1e3*Number(_)}function Q(_){var h;const[p,E,L]=_.split(".");if(void 0===p||void 0===E||void 0===L)return xt("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,F.tV)(E);return H?JSON.parse(H):(xt("Failed to decode base64 JWT payload"),null)}catch(H){return xt("Caught error parsing JWT payload as JSON",null===(h=H)||void 0===h?void 0:h.toString()),null}}function $e(_,h){return wt.apply(this,arguments)}function wt(){return(wt=(0,b.Z)(function*(_,h,p=!1){if(p)return h;try{return yield h}catch(E){throw E instanceof F.ZR&&$t(E)&&_.auth.currentUser===_&&(yield _.auth.signOut()),E}})).apply(this,arguments)}function $t({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Jt{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const L=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const E=this.getInterval(h);this.timerId=setTimeout((0,b.Z)(function*(){yield p.iteration()}),E)}iteration(){var h=this;return(0,b.Z)(function*(){var p;try{yield h.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null===(p=E)||void 0===p?void 0:p.code)&&h.schedule(!0))}h.schedule()})()}}class kt{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=rr(this.lastLoginAt),this.creationTime=rr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vn(_){return nn.apply(this,arguments)}function nn(){return(nn=(0,b.Z)(function*(_){var h;const p=_.auth,E=yield _.getIdToken(),L=yield $e(_,or(p,{idToken:E}));he(L?.users.length,p,"internal-error");const H=L.users[0];_._notifyReloadListener(H);const Se=null!==(h=H.providerUserInfo)&&void 0!==h&&h.length?J(H.providerUserInfo):[],at=re(_.providerData,Se),bn=!!_.isAnonymous&&!(_.email&&H.passwordHash||at?.length),yr={uid:H.localId,displayName:H.displayName||null,photoURL:H.photoUrl||null,email:H.email||null,emailVerified:H.emailVerified||!1,phoneNumber:H.phoneNumber||null,tenantId:H.tenantId||null,providerData:at,metadata:new kt(H.createdAt,H.lastLoginAt),isAnonymous:bn};Object.assign(_,yr)})).apply(this,arguments)}function Ht(){return(Ht=(0,b.Z)(function*(_){const h=(0,F.m9)(_);yield Vn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function re(_,h){return[..._.filter(E=>!h.some(L=>L.providerId===E.providerId)),...h]}function J(_){return _.map(h=>{var{providerId:p}=h,E=(0,fe._T)(h,["providerId"]);return{providerId:p,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function ne(){return(ne=(0,b.Z)(function*(_,h){const p=yield dn(_,{},(0,b.Z)(function*(){const E=(0,F.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:L,apiKey:H}=_.config,Se=Nn(_,L,"/v1/token",`key=${H}`),at=yield _._getAdditionalHeaders();return at["Content-Type"]="application/x-www-form-urlencoded",Ln.fetch()(Se,{method:"POST",headers:at,body:E})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class q{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){he(h.idToken,"internal-error"),he(typeof h.idToken<"u","internal-error"),he(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function be(_){const h=Q(_);return he(h,"internal-error"),he(typeof h.exp<"u","internal-error"),he(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var E=this;return(0,b.Z)(function*(){return he(!E.accessToken||E.refreshToken,h,"user-token-expired"),p||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(h,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var E=this;return(0,b.Z)(function*(){const{accessToken:L,refreshToken:H,expiresIn:Se}=yield function K(_,h){return ne.apply(this,arguments)}(h,p);E.updateTokensAndExpiration(L,H,Number(Se))})()}updateTokensAndExpiration(h,p,E){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(h,p){const{refreshToken:E,accessToken:L,expirationTime:H}=p,Se=new q;return E&&(he("string"==typeof E,"internal-error",{appName:h}),Se.refreshToken=E),L&&(he("string"==typeof L,"internal-error",{appName:h}),Se.accessToken=L),H&&(he("number"==typeof H,"internal-error",{appName:h}),Se.expirationTime=H),Se}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new q,this.toJSON())}_performRefresh(){return _e("not implemented")}}function je(_,h){he("string"==typeof _||typeof _>"u","internal-error",{appName:h})}class pt{constructor(h){var{uid:p,auth:E,stsTokenManager:L}=h,H=(0,fe._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=E,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=H.displayName||null,this.email=H.email||null,this.emailVerified=H.emailVerified||!1,this.phoneNumber=H.phoneNumber||null,this.photoURL=H.photoURL||null,this.isAnonymous=H.isAnonymous||!1,this.tenantId=H.tenantId||null,this.providerData=H.providerData?[...H.providerData]:[],this.metadata=new kt(H.createdAt||void 0,H.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,b.Z)(function*(){const E=yield $e(p,p.stsTokenManager.getToken(p.auth,h));return he(E,p.auth,"internal-error"),p.accessToken!==E&&(p.accessToken=E,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),E})()}getIdTokenResult(h){return function br(_){return De.apply(this,arguments)}(this,h)}reload(){return function Vt(_){return Ht.apply(this,arguments)}(this)}_assign(h){this!==h&&(he(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new pt(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var E=this;return(0,b.Z)(function*(){let L=!1;h.idToken&&h.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(h),L=!0),p&&(yield Vn(E)),yield E.auth._persistUserIfCurrent(E),L&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var h=this;return(0,b.Z)(function*(){const p=yield h.getIdToken();return yield $e(h,function En(_,h){return Mr.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var E,L,H,Se,at,Tt,en,bn;const yr=null!==(E=p.displayName)&&void 0!==E?E:void 0,Fo=null!==(L=p.email)&&void 0!==L?L:void 0,ru=null!==(H=p.phoneNumber)&&void 0!==H?H:void 0,Sr=null!==(Se=p.photoURL)&&void 0!==Se?Se:void 0,Na=null!==(at=p.tenantId)&&void 0!==at?at:void 0,iu=null!==(Tt=p._redirectEventId)&&void 0!==Tt?Tt:void 0,Zs=null!==(en=p.createdAt)&&void 0!==en?en:void 0,bu=null!==(bn=p.lastLoginAt)&&void 0!==bn?bn:void 0,{uid:Pa,emailVerified:pl,isAnonymous:xc,providerData:su,stsTokenManager:sa}=p;he(Pa&&sa,h,"internal-error");const gh=q.fromJSON(this.name,sa);he("string"==typeof Pa,h,"internal-error"),je(yr,h.name),je(Fo,h.name),he("boolean"==typeof pl,h,"internal-error"),he("boolean"==typeof xc,h,"internal-error"),je(ru,h.name),je(Sr,h.name),je(Na,h.name),je(iu,h.name),je(Zs,h.name),je(bu,h.name);const Cu=new pt({uid:Pa,auth:h,email:Fo,emailVerified:pl,displayName:yr,isAnonymous:xc,photoURL:Sr,phoneNumber:ru,tenantId:Na,stsTokenManager:gh,createdAt:Zs,lastLoginAt:bu});return su&&Array.isArray(su)&&(Cu.providerData=su.map(Mc=>Object.assign({},Mc))),iu&&(Cu._redirectEventId=iu),Cu}static _fromIdTokenResponse(h,p,E=!1){return(0,b.Z)(function*(){const L=new q;L.updateFromServerResponse(p);const H=new pt({uid:p.localId,auth:h,stsTokenManager:L,isAnonymous:E});return yield Vn(H),H})()}}const _n=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,b.Z)(function*(){return!0})()}_set(p,E){var L=this;return(0,b.Z)(function*(){L.storage[p]=E})()}_get(p){var E=this;return(0,b.Z)(function*(){const L=E.storage[p];return void 0===L?null:L})()}_remove(p){var E=this;return(0,b.Z)(function*(){delete E.storage[p]})()}_addListener(p,E){}_removeListener(p,E){}}return _.type="NONE",_})();function Dn(_,h,p){return`firebase:${_}:${h}:${p}`}class ur{constructor(h,p,E){this.persistence=h,this.auth=p,this.userKey=E;const{config:L,name:H}=this.auth;this.fullUserKey=Dn(this.userKey,L.apiKey,H),this.fullPersistenceKey=Dn("persistence",L.apiKey,H),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,b.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?pt._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,b.Z)(function*(){if(p.persistence===h)return;const E=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,E?p.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,E="authUser"){return(0,b.Z)(function*(){if(!p.length)return new ur(ve(_n),h,E);const L=(yield Promise.all(p.map(function(){var en=(0,b.Z)(function*(bn){if(yield bn._isAvailable())return bn});return function(bn){return en.apply(this,arguments)}}()))).filter(en=>en);let H=L[0]||ve(_n);const Se=Dn(E,h.config.apiKey,h.name);let at=null;for(const en of p)try{const bn=yield en._get(Se);if(bn){const yr=pt._fromJSON(h,bn);en!==H&&(at=yr),H=en;break}}catch{}const Tt=L.filter(en=>en._shouldAllowMigration);return H._shouldAllowMigration&&Tt.length?(H=Tt[0],at&&(yield H._set(Se,at.toJSON())),yield Promise.all(p.map(function(){var en=(0,b.Z)(function*(bn){if(bn!==H)try{yield bn._remove(Se)}catch{}});return function(bn){return en.apply(this,arguments)}}())),new ur(H,h,E)):new ur(H,h,E)})()}}function Sn(_){const h=_.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(On(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(vr(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Qr(h))return"Blackberry";if(mi(h))return"Webos";if(_r(h))return"Safari";if((h.includes("chrome/")||Ci(h))&&!h.includes("edge/"))return"Chrome";if(hr(h))return"Android";{const E=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function vr(_=(0,F.z$)()){return/firefox\//i.test(_)}function _r(_=(0,F.z$)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Ci(_=(0,F.z$)()){return/crios\//i.test(_)}function On(_=(0,F.z$)()){return/iemobile/i.test(_)}function hr(_=(0,F.z$)()){return/android/i.test(_)}function Qr(_=(0,F.z$)()){return/blackberry/i.test(_)}function mi(_=(0,F.z$)()){return/webos/i.test(_)}function Ce(_=(0,F.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Ke(_=(0,F.z$)()){return Ce(_)||hr(_)||mi(_)||Qr(_)||/windows phone/i.test(_)||On(_)}function Je(_,h=[]){let p;switch(_){case"Browser":p=Sn((0,F.z$)());break;case"Worker":p=`${Sn((0,F.z$)())}-${_}`;break;default:p=_}const E=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${de.Jn}/${E}`}class Bt{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const E=H=>new Promise((Se,at)=>{try{Se(h(H))}catch(Tt){at(Tt)}});E.onAbort=p,this.queue.push(E);const L=this.queue.length-1;return()=>{this.queue[L]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,b.Z)(function*(){var E;if(p.auth.currentUser===h)return;const L=[];try{for(const H of p.queue)yield H(h),H.onAbort&&L.push(H.onAbort)}catch(H){L.reverse();for(const Se of L)try{Se()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null===(E=H)||void 0===E?void 0:E.message})}})()}}class ln{constructor(h,p,E){this.app=h,this.heartbeatServiceProvider=p,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yi(this),this.idTokenSubscription=new yi(this),this.beforeStateQueue=new Bt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ve,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(h,p){var E=this;return p&&(this._popupRedirectResolver=ve(p)),this._initializationPromise=this.queue((0,b.Z)(function*(){var L,H;if(!E._deleted&&(E.persistenceManager=yield ur.create(E,h),!E._deleted)){if(null!==(L=E._popupRedirectResolver)&&void 0!==L&&L._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(p),E.lastNotifiedUid=(null===(H=E.currentUser)||void 0===H?void 0:H.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,b.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,b.Z)(function*(){var E;const L=yield p.assertedPersistence.getCurrentUser();let H=L,Se=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const at=null===(E=p.redirectUser)||void 0===E?void 0:E._redirectEventId,Tt=H?._redirectEventId,en=yield p.tryRedirectSignIn(h);(!at||at===Tt)&&en?.user&&(H=en.user,Se=!0)}if(!H)return p.directlySetCurrentUser(null);if(!H._redirectEventId){if(Se)try{yield p.beforeStateQueue.runMiddleware(H)}catch(at){H=L,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(at))}return H?p.reloadAndSetCurrentUserOrClear(H):p.directlySetCurrentUser(null)}return he(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===H._redirectEventId?p.directlySetCurrentUser(H):p.reloadAndSetCurrentUserOrClear(H)})()}tryRedirectSignIn(h){var p=this;return(0,b.Z)(function*(){let E=null;try{E=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,b.Z)(function*(){var E;try{yield Vn(h)}catch(L){if("auth/network-request-failed"!==(null===(E=L)||void 0===E?void 0:E.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function yn(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var h=this;return(0,b.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,b.Z)(function*(){const E=h?(0,F.m9)(h):null;return E&&he(E.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(E&&E._clone(p))})()}_updateCurrentUser(h,p=!1){var E=this;return(0,b.Z)(function*(){if(!E._deleted)return h&&he(E.tenantId===h.tenantId,E,"tenant-id-mismatch"),p||(yield E.beforeStateQueue.runMiddleware(h)),E.queue((0,b.Z)(function*(){yield E.directlySetCurrentUser(h),E.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,b.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,b.Z)(function*(){yield p.assertedPersistence.setPersistence(ve(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new F.LL("auth","Firebase",h())}onAuthStateChanged(h,p,E){return this.registerStateListener(this.authStateSubscription,h,p,E)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,E){return this.registerStateListener(this.idTokenSubscription,h,p,E)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var E=this;return(0,b.Z)(function*(){const L=yield E.getOrInitRedirectPersistenceManager(p);return null===h?L.removeCurrentUser():L.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,b.Z)(function*(){if(!p.redirectPersistenceManager){const E=h&&ve(h)||p._popupRedirectResolver;he(E,p,"argument-error"),p.redirectPersistenceManager=yield ur.create(p,[ve(E._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,b.Z)(function*(){var E,L;return p._isInitialized&&(yield p.queue((0,b.Z)(function*(){}))),(null===(E=p._currentUser)||void 0===E?void 0:E._redirectEventId)===h?p._currentUser:(null===(L=p.redirectUser)||void 0===L?void 0:L._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,b.Z)(function*(){if(h===p.currentUser)return p.queue((0,b.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,E,L){if(this._deleted)return()=>{};const H="function"==typeof p?p:p.next.bind(p),Se=this._isInitialized?Promise.resolve():this._initializationPromise;return he(Se,this,"internal-error"),Se.then(()=>H(this.currentUser)),"function"==typeof p?h.addObserver(p,E,L):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,b.Z)(function*(){p.currentUser&&p.currentUser!==h&&(p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh()),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Je(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,b.Z)(function*(){var p;const E={"X-Client-Version":h.clientVersion};h.app.options.appId&&(E["X-Firebase-gmpid"]=h.app.options.appId);const L=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return L&&(E["X-Firebase-Client"]=L),E})()}}function An(_){return(0,F.m9)(_)}class yi{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,F.ne)(p=>this.observer=p)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class tn{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return _e("not implemented")}_getIdTokenResponse(h){return _e("not implemented")}_linkToIdToken(h,p){return _e("not implemented")}_getReauthenticationResolver(h){return _e("not implemented")}}function Ir(_,h){return Er.apply(this,arguments)}function Er(){return(Er=(0,b.Z)(function*(_,h){return Gt(_,"POST","/v1/accounts:signInWithIdp",hn(_,h))})).apply(this,arguments)}class ns extends tn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new ns(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):Ue("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:E,signInMethod:L}=p,H=(0,fe._T)(p,["providerId","signInMethod"]);if(!E||!L)return null;const Se=new ns(E,L);return Se.idToken=H.idToken||void 0,Se.accessToken=H.accessToken||void 0,Se.secret=H.secret,Se.nonce=H.nonce,Se.pendingToken=H.pendingToken||null,Se}_getIdTokenResponse(h){return Ir(h,this.buildRequest())}_linkToIdToken(h,p){const E=this.buildRequest();return E.idToken=p,Ir(h,E)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Ir(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,F.xO)(p)}return h}}class pr{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class is extends pr{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}let ss=(()=>{class _ extends is{constructor(){super("google.com"),this.addScope("profile")}static credential(p,E){return ns._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:E})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:E,oauthAccessToken:L}=p;if(!E&&!L)return null;try{return _.credential(E,L)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})();class qr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,E,L=!1){return(0,b.Z)(function*(){const H=yield pt._fromIdTokenResponse(h,E,L),Se=Eo(E);return new qr({user:H,providerId:Se,_tokenResponse:E,operationType:p})})()}static _forOperation(h,p,E){return(0,b.Z)(function*(){yield h._updateTokensIfNecessary(E,!0);const L=Eo(E);return new qr({user:h,providerId:L,_tokenResponse:E,operationType:p})})()}}function Eo(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}class Ho extends F.ZR{constructor(h,p,E,L){var H;super(p.code,p.message),this.operationType=E,this.user=L,Object.setPrototypeOf(this,Ho.prototype),this.customData={appName:h.name,tenantId:null!==(H=h.tenantId)&&void 0!==H?H:void 0,_serverResponse:p.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(h,p,E,L){return new Ho(h,p,E,L)}}function si(_,h,p,E){return("reauthenticate"===h?p._getReauthenticationResolver(_):p._getIdTokenResponse(_)).catch(H=>{throw"auth/multi-factor-auth-required"===H.code?Ho._fromErrorAndOperation(_,H,h,E):H})}function Bs(_,h){return Go.apply(this,arguments)}function Go(){return(Go=(0,b.Z)(function*(_,h,p=!1){const E=yield $e(_,h._linkToIdToken(_.auth,yield _.getIdToken()),p);return qr._forOperation(_,"link",E)})).apply(this,arguments)}function B(){return(B=(0,b.Z)(function*(_,h,p=!1){var E;const{auth:L}=_,H="reauthenticate";try{const Se=yield $e(_,si(L,H,h,_),p);he(Se.idToken,L,"internal-error");const at=Q(Se.idToken);he(at,L,"internal-error");const{sub:Tt}=at;return he(_.uid===Tt,L,"user-mismatch"),qr._forOperation(_,H,Se)}catch(Se){throw"auth/user-not-found"===(null===(E=Se)||void 0===E?void 0:E.code)&&Ue(L,"user-mismatch"),Se}})).apply(this,arguments)}function Le(){return(Le=(0,b.Z)(function*(_,h,p=!1){const E="signIn",L=yield si(_,E,h),H=yield qr._fromIdTokenResponse(_,E,L);return p||(yield _._updateCurrentUser(H.user)),H})).apply(this,arguments)}function xo(_){return(0,F.m9)(_).signOut()}const Zo="__sak";class Gs{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Zo,"1"),this.storage.removeItem(Zo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const ei=(()=>{class _ extends Gs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,E)=>this.onStorageEvent(p,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function so(){const _=(0,F.z$)();return _r(_)||Ce(_)}()&&function Ot(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ke(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const E of Object.keys(this.listeners)){const L=this.storage.getItem(E),H=this.localCache[E];L!==H&&p(E,H,L)}}onStorageEvent(p,E=!1){if(!p.key)return void this.forAllChangedKeys((at,Tt,en)=>{this.notifyListeners(at,en)});const L=p.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const at=this.storage.getItem(L);if(p.newValue!==at)null!==p.newValue?this.storage.setItem(L,p.newValue):this.storage.removeItem(L);else if(this.localCache[L]===p.newValue&&!E)return}const H=()=>{const at=this.storage.getItem(L);!E&&this.localCache[L]===at||this.notifyListeners(L,at)},Se=this.storage.getItem(L);!function Te(){return(0,F.w1)()&&10===document.documentMode}()||Se===p.newValue||p.newValue===p.oldValue?H():setTimeout(H,10)}notifyListeners(p,E){this.localCache[p]=E;const L=this.listeners[p];if(L)for(const H of Array.from(L))H(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,E,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:E,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,E){var L=()=>super._set,H=this;return(0,b.Z)(function*(){yield L().call(H,p,E),H.localCache[p]=JSON.stringify(E)})()}_get(p){var E=()=>super._get,L=this;return(0,b.Z)(function*(){const H=yield E().call(L,p);return L.localCache[p]=JSON.stringify(H),H})()}_remove(p){var E=()=>super._remove,L=this;return(0,b.Z)(function*(){yield E().call(L,p),delete L.localCache[p]})()}}return _.type="LOCAL",_})(),Ro=(()=>{class _ extends Gs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,E){}_removeListener(p,E){}}return _.type="SESSION",_})();let ut=(()=>{class _{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const E=this.receivers.find(H=>H.isListeningto(p));if(E)return E;const L=new _(p);return this.receivers.push(L),L}isListeningto(p){return this.eventTarget===p}handleEvent(p){var E=this;return(0,b.Z)(function*(){const L=p,{eventId:H,eventType:Se,data:at}=L.data,Tt=E.handlersMap[Se];if(!Tt?.size)return;L.ports[0].postMessage({status:"ack",eventId:H,eventType:Se});const en=Array.from(Tt).map(function(){var yr=(0,b.Z)(function*(Fo){return Fo(L.origin,at)});return function(Fo){return yr.apply(this,arguments)}}()),bn=yield function Yu(_){return Promise.all(_.map(function(){var h=(0,b.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(E){return{fulfilled:!1,reason:E}}});return function(p){return h.apply(this,arguments)}}()))}(en);L.ports[0].postMessage({status:"done",eventId:H,eventType:Se,response:bn})})()}_subscribe(p,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(E)}_unsubscribe(p,E){this.handlersMap[p]&&E&&this.handlersMap[p].delete(E),(!E||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function mr(_="",h=10){let p="";for(let E=0;E<h;E++)p+=Math.floor(10*Math.random());return _+p}class oo{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,E=50){var L=this;return(0,b.Z)(function*(){const H=typeof MessageChannel<"u"?new MessageChannel:null;if(!H)throw new Error("connection_unavailable");let Se,at;return new Promise((Tt,en)=>{const bn=mr("",20);H.port1.start();const yr=setTimeout(()=>{en(new Error("unsupported_event"))},E);at={messageChannel:H,onMessage(Fo){const ru=Fo;if(ru.data.eventId===bn)switch(ru.data.status){case"ack":clearTimeout(yr),Se=setTimeout(()=>{en(new Error("timeout"))},3e3);break;case"done":clearTimeout(Se),Tt(ru.data.response);break;default:clearTimeout(yr),clearTimeout(Se),en(new Error("invalid_response"))}}},L.handlers.add(at),H.port1.addEventListener("message",at.onMessage),L.target.postMessage({eventType:h,eventId:bn,data:p},[H.port2])}).finally(()=>{at&&L.removeMessageHandler(at)})})()}}function Kn(){return window}function Zt(){return typeof Kn().WorkerGlobalScope<"u"&&"function"==typeof Kn().importScripts}function yt(){return(yt=(0,b.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const jr="firebaseLocalStorageDb",Ri="firebaseLocalStorage",Da="fbase_key";class Zi{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Cs(_,h){return _.transaction([Ri],h?"readwrite":"readonly").objectStore(Ri)}function Yi(){const _=indexedDB.open(jr,1);return new Promise((h,p)=>{_.addEventListener("error",()=>{p(_.error)}),_.addEventListener("upgradeneeded",()=>{const E=_.result;try{E.createObjectStore(Ri,{keyPath:Da})}catch(L){p(L)}}),_.addEventListener("success",(0,b.Z)(function*(){const E=_.result;E.objectStoreNames.contains(Ri)?h(E):(E.close(),yield function Yo(){const _=indexedDB.deleteDatabase(jr);return new Zi(_).toPromise()}(),h(yield Yi()))}))})}function Qo(_,h,p){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,b.Z)(function*(_,h,p){const E=Cs(_,!0).put({[Da]:h,value:p});return new Zi(E).toPromise()})).apply(this,arguments)}function ao(){return(ao=(0,b.Z)(function*(_,h){const p=Cs(_,!1).get(h),E=yield new Zi(p).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function rn(_,h){const p=Cs(_,!0).delete(h);return new Zi(p).toPromise()}const Yt=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,b.Z)(function*(){return p.db||(p.db=yield Yi()),p.db})()}_withRetries(p){var E=this;return(0,b.Z)(function*(){let L=0;for(;;)try{const H=yield E._openDb();return yield p(H)}catch(H){if(L++>3)throw H;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,b.Z)(function*(){return Zt()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,b.Z)(function*(){p.receiver=ut._getInstance(function ct(){return Zt()?self:null}()),p.receiver._subscribe("keyChanged",function(){var E=(0,b.Z)(function*(L,H){return{keyProcessed:(yield p._poll()).includes(H.key)}});return function(L,H){return E.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var E=(0,b.Z)(function*(L,H){return["keyChanged"]});return function(L,H){return E.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,b.Z)(function*(){var E,L;if(p.activeServiceWorker=yield function Ia(){return yt.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new oo(p.activeServiceWorker);const H=yield p.sender._send("ping",{},800);!H||(null===(E=H[0])||void 0===E?void 0:E.fulfilled)&&(null===(L=H[0])||void 0===L?void 0:L.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var E=this;return(0,b.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Fe(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:p},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,b.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Yi();return yield Qo(p,Zo,"1"),yield rn(p,Zo),!0}catch{}return!1})()}_withPendingWrite(p){var E=this;return(0,b.Z)(function*(){E.pendingWrites++;try{yield p()}finally{E.pendingWrites--}})()}_set(p,E){var L=this;return(0,b.Z)(function*(){return L._withPendingWrite((0,b.Z)(function*(){return yield L._withRetries(H=>Qo(H,p,E)),L.localCache[p]=E,L.notifyServiceWorker(p)}))})()}_get(p){var E=this;return(0,b.Z)(function*(){const L=yield E._withRetries(H=>function Jo(_,h){return ao.apply(this,arguments)}(H,p));return E.localCache[p]=L,L})()}_remove(p){var E=this;return(0,b.Z)(function*(){return E._withPendingWrite((0,b.Z)(function*(){return yield E._withRetries(L=>rn(L,p)),delete E.localCache[p],E.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,b.Z)(function*(){const E=yield p._withRetries(Se=>{const at=Cs(Se,!1).getAll();return new Zi(at).toPromise()});if(!E)return[];if(0!==p.pendingWrites)return[];const L=[],H=new Set;for(const{fbase_key:Se,value:at}of E)H.add(Se),JSON.stringify(p.localCache[Se])!==JSON.stringify(at)&&(p.notifyListeners(Se,at),L.push(Se));for(const Se of Object.keys(p.localCache))p.localCache[Se]&&!H.has(Se)&&(p.notifyListeners(Se,null),L.push(Se));return L})()}notifyListeners(p,E){this.localCache[p]=E;const L=this.listeners[p];if(L)for(const H of Array.from(L))H(E)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,b.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Ss(_){return`__${_}${Math.floor(1e6*Math.random())}`}function Hr(_,h){return h?ve(h):(he(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}Ss("rcb"),new Ft(3e4,6e4);class dr extends tn{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Ir(h,this._buildIdpRequest())}_linkToIdToken(h,p){return Ir(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return Ir(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function v(_){return function oe(_,h){return Le.apply(this,arguments)}(_.auth,new dr(_),_.bypassAuthState)}function y(_){const{auth:h,user:p}=_;return he(p,h,"internal-error"),function M(_,h){return B.apply(this,arguments)}(p,new dr(_),_.bypassAuthState)}function m(_){return D.apply(this,arguments)}function D(){return(D=(0,b.Z)(function*(_){const{auth:h,user:p}=_;return he(p,h,"internal-error"),Bs(p,new dr(_),_.bypassAuthState)})).apply(this,arguments)}new Ft(2e3,1e4);const Yr=new Map;class ks extends class S{constructor(h,p,E,L,H=!1){this.auth=h,this.resolver=E,this.user=L,this.bypassAuthState=H,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,b.Z)(function*(E,L){h.pendingPromise={resolve:E,reject:L};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(H){h.reject(H)}});return function(E,L){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,b.Z)(function*(){const{urlResponse:E,sessionId:L,postBody:H,tenantId:Se,error:at,type:Tt}=h;if(at)return void p.reject(at);const en={auth:p.auth,requestUri:E,sessionId:L,tenantId:Se||void 0,postBody:H||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Tt)(en))}catch(bn){p.reject(bn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return v;case"linkViaPopup":case"linkViaRedirect":return m;case"reauthViaPopup":case"reauthViaRedirect":return y;default:Ue(this.auth,"internal-error")}}resolve(h){ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(h,p,E=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,E),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,b.Z)(function*(){let E=Yr.get(p.auth._key());if(!E){try{const H=(yield function Gr(_,h){return ho.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;E=()=>Promise.resolve(H)}catch(L){E=()=>Promise.reject(L)}Yr.set(p.auth._key(),E)}return p.bypassAuthState||Yr.set(p.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,E=this;return(0,b.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(E,h);if("unknown"!==h.type){if(h.eventId){const L=yield E.auth._redirectUserForId(h.eventId);if(L)return E.user=L,p().call(E,h);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,b.Z)(function*(){})()}cleanUp(){}}function ho(){return(ho=(0,b.Z)(function*(_,h){const p=ji(h),E=_i(_);if(!(yield E._isAvailable()))return!1;const L="true"===(yield E._get(p));return yield E._remove(p),L})).apply(this,arguments)}function ds(_,h){return ea.apply(this,arguments)}function ea(){return(ea=(0,b.Z)(function*(_,h){return _i(_)._set(ji(h),"true")})).apply(this,arguments)}function Ju(_,h){Yr.set(_._key(),h)}function _i(_){return ve(_._redirectPersistence)}function ji(_){return Dn("pendingRedirect",_.config.apiKey,_.name)}function No(_,h,p){return function Po(_,h,p){return Ks.apply(this,arguments)}(_,h,p)}function Ks(){return(Ks=(0,b.Z)(function*(_,h,p){const E=An(_);Ne(_,h,pr);const L=Hr(E,p);return yield ds(L,E),L._openRedirect(E,h,"signInViaRedirect")})).apply(this,arguments)}function Xu(_,h){return ta.apply(this,arguments)}function ta(){return(ta=(0,b.Z)(function*(_,h){return yield An(_)._initializationPromise,C(_,h,!1)})).apply(this,arguments)}function C(_,h){return A.apply(this,arguments)}function A(){return(A=(0,b.Z)(function*(_,h,p=!1){const E=An(_),L=Hr(E,h),Se=yield new ks(E,L,p).execute();return Se&&!p&&(delete Se.user._redirectEventId,yield E._persistUserIfCurrent(Se.user),yield E._setRedirectUser(null,h)),Se})).apply(this,arguments)}class ke{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(h,E)&&(p=!0,this.sendToConsumer(h,E),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Et(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Dt(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var E;if(h.error&&!Dt(h)){const L=(null===(E=h.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";p.onError(Be(this.auth,L))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const E=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&E}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ge(h))}saveEventToCache(h){this.cachedEventUids.add(Ge(h)),this.lastProcessedEventTime=Date.now()}}function Ge(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function Dt({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===h?.code}function vn(_){return mn.apply(this,arguments)}function mn(){return(mn=(0,b.Z)(function*(_,h={}){return cn(_,"GET","/v1/projects",h)})).apply(this,arguments)}const Kt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ui=/^https?/;function fo(){return(fo=(0,b.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield vn(_);for(const p of h)try{if(ko(p))return}catch{}Ue(_,"unauthorized-domain")})).apply(this,arguments)}function ko(_){const h=Ye(),{protocol:p,hostname:E}=new URL(h);if(_.startsWith("chrome-extension://")){const Se=new URL(_);return""===Se.hostname&&""===E?"chrome-extension:"===p&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&Se.hostname===E}if(!ui.test(p))return!1;if(Kt.test(_))return E===_;const L=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(E)}const fs=new Ft(3e4,6e4);function na(){const _=Kn().___jsl;if(_?.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let p=0;p<_.CP.length;p++)_.CP[p]=null}let ra=null;function Oo(_){return ra=ra||function ci(_){return new Promise((h,p)=>{var E,L,H;function Se(){na(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{na(),p(Be(_,"network-request-failed"))},timeout:fs.get()})}if(null!==(L=null===(E=Kn().gapi)||void 0===E?void 0:E.iframes)&&void 0!==L&&L.Iframe)h(gapi.iframes.getContext());else{if(null===(H=Kn().gapi)||void 0===H||!H.load){const at=Ss("iframefcb");return Kn()[at]=()=>{gapi.load?Se():p(Be(_,"network-request-failed"))},function uo(_){return new Promise((h,p)=>{const E=document.createElement("script");E.setAttribute("src",_),E.onload=h,E.onerror=L=>{const H=Be("internal-error");H.customData=L,p(H)},E.type="text/javascript",E.charset="UTF-8",function _t(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(E)})}(`https://apis.google.com/js/api.js?onload=${at}`).catch(Tt=>p(Tt))}Se()}}).catch(h=>{throw ra=null,h})}(_),ra}const Sa=new Ft(5e3,15e3),hh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tc(_){const h=_.config;he(h.authDomain,_,"auth-domain-config-required");const p=h.emulator?sn(h,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,E={apiKey:h.apiKey,appName:_.name,v:de.Jn},L=fh.get(_.config.apiHost);L&&(E.eid=L);const H=_._getFrameworks();return H.length&&(E.fw=H.join(",")),`${p}?${(0,F.xO)(E).slice(1)}`}function Aa(){return Aa=(0,b.Z)(function*(_){const h=yield Oo(_),p=Kn().gapi;return he(p,_,"internal-error"),h.open({where:document.body,url:Tc(_),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hh,dontclear:!0},E=>new Promise(function(){var L=(0,b.Z)(function*(H,Se){yield E.restyle({setHideOnLeave:!1});const at=Be(_,"network-request-failed"),Tt=Kn().setTimeout(()=>{Se(at)},Sa.get());function en(){Kn().clearTimeout(Tt),H(E)}E.ping(en).then(en,()=>{Se(at)})});return function(H,Se){return L.apply(this,arguments)}}()))}),Aa.apply(this,arguments)}const sd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class tu{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nu(_,h,p,E,L,H){he(_.config.authDomain,_,"auth-domain-config-required"),he(_.config.apiKey,_,"invalid-api-key");const Se={apiKey:_.config.apiKey,appName:_.name,authType:p,redirectUrl:E,v:de.Jn,eventId:L};if(h instanceof pr){h.setDefaultLanguage(_.languageCode),Se.providerId=h.providerId||"",(0,F.xb)(h.getCustomParameters())||(Se.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Tt,en]of Object.entries(H||{}))Se[Tt]=en}if(h instanceof is){const Tt=h.getScopes().filter(en=>""!==en);Tt.length>0&&(Se.scopes=Tt.join(","))}_.tenantId&&(Se.tid=_.tenantId);const at=Se;for(const Tt of Object.keys(at))void 0===at[Tt]&&delete at[Tt];return`${function ps({config:_}){return _.emulator?sn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,F.xO)(at).slice(1)}`}const tc="webStorageSupport",Cc=class Ra{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ro,this._completeRedirectFn=C,this._overrideRedirectResult=Ju}_openPopup(h,p,E,L){var H=this;return(0,b.Z)(function*(){var Se;ge(null===(Se=H.eventManagers[h._key()])||void 0===Se?void 0:Se.manager,"_initialize() not called before _openPopup()");const at=nu(h,p,E,Ye(),L);return function hl(_,h,p,E=500,L=600){const H=Math.max((window.screen.availHeight-L)/2,0).toString(),Se=Math.max((window.screen.availWidth-E)/2,0).toString();let at="";const Tt=Object.assign(Object.assign({},sd),{width:E.toString(),height:L.toString(),top:H,left:Se}),en=(0,F.z$)().toLowerCase();p&&(at=Ci(en)?"_blank":p),vr(en)&&(h=h||"http://localhost",Tt.scrollbars="yes");const bn=Object.entries(Tt).reduce((Fo,[ru,Sr])=>`${Fo}${ru}=${Sr},`,"");if(function Z(_=(0,F.z$)()){var h;return Ce(_)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(en)&&"_self"!==at)return function Tu(_,h){const p=document.createElement("a");p.href=_,p.target=h;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(E)}(h||"",at),new tu(null);const yr=window.open(h||"",at,bn);he(yr,_,"popup-blocked");try{yr.focus()}catch{}return new tu(yr)}(h,at,mr())})()}_openRedirect(h,p,E,L){var H=this;return(0,b.Z)(function*(){return yield H._originValidation(h),function Ut(_){Kn().location.href=_}(nu(h,p,E,Ye(),L)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:L,promise:H}=this.eventManagers[p];return L?Promise.resolve(L):(ge(H,"If manager is not set, promise should be"),H)}const E=this.initAndGetManager(h);return this.eventManagers[p]={promise:E},E.catch(()=>{delete this.eventManagers[p]}),E}initAndGetManager(h){var p=this;return(0,b.Z)(function*(){const E=yield function ia(_){return Aa.apply(this,arguments)}(h),L=new ke(h);return E.register("authEvent",H=>(he(H?.authEvent,h,"invalid-auth-event"),{status:L.onEvent(H.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:L},p.iframes[h._key()]=E,L})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(tc,{type:tc},L=>{var H;const Se=null===(H=L?.[0])||void 0===H?void 0:H[tc];void 0!==Se&&p(!!Se),Ue(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function gi(_){return fo.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return Ke()||_r()||Ce()}};var Sc="@firebase/auth";class ud{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,b.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(E=>{var L;h((null===(L=E)||void 0===L?void 0:L.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);!p||(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ac(_=(0,de.Mq)()){const h=(0,de.qX)(_,"auth");return h.isInitialized()?h.getImmediate():function Me(_,h){const p=(0,de.qX)(_,"auth");if(p.isInitialized()){const L=p.getImmediate(),H=p.getOptions();if((0,F.vZ)(H,h??{}))return L;Ue(L,"already-initialized")}return p.initialize({options:h})}(_,{popupRedirectResolver:Cc,persistence:[Yt,ei,Ro]})}!function ld(_){(0,de.Xd)(new tt.wA("auth",(h,{options:p})=>{const E=h.getProvider("app").getImmediate(),L=h.getProvider("heartbeat"),{apiKey:H,authDomain:Se}=E.options;return((at,Tt)=>{he(H&&!H.includes(":"),"invalid-api-key",{appName:at.name}),he(!Se?.includes(":"),"argument-error",{appName:at.name});const en={apiKey:H,authDomain:Se,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Je(_)},bn=new ln(at,Tt,en);return function ye(_,h){const p=h?.persistence||[],E=(Array.isArray(p)?p:[p]).map(ve);h?.errorMap&&_._updateErrorMap(h.errorMap),_._initializeWithPersistence(E,h?.popupRedirectResolver)}(bn,p),bn})(E,L)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,E)=>{h.getProvider("auth-internal").initialize()})),(0,de.Xd)(new tt.wA("auth-internal",h=>{const p=An(h.getProvider("auth").getImmediate());return new ud(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,de.KN)(Sc,"0.20.5",function cd(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,de.KN)(Sc,"0.20.5","esm2017")}("Browser")},1135:(qt,We,j)=>{j.d(We,{X:()=>F});var b=j(7579);class F extends b.x{constructor(fe){super(),this._value=fe}get value(){return this.getValue()}_subscribe(fe){const Ie=super._subscribe(fe);return!Ie.closed&&fe.next(this._value),Ie}getValue(){const{hasError:fe,thrownError:Ie,_value:tt}=this;if(fe)throw Ie;return this._throwIfClosed(),tt}next(fe){super.next(this._value=fe)}}},9751:(qt,We,j)=>{j.d(We,{y:()=>ot});var b=j(2961),F=j(727),de=j(8822),fe=j(9635),Ie=j(2416),tt=j(576),Ee=j(2806);let ot=(()=>{class Oe{constructor(ue){ue&&(this._subscribe=ue)}lift(ue){const gt=new Oe;return gt.source=this,gt.operator=ue,gt}subscribe(ue,gt,Ve){const Rt=function se(Oe){return Oe&&Oe instanceof b.Lv||function ie(Oe){return Oe&&(0,tt.m)(Oe.next)&&(0,tt.m)(Oe.error)&&(0,tt.m)(Oe.complete)}(Oe)&&(0,F.Nn)(Oe)}(ue)?ue:new b.Hp(ue,gt,Ve);return(0,Ee.x)(()=>{const{operator:ze,source:xt}=this;Rt.add(ze?ze.call(Rt,xt):xt?this._subscribe(Rt):this._trySubscribe(Rt))}),Rt}_trySubscribe(ue){try{return this._subscribe(ue)}catch(gt){ue.error(gt)}}forEach(ue,gt){return new(gt=He(gt))((Ve,Rt)=>{const ze=new b.Hp({next:xt=>{try{ue(xt)}catch(Ue){Rt(Ue),ze.unsubscribe()}},error:Rt,complete:Ve});this.subscribe(ze)})}_subscribe(ue){var gt;return null===(gt=this.source)||void 0===gt?void 0:gt.subscribe(ue)}[de.L](){return this}pipe(...ue){return(0,fe.U)(ue)(this)}toPromise(ue){return new(ue=He(ue))((gt,Ve)=>{let Rt;this.subscribe(ze=>Rt=ze,ze=>Ve(ze),()=>gt(Rt))})}}return Oe.create=Ze=>new Oe(Ze),Oe})();function He(Oe){var Ze;return null!==(Ze=Oe??Ie.v.Promise)&&void 0!==Ze?Ze:Promise}},7579:(qt,We,j)=>{j.d(We,{x:()=>Ee});var b=j(9751),F=j(727);const fe=(0,j(3888).d)(He=>function(){He(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ie=j(8737),tt=j(2806);let Ee=(()=>{class He extends b.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(se){const Oe=new ot(this,this);return Oe.operator=se,Oe}_throwIfClosed(){if(this.closed)throw new fe}next(se){(0,tt.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Oe of this.currentObservers)Oe.next(se)}})}error(se){(0,tt.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=se;const{observers:Oe}=this;for(;Oe.length;)Oe.shift().error(se)}})}complete(){(0,tt.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:se}=this;for(;se.length;)se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var se;return(null===(se=this.observers)||void 0===se?void 0:se.length)>0}_trySubscribe(se){return this._throwIfClosed(),super._trySubscribe(se)}_subscribe(se){return this._throwIfClosed(),this._checkFinalizedStatuses(se),this._innerSubscribe(se)}_innerSubscribe(se){const{hasError:Oe,isStopped:Ze,observers:ue}=this;return Oe||Ze?F.Lc:(this.currentObservers=null,ue.push(se),new F.w0(()=>{this.currentObservers=null,(0,Ie.P)(ue,se)}))}_checkFinalizedStatuses(se){const{hasError:Oe,thrownError:Ze,isStopped:ue}=this;Oe?se.error(Ze):ue&&se.complete()}asObservable(){const se=new b.y;return se.source=this,se}}return He.create=(ie,se)=>new ot(ie,se),He})();class ot extends Ee{constructor(ie,se){super(),this.destination=ie,this.source=se}next(ie){var se,Oe;null===(Oe=null===(se=this.destination)||void 0===se?void 0:se.next)||void 0===Oe||Oe.call(se,ie)}error(ie){var se,Oe;null===(Oe=null===(se=this.destination)||void 0===se?void 0:se.error)||void 0===Oe||Oe.call(se,ie)}complete(){var ie,se;null===(se=null===(ie=this.destination)||void 0===ie?void 0:ie.complete)||void 0===se||se.call(ie)}_subscribe(ie){var se,Oe;return null!==(Oe=null===(se=this.source)||void 0===se?void 0:se.subscribe(ie))&&void 0!==Oe?Oe:F.Lc}}},2961:(qt,We,j)=>{j.d(We,{Hp:()=>Ve,Lv:()=>Oe});var b=j(576),F=j(727),de=j(2416),fe=j(7849);function Ie(){}const tt=He("C",void 0,void 0);function He(Be,rt,Ne){return{kind:Be,value:rt,error:Ne}}var ie=j(3410),se=j(2806);class Oe extends F.w0{constructor(rt){super(),this.isStopped=!1,rt?(this.destination=rt,(0,F.Nn)(rt)&&rt.add(this)):this.destination=Ue}static create(rt,Ne,mt){return new Ve(rt,Ne,mt)}next(rt){this.isStopped?xt(function ot(Be){return He("N",Be,void 0)}(rt),this):this._next(rt)}error(rt){this.isStopped?xt(function Ee(Be){return He("E",void 0,Be)}(rt),this):(this.isStopped=!0,this._error(rt))}complete(){this.isStopped?xt(tt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(rt){this.destination.next(rt)}_error(rt){try{this.destination.error(rt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ze=Function.prototype.bind;function ue(Be,rt){return Ze.call(Be,rt)}class gt{constructor(rt){this.partialObserver=rt}next(rt){const{partialObserver:Ne}=this;if(Ne.next)try{Ne.next(rt)}catch(mt){Rt(mt)}}error(rt){const{partialObserver:Ne}=this;if(Ne.error)try{Ne.error(rt)}catch(mt){Rt(mt)}else Rt(rt)}complete(){const{partialObserver:rt}=this;if(rt.complete)try{rt.complete()}catch(Ne){Rt(Ne)}}}class Ve extends Oe{constructor(rt,Ne,mt){let he;if(super(),(0,b.m)(rt)||!rt)he={next:rt??void 0,error:Ne??void 0,complete:mt??void 0};else{let _e;this&&de.v.useDeprecatedNextContext?(_e=Object.create(rt),_e.unsubscribe=()=>this.unsubscribe(),he={next:rt.next&&ue(rt.next,_e),error:rt.error&&ue(rt.error,_e),complete:rt.complete&&ue(rt.complete,_e)}):he=rt}this.destination=new gt(he)}}function Rt(Be){de.v.useDeprecatedSynchronousErrorHandling?(0,se.O)(Be):(0,fe.h)(Be)}function xt(Be,rt){const{onStoppedNotification:Ne}=de.v;Ne&&ie.z.setTimeout(()=>Ne(Be,rt))}const Ue={closed:!0,next:Ie,error:function ze(Be){throw Be},complete:Ie}},727:(qt,We,j)=>{j.d(We,{Lc:()=>tt,w0:()=>Ie,Nn:()=>Ee});var b=j(576);const de=(0,j(3888).d)(He=>function(se){He(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((Oe,Ze)=>`${Ze+1}) ${Oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se});var fe=j(8737);class Ie{constructor(ie){this.initialTeardown=ie,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ie;if(!this.closed){this.closed=!0;const{_parentage:se}=this;if(se)if(this._parentage=null,Array.isArray(se))for(const ue of se)ue.remove(this);else se.remove(this);const{initialTeardown:Oe}=this;if((0,b.m)(Oe))try{Oe()}catch(ue){ie=ue instanceof de?ue.errors:[ue]}const{_finalizers:Ze}=this;if(Ze){this._finalizers=null;for(const ue of Ze)try{ot(ue)}catch(gt){ie=ie??[],gt instanceof de?ie=[...ie,...gt.errors]:ie.push(gt)}}if(ie)throw new de(ie)}}add(ie){var se;if(ie&&ie!==this)if(this.closed)ot(ie);else{if(ie instanceof Ie){if(ie.closed||ie._hasParent(this))return;ie._addParent(this)}(this._finalizers=null!==(se=this._finalizers)&&void 0!==se?se:[]).push(ie)}}_hasParent(ie){const{_parentage:se}=this;return se===ie||Array.isArray(se)&&se.includes(ie)}_addParent(ie){const{_parentage:se}=this;this._parentage=Array.isArray(se)?(se.push(ie),se):se?[se,ie]:ie}_removeParent(ie){const{_parentage:se}=this;se===ie?this._parentage=null:Array.isArray(se)&&(0,fe.P)(se,ie)}remove(ie){const{_finalizers:se}=this;se&&(0,fe.P)(se,ie),ie instanceof Ie&&ie._removeParent(this)}}Ie.EMPTY=(()=>{const He=new Ie;return He.closed=!0,He})();const tt=Ie.EMPTY;function Ee(He){return He instanceof Ie||He&&"closed"in He&&(0,b.m)(He.remove)&&(0,b.m)(He.add)&&(0,b.m)(He.unsubscribe)}function ot(He){(0,b.m)(He)?He():He.unsubscribe()}},2416:(qt,We,j)=>{j.d(We,{v:()=>b});const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(qt,We,j)=>{j.d(We,{E:()=>F});const F=new(j(9751).y)(Ie=>Ie.complete())},8996:(qt,We,j)=>{j.d(We,{D:()=>rt});var b=j(8421),F=j(5363),de=j(9468),tt=j(9751),ot=j(2202),He=j(576),ie=j(9672);function Oe(Ne,mt){if(!Ne)throw new Error("Iterable cannot be null");return new tt.y(he=>{(0,ie.f)(he,mt,()=>{const _e=Ne[Symbol.asyncIterator]();(0,ie.f)(he,mt,()=>{_e.next().then(ge=>{ge.done?he.complete():he.next(ge.value)})},0,!0)})})}var Ze=j(3670),ue=j(8239),gt=j(1144),Ve=j(6495),Rt=j(2206),ze=j(4532),xt=j(3260);function rt(Ne,mt){return mt?function Be(Ne,mt){if(null!=Ne){if((0,Ze.c)(Ne))return function fe(Ne,mt){return(0,b.Xf)(Ne).pipe((0,de.R)(mt),(0,F.Q)(mt))}(Ne,mt);if((0,gt.z)(Ne))return function Ee(Ne,mt){return new tt.y(he=>{let _e=0;return mt.schedule(function(){_e===Ne.length?he.complete():(he.next(Ne[_e++]),he.closed||this.schedule())})})}(Ne,mt);if((0,ue.t)(Ne))return function Ie(Ne,mt){return(0,b.Xf)(Ne).pipe((0,de.R)(mt),(0,F.Q)(mt))}(Ne,mt);if((0,Rt.D)(Ne))return Oe(Ne,mt);if((0,Ve.T)(Ne))return function se(Ne,mt){return new tt.y(he=>{let _e;return(0,ie.f)(he,mt,()=>{_e=Ne[ot.h](),(0,ie.f)(he,mt,()=>{let ge,le;try{({value:ge,done:le}=_e.next())}catch(ve){return void he.error(ve)}le?he.complete():he.next(ge)},0,!0)}),()=>(0,He.m)(_e?.return)&&_e.return()})}(Ne,mt);if((0,xt.L)(Ne))return function Ue(Ne,mt){return Oe((0,xt.Q)(Ne),mt)}(Ne,mt)}throw(0,ze.z)(Ne)}(Ne,mt):(0,b.Xf)(Ne)}},8421:(qt,We,j)=>{j.d(We,{Xf:()=>Ze});var b=j(655),F=j(1144),de=j(8239),fe=j(9751),Ie=j(3670),tt=j(2206),Ee=j(4532),ot=j(6495),He=j(3260),ie=j(576),se=j(7849),Oe=j(8822);function Ze(Be){if(Be instanceof fe.y)return Be;if(null!=Be){if((0,Ie.c)(Be))return function ue(Be){return new fe.y(rt=>{const Ne=Be[Oe.L]();if((0,ie.m)(Ne.subscribe))return Ne.subscribe(rt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Be);if((0,F.z)(Be))return function gt(Be){return new fe.y(rt=>{for(let Ne=0;Ne<Be.length&&!rt.closed;Ne++)rt.next(Be[Ne]);rt.complete()})}(Be);if((0,de.t)(Be))return function Ve(Be){return new fe.y(rt=>{Be.then(Ne=>{rt.closed||(rt.next(Ne),rt.complete())},Ne=>rt.error(Ne)).then(null,se.h)})}(Be);if((0,tt.D)(Be))return ze(Be);if((0,ot.T)(Be))return function Rt(Be){return new fe.y(rt=>{for(const Ne of Be)if(rt.next(Ne),rt.closed)return;rt.complete()})}(Be);if((0,He.L)(Be))return function xt(Be){return ze((0,He.Q)(Be))}(Be)}throw(0,Ee.z)(Be)}function ze(Be){return new fe.y(rt=>{(function Ue(Be,rt){var Ne,mt,he,_e;return(0,b.mG)(this,void 0,void 0,function*(){try{for(Ne=(0,b.KL)(Be);!(mt=yield Ne.next()).done;)if(rt.next(mt.value),rt.closed)return}catch(ge){he={error:ge}}finally{try{mt&&!mt.done&&(_e=Ne.return)&&(yield _e.call(Ne))}finally{if(he)throw he.error}}rt.complete()})})(Be,rt).catch(Ne=>rt.error(Ne))})}},9646:(qt,We,j)=>{j.d(We,{of:()=>de});var b=j(7669),F=j(8996);function de(...fe){const Ie=(0,b.yG)(fe);return(0,F.D)(fe,Ie)}},5403:(qt,We,j)=>{j.d(We,{x:()=>F});var b=j(2961);function F(fe,Ie,tt,Ee,ot){return new de(fe,Ie,tt,Ee,ot)}class de extends b.Lv{constructor(Ie,tt,Ee,ot,He,ie){super(Ie),this.onFinalize=He,this.shouldUnsubscribe=ie,this._next=tt?function(se){try{tt(se)}catch(Oe){Ie.error(Oe)}}:super._next,this._error=ot?function(se){try{ot(se)}catch(Oe){Ie.error(Oe)}finally{this.unsubscribe()}}:super._error,this._complete=Ee?function(){try{Ee()}catch(se){Ie.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:tt}=this;super.unsubscribe(),!tt&&(null===(Ie=this.onFinalize)||void 0===Ie||Ie.call(this))}}}},4351:(qt,We,j)=>{j.d(We,{b:()=>de});var b=j(5577),F=j(576);function de(fe,Ie){return(0,F.m)(Ie)?(0,b.z)(fe,Ie,1):(0,b.z)(fe,1)}},9300:(qt,We,j)=>{j.d(We,{h:()=>de});var b=j(4482),F=j(5403);function de(fe,Ie){return(0,b.e)((tt,Ee)=>{let ot=0;tt.subscribe((0,F.x)(Ee,He=>fe.call(Ie,He,ot++)&&Ee.next(He)))})}},4004:(qt,We,j)=>{j.d(We,{U:()=>de});var b=j(4482),F=j(5403);function de(fe,Ie){return(0,b.e)((tt,Ee)=>{let ot=0;tt.subscribe((0,F.x)(Ee,He=>{Ee.next(fe.call(Ie,He,ot++))}))})}},8189:(qt,We,j)=>{j.d(We,{J:()=>de});var b=j(5577),F=j(4671);function de(fe=1/0){return(0,b.z)(F.y,fe)}},5577:(qt,We,j)=>{j.d(We,{z:()=>ot});var b=j(4004),F=j(8421),de=j(4482),fe=j(9672),Ie=j(5403),Ee=j(576);function ot(He,ie,se=1/0){return(0,Ee.m)(ie)?ot((Oe,Ze)=>(0,b.U)((ue,gt)=>ie(Oe,ue,Ze,gt))((0,F.Xf)(He(Oe,Ze))),se):("number"==typeof ie&&(se=ie),(0,de.e)((Oe,Ze)=>function tt(He,ie,se,Oe,Ze,ue,gt,Ve){const Rt=[];let ze=0,xt=0,Ue=!1;const Be=()=>{Ue&&!Rt.length&&!ze&&ie.complete()},rt=mt=>ze<Oe?Ne(mt):Rt.push(mt),Ne=mt=>{ue&&ie.next(mt),ze++;let he=!1;(0,F.Xf)(se(mt,xt++)).subscribe((0,Ie.x)(ie,_e=>{Ze?.(_e),ue?rt(_e):ie.next(_e)},()=>{he=!0},void 0,()=>{if(he)try{for(ze--;Rt.length&&ze<Oe;){const _e=Rt.shift();gt?(0,fe.f)(ie,gt,()=>Ne(_e)):Ne(_e)}Be()}catch(_e){ie.error(_e)}}))};return He.subscribe((0,Ie.x)(ie,rt,()=>{Ue=!0,Be()})),()=>{Ve?.()}}(Oe,Ze,He,se)))}},5363:(qt,We,j)=>{j.d(We,{Q:()=>fe});var b=j(9672),F=j(4482),de=j(5403);function fe(Ie,tt=0){return(0,F.e)((Ee,ot)=>{Ee.subscribe((0,de.x)(ot,He=>(0,b.f)(ot,Ie,()=>ot.next(He),tt),()=>(0,b.f)(ot,Ie,()=>ot.complete(),tt),He=>(0,b.f)(ot,Ie,()=>ot.error(He),tt)))})}},9468:(qt,We,j)=>{j.d(We,{R:()=>F});var b=j(4482);function F(de,fe=0){return(0,b.e)((Ie,tt)=>{tt.add(de.schedule(()=>Ie.subscribe(tt),fe))})}},8505:(qt,We,j)=>{j.d(We,{b:()=>Ie});var b=j(576),F=j(4482),de=j(5403),fe=j(4671);function Ie(tt,Ee,ot){const He=(0,b.m)(tt)||Ee||ot?{next:tt,error:Ee,complete:ot}:tt;return He?(0,F.e)((ie,se)=>{var Oe;null===(Oe=He.subscribe)||void 0===Oe||Oe.call(He);let Ze=!0;ie.subscribe((0,de.x)(se,ue=>{var gt;null===(gt=He.next)||void 0===gt||gt.call(He,ue),se.next(ue)},()=>{var ue;Ze=!1,null===(ue=He.complete)||void 0===ue||ue.call(He),se.complete()},ue=>{var gt;Ze=!1,null===(gt=He.error)||void 0===gt||gt.call(He,ue),se.error(ue)},()=>{var ue,gt;Ze&&(null===(ue=He.unsubscribe)||void 0===ue||ue.call(He)),null===(gt=He.finalize)||void 0===gt||gt.call(He)}))}):fe.y}},3410:(qt,We,j)=>{j.d(We,{z:()=>b});const b={setTimeout(F,de,...fe){const{delegate:Ie}=b;return Ie?.setTimeout?Ie.setTimeout(F,de,...fe):setTimeout(F,de,...fe)},clearTimeout(F){const{delegate:de}=b;return(de?.clearTimeout||clearTimeout)(F)},delegate:void 0}},2202:(qt,We,j)=>{j.d(We,{h:()=>F});const F=function b(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(qt,We,j)=>{j.d(We,{L:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(qt,We,j)=>{j.d(We,{_6:()=>tt,jO:()=>fe,yG:()=>Ie});var b=j(576);function de(Ee){return Ee[Ee.length-1]}function fe(Ee){return(0,b.m)(de(Ee))?Ee.pop():void 0}function Ie(Ee){return function F(Ee){return Ee&&(0,b.m)(Ee.schedule)}(de(Ee))?Ee.pop():void 0}function tt(Ee,ot){return"number"==typeof de(Ee)?Ee.pop():ot}},4742:(qt,We,j)=>{j.d(We,{D:()=>Ie});const{isArray:b}=Array,{getPrototypeOf:F,prototype:de,keys:fe}=Object;function Ie(Ee){if(1===Ee.length){const ot=Ee[0];if(b(ot))return{args:ot,keys:null};if(function tt(Ee){return Ee&&"object"==typeof Ee&&F(Ee)===de}(ot)){const He=fe(ot);return{args:He.map(ie=>ot[ie]),keys:He}}}return{args:Ee,keys:null}}},8737:(qt,We,j)=>{function b(F,de){if(F){const fe=F.indexOf(de);0<=fe&&F.splice(fe,1)}}j.d(We,{P:()=>b})},3888:(qt,We,j)=>{function b(F){const fe=F(Ie=>{Error.call(Ie),Ie.stack=(new Error).stack});return fe.prototype=Object.create(Error.prototype),fe.prototype.constructor=fe,fe}j.d(We,{d:()=>b})},1810:(qt,We,j)=>{function b(F,de){return F.reduce((fe,Ie,tt)=>(fe[Ie]=de[tt],fe),{})}j.d(We,{n:()=>b})},2806:(qt,We,j)=>{j.d(We,{O:()=>fe,x:()=>de});var b=j(2416);let F=null;function de(Ie){if(b.v.useDeprecatedSynchronousErrorHandling){const tt=!F;if(tt&&(F={errorThrown:!1,error:null}),Ie(),tt){const{errorThrown:Ee,error:ot}=F;if(F=null,Ee)throw ot}}else Ie()}function fe(Ie){b.v.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=Ie)}},9672:(qt,We,j)=>{function b(F,de,fe,Ie=0,tt=!1){const Ee=de.schedule(function(){fe(),tt?F.add(this.schedule(null,Ie)):this.unsubscribe()},Ie);if(F.add(Ee),!tt)return Ee}j.d(We,{f:()=>b})},4671:(qt,We,j)=>{function b(F){return F}j.d(We,{y:()=>b})},1144:(qt,We,j)=>{j.d(We,{z:()=>b});const b=F=>F&&"number"==typeof F.length&&"function"!=typeof F},2206:(qt,We,j)=>{j.d(We,{D:()=>F});var b=j(576);function F(de){return Symbol.asyncIterator&&(0,b.m)(de?.[Symbol.asyncIterator])}},576:(qt,We,j)=>{function b(F){return"function"==typeof F}j.d(We,{m:()=>b})},3670:(qt,We,j)=>{j.d(We,{c:()=>de});var b=j(8822),F=j(576);function de(fe){return(0,F.m)(fe[b.L])}},6495:(qt,We,j)=>{j.d(We,{T:()=>de});var b=j(2202),F=j(576);function de(fe){return(0,F.m)(fe?.[b.h])}},8239:(qt,We,j)=>{j.d(We,{t:()=>F});var b=j(576);function F(de){return(0,b.m)(de?.then)}},3260:(qt,We,j)=>{j.d(We,{L:()=>fe,Q:()=>de});var b=j(655),F=j(576);function de(Ie){return(0,b.FC)(this,arguments,function*(){const Ee=Ie.getReader();try{for(;;){const{value:ot,done:He}=yield(0,b.qq)(Ee.read());if(He)return yield(0,b.qq)(void 0);yield yield(0,b.qq)(ot)}}finally{Ee.releaseLock()}})}function fe(Ie){return(0,F.m)(Ie?.getReader)}},4482:(qt,We,j)=>{j.d(We,{A:()=>F,e:()=>de});var b=j(576);function F(fe){return(0,b.m)(fe?.lift)}function de(fe){return Ie=>{if(F(Ie))return Ie.lift(function(tt){try{return fe(tt,this)}catch(Ee){this.error(Ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(qt,We,j)=>{j.d(We,{Z:()=>fe});var b=j(4004);const{isArray:F}=Array;function fe(Ie){return(0,b.U)(tt=>function de(Ie,tt){return F(tt)?Ie(...tt):Ie(tt)}(Ie,tt))}},9635:(qt,We,j)=>{j.d(We,{U:()=>de,z:()=>F});var b=j(4671);function F(...fe){return de(fe)}function de(fe){return 0===fe.length?b.y:1===fe.length?fe[0]:function(tt){return fe.reduce((Ee,ot)=>ot(Ee),tt)}}},7849:(qt,We,j)=>{j.d(We,{h:()=>de});var b=j(2416),F=j(3410);function de(fe){F.z.setTimeout(()=>{const{onUnhandledError:Ie}=b.v;if(!Ie)throw fe;Ie(fe)})}},4532:(qt,We,j)=>{function b(F){return new TypeError(`You provided ${null!==F&&"object"==typeof F?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(We,{z:()=>b})},655:(qt,We,j)=>{function fe(le,ve){var Me={};for(var ye in le)Object.prototype.hasOwnProperty.call(le,ye)&&ve.indexOf(ye)<0&&(Me[ye]=le[ye]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var Ye=0;for(ye=Object.getOwnPropertySymbols(le);Ye<ye.length;Ye++)ve.indexOf(ye[Ye])<0&&Object.prototype.propertyIsEnumerable.call(le,ye[Ye])&&(Me[ye[Ye]]=le[ye[Ye]])}return Me}function ot(le,ve,Me,ye){return new(Me||(Me=Promise))(function(it,Nt){function Xt(sn){try{Ft(ye.next(sn))}catch(Ln){Nt(Ln)}}function yn(sn){try{Ft(ye.throw(sn))}catch(Ln){Nt(Ln)}}function Ft(sn){sn.done?it(sn.value):function Ye(it){return it instanceof Me?it:new Me(function(Nt){Nt(it)})}(sn.value).then(Xt,yn)}Ft((ye=ye.apply(le,ve||[])).next())})}function Rt(le){return this instanceof Rt?(this.v=le,this):new Rt(le)}function ze(le,ve,Me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ye,ye=Me.apply(le,ve||[]),it=[];return Ye={},Nt("next"),Nt("throw"),Nt("return"),Ye[Symbol.asyncIterator]=function(){return this},Ye;function Nt(zt){ye[zt]&&(Ye[zt]=function($n){return new Promise(function(hn,cn){it.push([zt,$n,hn,cn])>1||Xt(zt,$n)})})}function Xt(zt,$n){try{!function yn(zt){zt.value instanceof Rt?Promise.resolve(zt.value.v).then(Ft,sn):Ln(it[0][2],zt)}(ye[zt]($n))}catch(hn){Ln(it[0][3],hn)}}function Ft(zt){Xt("next",zt)}function sn(zt){Xt("throw",zt)}function Ln(zt,$n){zt($n),it.shift(),it.length&&Xt(it[0][0],it[0][1])}}function Ue(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,ve=le[Symbol.asyncIterator];return ve?ve.call(le):(le=function Oe(le){var ve="function"==typeof Symbol&&Symbol.iterator,Me=ve&&le[ve],ye=0;if(Me)return Me.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&ye>=le.length&&(le=void 0),{value:le&&le[ye++],done:!le}}};throw new TypeError(ve?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),Me={},ye("next"),ye("throw"),ye("return"),Me[Symbol.asyncIterator]=function(){return this},Me);function ye(it){Me[it]=le[it]&&function(Nt){return new Promise(function(Xt,yn){!function Ye(it,Nt,Xt,yn){Promise.resolve(yn).then(function(Ft){it({value:Ft,done:Xt})},Nt)}(Xt,yn,(Nt=le[it](Nt)).done,Nt.value)})}}}j.d(We,{FC:()=>ze,KL:()=>Ue,_T:()=>fe,mG:()=>ot,qq:()=>Rt})},6895:(qt,We,j)=>{j.d(We,{Do:()=>Ue,EM:()=>si,HT:()=>Ie,JF:()=>Go,K0:()=>Ee,Mx:()=>Us,O5:()=>Re,S$:()=>Rt,V_:()=>ie,Ye:()=>Be,b0:()=>xt,bD:()=>Br,ez:()=>$o,mk:()=>Rr,q:()=>de,w_:()=>tt});var b=j(8256);let F=null;function de(){return F}function Ie(x){F||(F=x)}class tt{}const Ee=new b.OlP("DocumentToken");let ot=(()=>{class x{historyGo(M){throw new Error("Not implemented")}}return x.\u0275fac=function(M){return new(M||x)},x.\u0275prov=b.Yz7({token:x,factory:function(){return function He(){return(0,b.LFG)(se)}()},providedIn:"platform"}),x})();const ie=new b.OlP("Location Initialized");let se=(()=>{class x extends ot{constructor(M){super(),this._doc=M,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return de().getBaseHref(this._doc)}onPopState(M){const B=de().getGlobalEventTarget(this._doc,"window");return B.addEventListener("popstate",M,!1),()=>B.removeEventListener("popstate",M)}onHashChange(M){const B=de().getGlobalEventTarget(this._doc,"window");return B.addEventListener("hashchange",M,!1),()=>B.removeEventListener("hashchange",M)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(M){this.location.pathname=M}pushState(M,B,oe){Oe()?this._history.pushState(M,B,oe):this.location.hash=oe}replaceState(M,B,oe){Oe()?this._history.replaceState(M,B,oe):this.location.hash=oe}forward(){this._history.forward()}back(){this._history.back()}historyGo(M=0){this._history.go(M)}getState(){return this._history.state}}return x.\u0275fac=function(M){return new(M||x)(b.LFG(Ee))},x.\u0275prov=b.Yz7({token:x,factory:function(){return function Ze(){return new se((0,b.LFG)(Ee))}()},providedIn:"platform"}),x})();function Oe(){return!!window.history.pushState}function ue(x,V){if(0==x.length)return V;if(0==V.length)return x;let M=0;return x.endsWith("/")&&M++,V.startsWith("/")&&M++,2==M?x+V.substring(1):1==M?x+V:x+"/"+V}function gt(x){const V=x.match(/#|\?|$/),M=V&&V.index||x.length;return x.slice(0,M-("/"===x[M-1]?1:0))+x.slice(M)}function Ve(x){return x&&"?"!==x[0]?"?"+x:x}let Rt=(()=>{class x{historyGo(M){throw new Error("Not implemented")}}return x.\u0275fac=function(M){return new(M||x)},x.\u0275prov=b.Yz7({token:x,factory:function(){return(0,b.f3M)(xt)},providedIn:"root"}),x})();const ze=new b.OlP("appBaseHref");let xt=(()=>{class x extends Rt{constructor(M,B){super(),this._platformLocation=M,this._removeListenerFns=[],this._baseHref=B??this._platformLocation.getBaseHrefFromDOM()??(0,b.f3M)(Ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}prepareExternalUrl(M){return ue(this._baseHref,M)}path(M=!1){const B=this._platformLocation.pathname+Ve(this._platformLocation.search),oe=this._platformLocation.hash;return oe&&M?`${B}${oe}`:B}pushState(M,B,oe,Le){const st=this.prepareExternalUrl(oe+Ve(Le));this._platformLocation.pushState(M,B,st)}replaceState(M,B,oe,Le){const st=this.prepareExternalUrl(oe+Ve(Le));this._platformLocation.replaceState(M,B,st)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return x.\u0275fac=function(M){return new(M||x)(b.LFG(ot),b.LFG(ze,8))},x.\u0275prov=b.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),Ue=(()=>{class x extends Rt{constructor(M,B){super(),this._platformLocation=M,this._baseHref="",this._removeListenerFns=[],null!=B&&(this._baseHref=B)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}path(M=!1){let B=this._platformLocation.hash;return null==B&&(B="#"),B.length>0?B.substring(1):B}prepareExternalUrl(M){const B=ue(this._baseHref,M);return B.length>0?"#"+B:B}pushState(M,B,oe,Le){let st=this.prepareExternalUrl(oe+Ve(Le));0==st.length&&(st=this._platformLocation.pathname),this._platformLocation.pushState(M,B,st)}replaceState(M,B,oe,Le){let st=this.prepareExternalUrl(oe+Ve(Le));0==st.length&&(st=this._platformLocation.pathname),this._platformLocation.replaceState(M,B,st)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return x.\u0275fac=function(M){return new(M||x)(b.LFG(ot),b.LFG(ze,8))},x.\u0275prov=b.Yz7({token:x,factory:x.\u0275fac}),x})(),Be=(()=>{class x{constructor(M){this._subject=new b.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=M;const B=this._locationStrategy.getBaseHref();this._baseHref=gt(mt(B)),this._locationStrategy.onPopState(oe=>{this._subject.emit({url:this.path(!0),pop:!0,state:oe.state,type:oe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(M=!1){return this.normalize(this._locationStrategy.path(M))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(M,B=""){return this.path()==this.normalize(M+Ve(B))}normalize(M){return x.stripTrailingSlash(function Ne(x,V){return x&&V.startsWith(x)?V.substring(x.length):V}(this._baseHref,mt(M)))}prepareExternalUrl(M){return M&&"/"!==M[0]&&(M="/"+M),this._locationStrategy.prepareExternalUrl(M)}go(M,B="",oe=null){this._locationStrategy.pushState(oe,"",M,B),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+Ve(B)),oe)}replaceState(M,B="",oe=null){this._locationStrategy.replaceState(oe,"",M,B),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+Ve(B)),oe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(M=0){this._locationStrategy.historyGo?.(M)}onUrlChange(M){return this._urlChangeListeners.push(M),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(B=>{this._notifyUrlChangeListeners(B.url,B.state)})),()=>{const B=this._urlChangeListeners.indexOf(M);this._urlChangeListeners.splice(B,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(M="",B){this._urlChangeListeners.forEach(oe=>oe(M,B))}subscribe(M,B,oe){return this._subject.subscribe({next:M,error:B,complete:oe})}}return x.normalizeQueryParams=Ve,x.joinWithSlash=ue,x.stripTrailingSlash=gt,x.\u0275fac=function(M){return new(M||x)(b.LFG(Rt))},x.\u0275prov=b.Yz7({token:x,factory:function(){return function rt(){return new Be((0,b.LFG)(Rt))}()},providedIn:"root"}),x})();function mt(x){return x.replace(/\/index.html$/,"")}function Us(x,V){V=encodeURIComponent(V);for(const M of x.split(";")){const B=M.indexOf("="),[oe,Le]=-1==B?[M,""]:[M.slice(0,B),M.slice(B+1)];if(oe.trim()===V)return decodeURIComponent(Le)}return null}let Rr=(()=>{class x{constructor(M,B,oe,Le){this._iterableDiffers=M,this._keyValueDiffers=B,this._ngEl=oe,this._renderer=Le,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(M){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof M?M.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(M){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof M?M.split(/\s+/):M,this._rawClass&&((0,b.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const M=this._iterableDiffer.diff(this._rawClass);M&&this._applyIterableChanges(M)}else if(this._keyValueDiffer){const M=this._keyValueDiffer.diff(this._rawClass);M&&this._applyKeyValueChanges(M)}}_applyKeyValueChanges(M){M.forEachAddedItem(B=>this._toggleClass(B.key,B.currentValue)),M.forEachChangedItem(B=>this._toggleClass(B.key,B.currentValue)),M.forEachRemovedItem(B=>{B.previousValue&&this._toggleClass(B.key,!1)})}_applyIterableChanges(M){M.forEachAddedItem(B=>{if("string"!=typeof B.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,b.AaK)(B.item)}`);this._toggleClass(B.item,!0)}),M.forEachRemovedItem(B=>this._toggleClass(B.item,!1))}_applyClasses(M){M&&(Array.isArray(M)||M instanceof Set?M.forEach(B=>this._toggleClass(B,!0)):Object.keys(M).forEach(B=>this._toggleClass(B,!!M[B])))}_removeClasses(M){M&&(Array.isArray(M)||M instanceof Set?M.forEach(B=>this._toggleClass(B,!1)):Object.keys(M).forEach(B=>this._toggleClass(B,!1)))}_toggleClass(M,B){(M=M.trim())&&M.split(/\s+/g).forEach(oe=>{B?this._renderer.addClass(this._ngEl.nativeElement,oe):this._renderer.removeClass(this._ngEl.nativeElement,oe)})}}return x.\u0275fac=function(M){return new(M||x)(b.Y36(b.ZZ4),b.Y36(b.aQg),b.Y36(b.SBq),b.Y36(b.Qsj))},x.\u0275dir=b.lG2({type:x,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),x})(),Re=(()=>{class x{constructor(M,B){this._viewContainer=M,this._context=new Qe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=B}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){dt("ngIfThen",M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){dt("ngIfElse",M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(M,B){return!0}}return x.\u0275fac=function(M){return new(M||x)(b.Y36(b.s_b),b.Y36(b.Rgc))},x.\u0275dir=b.lG2({type:x,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),x})();class Qe{constructor(){this.$implicit=null,this.ngIf=null}}function dt(x,V){if(V&&!V.createEmbeddedView)throw new Error(`${x} must be a TemplateRef, but received '${(0,b.AaK)(V)}'.`)}let $o=(()=>{class x{}return x.\u0275fac=function(M){return new(M||x)},x.\u0275mod=b.oAB({type:x}),x.\u0275inj=b.cJS({}),x})();const Br="browser";let si=(()=>{class x{}return x.\u0275prov=(0,b.Yz7)({token:x,providedIn:"root",factory:()=>new Wi((0,b.LFG)(Ee),window)}),x})();class Wi{constructor(V,M){this.document=V,this.window=M,this.offset=()=>[0,0]}setOffset(V){this.offset=Array.isArray(V)?()=>V:V}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(V){this.supportsScrolling()&&this.window.scrollTo(V[0],V[1])}scrollToAnchor(V){if(!this.supportsScrolling())return;const M=function as(x,V){const M=x.getElementById(V)||x.getElementsByName(V)[0];if(M)return M;if("function"==typeof x.createTreeWalker&&x.body&&(x.body.createShadowRoot||x.body.attachShadow)){const B=x.createTreeWalker(x.body,NodeFilter.SHOW_ELEMENT);let oe=B.currentNode;for(;oe;){const Le=oe.shadowRoot;if(Le){const st=Le.getElementById(V)||Le.querySelector(`[name="${V}"]`);if(st)return st}oe=B.nextNode()}}return null}(this.document,V);M&&(this.scrollToElement(M),M.focus())}setHistoryScrollRestoration(V){if(this.supportScrollRestoration()){const M=this.window.history;M&&M.scrollRestoration&&(M.scrollRestoration=V)}}scrollToElement(V){const M=V.getBoundingClientRect(),B=M.left+this.window.pageXOffset,oe=M.top+this.window.pageYOffset,Le=this.offset();this.window.scrollTo(B-Le[0],oe-Le[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const V=Ei(this.window.history)||Ei(Object.getPrototypeOf(this.window.history));return!(!V||!V.writable&&!V.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ei(x){return Object.getOwnPropertyDescriptor(x,"scrollRestoration")}class Go{}},529:(qt,We,j)=>{j.d(We,{JF:()=>rr,eN:()=>it});var b=j(6895),F=j(8256),de=j(9646),fe=j(9751),Ie=j(4351),tt=j(9300),Ee=j(4004);class ot{}class He{}class ie{constructor(X){this.normalizedNames=new Map,this.lazyUpdate=null,X?this.lazyInit="string"==typeof X?()=>{this.headers=new Map,X.split("\n").forEach(Q=>{const be=Q.indexOf(":");if(be>0){const $e=Q.slice(0,be),wt=$e.toLowerCase(),$t=Q.slice(be+1).trim();this.maybeSetNormalizedName($e,wt),this.headers.has(wt)?this.headers.get(wt).push($t):this.headers.set(wt,[$t])}})}:()=>{this.headers=new Map,Object.keys(X).forEach(Q=>{let be=X[Q];const $e=Q.toLowerCase();"string"==typeof be&&(be=[be]),be.length>0&&(this.headers.set($e,be),this.maybeSetNormalizedName(Q,$e))})}:this.headers=new Map}has(X){return this.init(),this.headers.has(X.toLowerCase())}get(X){this.init();const Q=this.headers.get(X.toLowerCase());return Q&&Q.length>0?Q[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(X){return this.init(),this.headers.get(X.toLowerCase())||null}append(X,Q){return this.clone({name:X,value:Q,op:"a"})}set(X,Q){return this.clone({name:X,value:Q,op:"s"})}delete(X,Q){return this.clone({name:X,value:Q,op:"d"})}maybeSetNormalizedName(X,Q){this.normalizedNames.has(Q)||this.normalizedNames.set(Q,X)}init(){this.lazyInit&&(this.lazyInit instanceof ie?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(X=>this.applyUpdate(X)),this.lazyUpdate=null))}copyFrom(X){X.init(),Array.from(X.headers.keys()).forEach(Q=>{this.headers.set(Q,X.headers.get(Q)),this.normalizedNames.set(Q,X.normalizedNames.get(Q))})}clone(X){const Q=new ie;return Q.lazyInit=this.lazyInit&&this.lazyInit instanceof ie?this.lazyInit:this,Q.lazyUpdate=(this.lazyUpdate||[]).concat([X]),Q}applyUpdate(X){const Q=X.name.toLowerCase();switch(X.op){case"a":case"s":let be=X.value;if("string"==typeof be&&(be=[be]),0===be.length)return;this.maybeSetNormalizedName(X.name,Q);const $e=("a"===X.op?this.headers.get(Q):void 0)||[];$e.push(...be),this.headers.set(Q,$e);break;case"d":const wt=X.value;if(wt){let $t=this.headers.get(Q);if(!$t)return;$t=$t.filter(Jt=>-1===wt.indexOf(Jt)),0===$t.length?(this.headers.delete(Q),this.normalizedNames.delete(Q)):this.headers.set(Q,$t)}else this.headers.delete(Q),this.normalizedNames.delete(Q)}}forEach(X){this.init(),Array.from(this.normalizedNames.keys()).forEach(Q=>X(this.normalizedNames.get(Q),this.headers.get(Q)))}}class Oe{encodeKey(X){return Ve(X)}encodeValue(X){return Ve(X)}decodeKey(X){return decodeURIComponent(X)}decodeValue(X){return decodeURIComponent(X)}}const ue=/%(\d[a-f0-9])/gi,gt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ve(De){return encodeURIComponent(De).replace(ue,(X,Q)=>gt[Q]??X)}function Rt(De){return`${De}`}class ze{constructor(X={}){if(this.updates=null,this.cloneFrom=null,this.encoder=X.encoder||new Oe,X.fromString){if(X.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ze(De,X){const Q=new Map;return De.length>0&&De.replace(/^\?/,"").split("&").forEach($e=>{const wt=$e.indexOf("="),[$t,Jt]=-1==wt?[X.decodeKey($e),""]:[X.decodeKey($e.slice(0,wt)),X.decodeValue($e.slice(wt+1))],kt=Q.get($t)||[];kt.push(Jt),Q.set($t,kt)}),Q}(X.fromString,this.encoder)}else X.fromObject?(this.map=new Map,Object.keys(X.fromObject).forEach(Q=>{const be=X.fromObject[Q],$e=Array.isArray(be)?be.map(Rt):[Rt(be)];this.map.set(Q,$e)})):this.map=null}has(X){return this.init(),this.map.has(X)}get(X){this.init();const Q=this.map.get(X);return Q?Q[0]:null}getAll(X){return this.init(),this.map.get(X)||null}keys(){return this.init(),Array.from(this.map.keys())}append(X,Q){return this.clone({param:X,value:Q,op:"a"})}appendAll(X){const Q=[];return Object.keys(X).forEach(be=>{const $e=X[be];Array.isArray($e)?$e.forEach(wt=>{Q.push({param:be,value:wt,op:"a"})}):Q.push({param:be,value:$e,op:"a"})}),this.clone(Q)}set(X,Q){return this.clone({param:X,value:Q,op:"s"})}delete(X,Q){return this.clone({param:X,value:Q,op:"d"})}toString(){return this.init(),this.keys().map(X=>{const Q=this.encoder.encodeKey(X);return this.map.get(X).map(be=>Q+"="+this.encoder.encodeValue(be)).join("&")}).filter(X=>""!==X).join("&")}clone(X){const Q=new ze({encoder:this.encoder});return Q.cloneFrom=this.cloneFrom||this,Q.updates=(this.updates||[]).concat(X),Q}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(X=>this.map.set(X,this.cloneFrom.map.get(X))),this.updates.forEach(X=>{switch(X.op){case"a":case"s":const Q=("a"===X.op?this.map.get(X.param):void 0)||[];Q.push(Rt(X.value)),this.map.set(X.param,Q);break;case"d":if(void 0===X.value){this.map.delete(X.param);break}{let be=this.map.get(X.param)||[];const $e=be.indexOf(Rt(X.value));-1!==$e&&be.splice($e,1),be.length>0?this.map.set(X.param,be):this.map.delete(X.param)}}}),this.cloneFrom=this.updates=null)}}class Ue{constructor(){this.map=new Map}set(X,Q){return this.map.set(X,Q),this}get(X){return this.map.has(X)||this.map.set(X,X.defaultValue()),this.map.get(X)}delete(X){return this.map.delete(X),this}has(X){return this.map.has(X)}keys(){return this.map.keys()}}function rt(De){return typeof ArrayBuffer<"u"&&De instanceof ArrayBuffer}function Ne(De){return typeof Blob<"u"&&De instanceof Blob}function mt(De){return typeof FormData<"u"&&De instanceof FormData}class _e{constructor(X,Q,be,$e){let wt;if(this.url=Q,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=X.toUpperCase(),function Be(De){switch(De){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||$e?(this.body=void 0!==be?be:null,wt=$e):wt=be,wt&&(this.reportProgress=!!wt.reportProgress,this.withCredentials=!!wt.withCredentials,wt.responseType&&(this.responseType=wt.responseType),wt.headers&&(this.headers=wt.headers),wt.context&&(this.context=wt.context),wt.params&&(this.params=wt.params)),this.headers||(this.headers=new ie),this.context||(this.context=new Ue),this.params){const $t=this.params.toString();if(0===$t.length)this.urlWithParams=Q;else{const Jt=Q.indexOf("?");this.urlWithParams=Q+(-1===Jt?"?":Jt<Q.length-1?"&":"")+$t}}else this.params=new ze,this.urlWithParams=Q}serializeBody(){return null===this.body?null:rt(this.body)||Ne(this.body)||mt(this.body)||function he(De){return typeof URLSearchParams<"u"&&De instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ze?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||mt(this.body)?null:Ne(this.body)?this.body.type||null:rt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ze?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(X={}){const Q=X.method||this.method,be=X.url||this.url,$e=X.responseType||this.responseType,wt=void 0!==X.body?X.body:this.body,$t=void 0!==X.withCredentials?X.withCredentials:this.withCredentials,Jt=void 0!==X.reportProgress?X.reportProgress:this.reportProgress;let kt=X.headers||this.headers,Vn=X.params||this.params;const nn=X.context??this.context;return void 0!==X.setHeaders&&(kt=Object.keys(X.setHeaders).reduce((Vt,Ht)=>Vt.set(Ht,X.setHeaders[Ht]),kt)),X.setParams&&(Vn=Object.keys(X.setParams).reduce((Vt,Ht)=>Vt.set(Ht,X.setParams[Ht]),Vn)),new _e(Q,be,wt,{params:Vn,headers:kt,context:nn,reportProgress:Jt,responseType:$e,withCredentials:$t})}}var ge=(()=>((ge=ge||{})[ge.Sent=0]="Sent",ge[ge.UploadProgress=1]="UploadProgress",ge[ge.ResponseHeader=2]="ResponseHeader",ge[ge.DownloadProgress=3]="DownloadProgress",ge[ge.Response=4]="Response",ge[ge.User=5]="User",ge))();class le{constructor(X,Q=200,be="OK"){this.headers=X.headers||new ie,this.status=void 0!==X.status?X.status:Q,this.statusText=X.statusText||be,this.url=X.url||null,this.ok=this.status>=200&&this.status<300}}class ve extends le{constructor(X={}){super(X),this.type=ge.ResponseHeader}clone(X={}){return new ve({headers:X.headers||this.headers,status:void 0!==X.status?X.status:this.status,statusText:X.statusText||this.statusText,url:X.url||this.url||void 0})}}class Me extends le{constructor(X={}){super(X),this.type=ge.Response,this.body=void 0!==X.body?X.body:null}clone(X={}){return new Me({body:void 0!==X.body?X.body:this.body,headers:X.headers||this.headers,status:void 0!==X.status?X.status:this.status,statusText:X.statusText||this.statusText,url:X.url||this.url||void 0})}}class ye extends le{constructor(X){super(X,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${X.url||"(unknown url)"}`:`Http failure response for ${X.url||"(unknown url)"}: ${X.status} ${X.statusText}`,this.error=X.error||null}}function Ye(De,X){return{body:X,headers:De.headers,context:De.context,observe:De.observe,params:De.params,reportProgress:De.reportProgress,responseType:De.responseType,withCredentials:De.withCredentials}}let it=(()=>{class De{constructor(Q){this.handler=Q}request(Q,be,$e={}){let wt;if(Q instanceof _e)wt=Q;else{let kt,Vn;kt=$e.headers instanceof ie?$e.headers:new ie($e.headers),$e.params&&(Vn=$e.params instanceof ze?$e.params:new ze({fromObject:$e.params})),wt=new _e(Q,be,void 0!==$e.body?$e.body:null,{headers:kt,context:$e.context,params:Vn,reportProgress:$e.reportProgress,responseType:$e.responseType||"json",withCredentials:$e.withCredentials})}const $t=(0,de.of)(wt).pipe((0,Ie.b)(kt=>this.handler.handle(kt)));if(Q instanceof _e||"events"===$e.observe)return $t;const Jt=$t.pipe((0,tt.h)(kt=>kt instanceof Me));switch($e.observe||"body"){case"body":switch(wt.responseType){case"arraybuffer":return Jt.pipe((0,Ee.U)(kt=>{if(null!==kt.body&&!(kt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return kt.body}));case"blob":return Jt.pipe((0,Ee.U)(kt=>{if(null!==kt.body&&!(kt.body instanceof Blob))throw new Error("Response is not a Blob.");return kt.body}));case"text":return Jt.pipe((0,Ee.U)(kt=>{if(null!==kt.body&&"string"!=typeof kt.body)throw new Error("Response is not a string.");return kt.body}));default:return Jt.pipe((0,Ee.U)(kt=>kt.body))}case"response":return Jt;default:throw new Error(`Unreachable: unhandled observe type ${$e.observe}}`)}}delete(Q,be={}){return this.request("DELETE",Q,be)}get(Q,be={}){return this.request("GET",Q,be)}head(Q,be={}){return this.request("HEAD",Q,be)}jsonp(Q,be){return this.request("JSONP",Q,{params:(new ze).append(be,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Q,be={}){return this.request("OPTIONS",Q,be)}patch(Q,be,$e={}){return this.request("PATCH",Q,Ye($e,be))}post(Q,be,$e={}){return this.request("POST",Q,Ye($e,be))}put(Q,be,$e={}){return this.request("PUT",Q,Ye($e,be))}}return De.\u0275fac=function(Q){return new(Q||De)(F.LFG(ot))},De.\u0275prov=F.Yz7({token:De,factory:De.\u0275fac}),De})();class Nt{constructor(X,Q){this.next=X,this.interceptor=Q}handle(X){return this.interceptor.intercept(X,this.next)}}const Xt=new F.OlP("HTTP_INTERCEPTORS");let yn=(()=>{class De{intercept(Q,be){return be.handle(Q)}}return De.\u0275fac=function(Q){return new(Q||De)},De.\u0275prov=F.Yz7({token:De,factory:De.\u0275fac}),De})();const nr=/^\)\]\}',?\n/;let ni=(()=>{class De{constructor(Q){this.xhrFactory=Q}handle(Q){if("JSONP"===Q.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new fe.y(be=>{const $e=this.xhrFactory.build();if($e.open(Q.method,Q.urlWithParams),Q.withCredentials&&($e.withCredentials=!0),Q.headers.forEach((re,J)=>$e.setRequestHeader(re,J.join(","))),Q.headers.has("Accept")||$e.setRequestHeader("Accept","application/json, text/plain, */*"),!Q.headers.has("Content-Type")){const re=Q.detectContentTypeHeader();null!==re&&$e.setRequestHeader("Content-Type",re)}if(Q.responseType){const re=Q.responseType.toLowerCase();$e.responseType="json"!==re?re:"text"}const wt=Q.serializeBody();let $t=null;const Jt=()=>{if(null!==$t)return $t;const re=$e.statusText||"OK",J=new ie($e.getAllResponseHeaders()),K=function Gt(De){return"responseURL"in De&&De.responseURL?De.responseURL:/^X-Request-URL:/m.test(De.getAllResponseHeaders())?De.getResponseHeader("X-Request-URL"):null}($e)||Q.url;return $t=new ve({headers:J,status:$e.status,statusText:re,url:K}),$t},kt=()=>{let{headers:re,status:J,statusText:K,url:ne}=Jt(),q=null;204!==J&&(q=typeof $e.response>"u"?$e.responseText:$e.response),0===J&&(J=q?200:0);let je=J>=200&&J<300;if("json"===Q.responseType&&"string"==typeof q){const pt=q;q=q.replace(nr,"");try{q=""!==q?JSON.parse(q):null}catch(Ct){q=pt,je&&(je=!1,q={error:Ct,text:q})}}je?(be.next(new Me({body:q,headers:re,status:J,statusText:K,url:ne||void 0})),be.complete()):be.error(new ye({error:q,headers:re,status:J,statusText:K,url:ne||void 0}))},Vn=re=>{const{url:J}=Jt(),K=new ye({error:re,status:$e.status||0,statusText:$e.statusText||"Unknown Error",url:J||void 0});be.error(K)};let nn=!1;const Vt=re=>{nn||(be.next(Jt()),nn=!0);let J={type:ge.DownloadProgress,loaded:re.loaded};re.lengthComputable&&(J.total=re.total),"text"===Q.responseType&&!!$e.responseText&&(J.partialText=$e.responseText),be.next(J)},Ht=re=>{let J={type:ge.UploadProgress,loaded:re.loaded};re.lengthComputable&&(J.total=re.total),be.next(J)};return $e.addEventListener("load",kt),$e.addEventListener("error",Vn),$e.addEventListener("timeout",Vn),$e.addEventListener("abort",Vn),Q.reportProgress&&($e.addEventListener("progress",Vt),null!==wt&&$e.upload&&$e.upload.addEventListener("progress",Ht)),$e.send(wt),be.next({type:ge.Sent}),()=>{$e.removeEventListener("error",Vn),$e.removeEventListener("abort",Vn),$e.removeEventListener("load",kt),$e.removeEventListener("timeout",Vn),Q.reportProgress&&($e.removeEventListener("progress",Vt),null!==wt&&$e.upload&&$e.upload.removeEventListener("progress",Ht)),$e.readyState!==$e.DONE&&$e.abort()}})}}return De.\u0275fac=function(Q){return new(Q||De)(F.LFG(b.JF))},De.\u0275prov=F.Yz7({token:De,factory:De.\u0275fac}),De})();const Nn=new F.OlP("XSRF_COOKIE_NAME"),Cn=new F.OlP("XSRF_HEADER_NAME");class Pn{}let En=(()=>{class De{constructor(Q,be,$e){this.doc=Q,this.platform=be,this.cookieName=$e,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Q=this.doc.cookie||"";return Q!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,b.Mx)(Q,this.cookieName),this.lastCookieString=Q),this.lastToken}}return De.\u0275fac=function(Q){return new(Q||De)(F.LFG(b.K0),F.LFG(F.Lbi),F.LFG(Nn))},De.\u0275prov=F.Yz7({token:De,factory:De.\u0275fac}),De})(),Mr=(()=>{class De{constructor(Q,be){this.tokenService=Q,this.headerName=be}intercept(Q,be){const $e=Q.url.toLowerCase();if("GET"===Q.method||"HEAD"===Q.method||$e.startsWith("http://")||$e.startsWith("https://"))return be.handle(Q);const wt=this.tokenService.getToken();return null!==wt&&!Q.headers.has(this.headerName)&&(Q=Q.clone({headers:Q.headers.set(this.headerName,wt)})),be.handle(Q)}}return De.\u0275fac=function(Q){return new(Q||De)(F.LFG(Pn),F.LFG(Cn))},De.\u0275prov=F.Yz7({token:De,factory:De.\u0275fac}),De})(),Pt=(()=>{class De{constructor(Q,be){this.backend=Q,this.injector=be,this.chain=null}handle(Q){if(null===this.chain){const be=this.injector.get(Xt,[]);this.chain=be.reduceRight(($e,wt)=>new Nt($e,wt),this.backend)}return this.chain.handle(Q)}}return De.\u0275fac=function(Q){return new(Q||De)(F.LFG(He),F.LFG(F.zs3))},De.\u0275prov=F.Yz7({token:De,factory:De.\u0275fac}),De})(),ar=(()=>{class De{static disable(){return{ngModule:De,providers:[{provide:Mr,useClass:yn}]}}static withOptions(Q={}){return{ngModule:De,providers:[Q.cookieName?{provide:Nn,useValue:Q.cookieName}:[],Q.headerName?{provide:Cn,useValue:Q.headerName}:[]]}}}return De.\u0275fac=function(Q){return new(Q||De)},De.\u0275mod=F.oAB({type:De}),De.\u0275inj=F.cJS({providers:[Mr,{provide:Xt,useExisting:Mr,multi:!0},{provide:Pn,useClass:En},{provide:Nn,useValue:"XSRF-TOKEN"},{provide:Cn,useValue:"X-XSRF-TOKEN"}]}),De})(),rr=(()=>{class De{}return De.\u0275fac=function(Q){return new(Q||De)},De.\u0275mod=F.oAB({type:De}),De.\u0275inj=F.cJS({providers:[it,{provide:ot,useClass:Pt},ni,{provide:He,useExisting:ni}],imports:[ar.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),De})()},8256:(qt,We,j)=>{j.d(We,{tb:()=>Aw,AFp:()=>bw,ip1:()=>Tw,CZH:()=>xm,hGG:()=>ZD,z2F:()=>Rm,sBO:()=>PD,Sil:()=>fD,_Vd:()=>Pc,EJc:()=>dD,Xts:()=>hd,SBq:()=>Oc,lqb:()=>xu,qLn:()=>Lo,vpe:()=>Hu,XFs:()=>De,OlP:()=>Fn,zs3:()=>pc,ZZ4:()=>Wv,aQg:()=>Kv,soG:()=>Mm,YKP:()=>O0,h0i:()=>ah,PXZ:()=>CD,R0b:()=>fa,FiY:()=>Ge,Lbi:()=>uD,g9A:()=>Sw,Qsj:()=>Lp,FYo:()=>Dl,JOm:()=>aa,tp0:()=>Et,Rgc:()=>_p,dDg:()=>ED,eoX:()=>Ow,q4F:()=>Vp,GfV:()=>Up,s_b:()=>Cm,ifc:()=>nn,MMx:()=>Iv,Lck:()=>JI,eFA:()=>Uw,G48:()=>ND,Gpc:()=>xt,f3M:()=>ta,_c5:()=>qD,c2e:()=>cD,zSh:()=>vl,wAp:()=>u,vHH:()=>Ne,lri:()=>Pw,rWj:()=>kw,D6c:()=>YD,cg1:()=>Em,kL8:()=>e,dqk:()=>Vt,sIi:()=>tl,CqO:()=>Ay,QGY:()=>sm,QP$:()=>ch,F4k:()=>ap,RDi:()=>tu,AaK:()=>Ve,qOj:()=>Ii,TTD:()=>Br,_Bn:()=>k0,xp6:()=>gg,uIk:()=>Xf,ekj:()=>ih,Suo:()=>tw,Xpm:()=>ur,lG2:()=>mi,Yz7:()=>Nn,cJS:()=>Pn,oAB:()=>On,Yjl:()=>Ce,Y36:()=>ku,_UZ:()=>th,qZA:()=>sp,TgZ:()=>eh,EpF:()=>im,n5z:()=>uo,LFG:()=>Lr,$8M:()=>pi,$Z:()=>Sg,NdJ:()=>om,CRH:()=>nw,oxw:()=>Ry,Q6J:()=>ju,iGM:()=>X0,KtG:()=>mu,CHM:()=>Li,uOi:()=>yh,LSH:()=>mh,Udp:()=>pm,YNc:()=>nm,_uU:()=>qy,hij:()=>fp,AsE:()=>_m,Gf:()=>ew});var b=j(8189),F=j(8421),de=j(515),fe=j(7669),Ie=j(8996),Ee=j(7579),ot=j(727),He=j(9751),ie=j(2961),se=j(4482);function Ze(t,r,...s){if(!0===r)return void t();if(!1===r)return;const a=new ie.Hp({next:()=>{a.unsubscribe(),t()}});return r(...s).subscribe(a)}function ue(t){for(let r in t)if(t[r]===ue)return r;throw Error("Could not find renamed property on target object.")}function gt(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function Ve(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ve).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Rt(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const ze=ue({__forward_ref__:ue});function xt(t){return t.__forward_ref__=xt,t.toString=function(){return Ve(this())},t}function Ue(t){return Be(t)?t():t}function Be(t){return"function"==typeof t&&t.hasOwnProperty(ze)&&t.__forward_ref__===xt}class Ne extends Error{constructor(r,s){super(function mt(t,r){return`NG0${Math.abs(t)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function he(t){return"string"==typeof t?t:null==t?"":String(t)}function Me(t,r){throw new Ne(-201,!1)}function Un(t,r){null==t&&function dn(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function Nn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Pn(t){return{providers:t.providers||[],imports:t.imports||[]}}function En(t){return Mr(t,ar)||Mr(t,Gn)}function Mr(t,r){return t.hasOwnProperty(r)?t[r]:null}function or(t){return t&&(t.hasOwnProperty(rr)||t.hasOwnProperty(br))?t[rr]:null}const ar=ue({\u0275prov:ue}),rr=ue({\u0275inj:ue}),Gn=ue({ngInjectableDef:ue}),br=ue({ngInjectorDef:ue});var De=(()=>((De=De||{})[De.Default=0]="Default",De[De.Host=1]="Host",De[De.Self=2]="Self",De[De.SkipSelf=4]="SkipSelf",De[De.Optional=8]="Optional",De))();let X;function be(t){const r=X;return X=t,r}function $e(t,r,s){const a=En(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&De.Optional?null:void 0!==r?r:void Me(Ve(t))}function $t(t){return{toString:t}.toString()}var Jt=(()=>((Jt=Jt||{})[Jt.OnPush=0]="OnPush",Jt[Jt.Default=1]="Default",Jt))(),nn=(()=>{return(t=nn||(nn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",nn;var t})();const Vt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),J={},K=[],ne=ue({\u0275cmp:ue}),q=ue({\u0275dir:ue}),je=ue({\u0275pipe:ue}),pt=ue({\u0275mod:ue}),Ct=ue({\u0275fac:ue}),_n=ue({__NG_ELEMENT_ID__:ue});let Dn=0;function ur(t){return $t(()=>{const s=!0===t.standalone,a={},c={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Jt.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||K,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||nn.Emulated,id:"c"+Dn++,styles:t.styles||K,_:null,setInput:null,schemas:t.schemas||null,tView:null},d=t.dependencies,g=t.features;return c.inputs=Qr(t.inputs,a),c.outputs=Qr(t.outputs),g&&g.forEach(w=>w(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(vr).filter(_r):null,c.pipeDefs=d?()=>("function"==typeof d?d():d).map(Te).filter(_r):null,c})}function vr(t){return ee(t)||Z(t)}function _r(t){return null!==t}const Ci={};function On(t){return $t(()=>{const r={type:t.type,bootstrap:t.bootstrap||K,declarations:t.declarations||K,imports:t.imports||K,exports:t.exports||K,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Ci[t.id]=t.type),r})}function Qr(t,r){if(null==t)return J;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=a,r&&(r[c]=d)}return s}const mi=ur;function Ce(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ee(t){return t[ne]||null}function Z(t){return t[q]||null}function Te(t){return t[je]||null}function Ke(t,r){const s=t[pt]||null;if(!s&&!0===r)throw new Error(`Type ${Ve(t)} does not have '\u0275mod' property.`);return s}function Pr(t){return Array.isArray(t)&&"object"==typeof t[1]}function Yn(t){return Array.isArray(t)&&!0===t[1]}function ii(t){return 0!=(8&t.flags)}function Ir(t){return 2==(2&t.flags)}function Er(t){return 1==(1&t.flags)}function fi(t){return null!==t.template}function ns(t){return 0!=(256&t[2])}function Ai(t,r){return t.hasOwnProperty(Ct)?t[Ct]:null}class $o{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Br(){return kr}function kr(t){return t.type.prototype.ngOnChanges&&(t.setInput=Fi),Vs}function Vs(){const t=Eo(this),r=t?.current;if(r){const s=t.previous;if(s===J)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function Fi(t,r,s,a){const c=Eo(t)||function zn(t,r){return t[qr]=r}(t,{previous:J,current:null}),d=c.current||(c.current={}),g=c.previous,w=this.declaredInputs[s],T=g[w];d[w]=new $o(T&&T.currentValue,r,g===J),t[a]=r}Br.ngInherit=!0;const qr="__ngSimpleChanges__";function Eo(t){return t[qr]||null}function x(t){for(;Array.isArray(t);)t=t[0];return t}function B(t,r){return x(r[t])}function oe(t,r){return x(r[t.index])}function st(t,r){return t.data[r]}function fn(t,r){const s=r[t];return Pr(s)?s:s[0]}function jn(t){return 4==(4&t[2])}function Qn(t){return 64==(64&t[2])}function ir(t,r){return null==r?null:t[r]}function Bn(t){t[18]=0}function Or(t,r){t[5]+=r;let s=t,a=t[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const Wt={lFrame:$s(null),bindingsEnabled:!0};function Do(){return Wt.bindingsEnabled}function et(){return Wt.lFrame.lView}function gn(){return Wt.lFrame.tView}function Li(t){return Wt.lFrame.contextLView=t,t[8]}function mu(t){return Wt.lFrame.contextLView=null,t}function Xn(){let t=Ds();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ds(){return Wt.lFrame.currentTNode}function Wn(t,r){const s=Wt.lFrame;s.currentTNode=t,s.isParent=r}function Ga(){return Wt.lFrame.isParent}function bo(){return Wt.lFrame.bindingIndex++}function Fr(t){const r=Wt.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function ma(t,r){const s=Wt.lFrame;s.bindingIndex=s.bindingRootIndex=t,za(r)}function za(t){Wt.lFrame.currentDirectiveIndex=t}function ya(){return Wt.lFrame.currentQueryIndex}function va(t){Wt.lFrame.currentQueryIndex=t}function So(t){const r=t[1];return 2===r.type?r.declTNode:1===r.type?t[6]:null}function cs(t,r,s){if(s&De.SkipSelf){let c=r,d=t;for(;!(c=c.parent,null!==c||s&De.Host||(c=So(d),null===c||(d=d[15],10&c.type))););if(null===c)return!1;r=c,t=d}const a=Wt.lFrame=to();return a.currentTNode=r,a.lView=t,!0}function Ko(t){const r=to(),s=t[1];Wt.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function to(){const t=Wt.lFrame,r=null===t?null:t.child;return null===r?$s(t):r}function $s(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Wa(){const t=Wt.lFrame;return Wt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const _a=Wa;function no(){const t=Wa();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Xr(){return Wt.lFrame.selectedIndex}function Hs(t){Wt.lFrame.selectedIndex=t}function gr(){const t=Wt.lFrame;return st(t.tView,t.selectedIndex)}function Cr(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:w,ngAfterViewInit:T,ngAfterViewChecked:N,ngOnDestroy:U}=d;g&&(t.contentHooks||(t.contentHooks=[])).push(-s,g),w&&((t.contentHooks||(t.contentHooks=[])).push(s,w),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,w)),T&&(t.viewHooks||(t.viewHooks=[])).push(-s,T),N&&((t.viewHooks||(t.viewHooks=[])).push(s,N),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,N)),null!=U&&(t.destroyHooks||(t.destroyHooks=[])).push(s,U)}}function ro(t,r,s){qa(t,r,3,s)}function qo(t,r,s,a){(3&t[2])===s&&qa(t,r,s,a)}function er(t,r){let s=t[2];(3&s)===r&&(s&=2047,s+=1,t[2]=s)}function qa(t,r,s,a){const d=a??-1,g=r.length-1;let w=0;for(let T=void 0!==a?65535&t[18]:0;T<g;T++)if("number"==typeof r[T+1]){if(w=r[T],null!=a&&w>=a)break}else r[T]<0&&(t[18]+=65536),(w<d||-1==d)&&(qu(t,s,r,T),t[18]=(4294901760&t[18])+T+2),T++}function qu(t,r,s,a){const c=s[a]<0,d=s[a+1],w=t[c?-s[a]:s[a]];if(c){if(t[2]>>11<t[18]>>16&&(3&t[2])===r){t[2]+=2048;try{d.call(w)}finally{}}}else try{d.call(w)}finally{}}class io{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function qi(t,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const d=s[a++],g=s[a++],w=s[a++];t.setAttribute(r,g,w,d)}else{const d=c,g=s[++a];Yu(d)?t.setProperty(r,d,g):t.setAttribute(r,d,g),a++}}return a}function Ro(t){return 3===t||4===t||6===t}function Yu(t){return 64===t.charCodeAt(0)}function ut(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||mr(t,s,c,null,-1===s||2===s?r[++a]:null)}}return t}function mr(t,r,s,a,c){let d=0,g=t.length;if(-1===r)g=-1;else for(;d<t.length;){const w=t[d++];if("number"==typeof w){if(w===r){g=-1;break}if(w>r){g=d-1;break}}}for(;d<t.length;){const w=t[d];if("number"==typeof w)break;if(w===s){if(null===a)return void(null!==c&&(t[d+1]=c));if(a===t[d+1])return void(t[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==g&&(t.splice(g,0,r),d=g+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==c&&t.splice(d++,0,c)}function oo(t){return-1!==t}function Kn(t){return 32767&t}function Zt(t,r){let s=function Ut(t){return t>>16}(t),a=r;for(;s>0;)a=a[15],s--;return a}let Ia=!0;function yt(t){const r=Ia;return Ia=t,r}let Ea=0;const Ri={};function Zi(t,r){const s=Yo(t,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(t.injectorIndex=r.length,Cs(a.data,t),Cs(r,null),Cs(a.blueprint,null));const c=Yi(t,r),d=t.injectorIndex;if(oo(c)){const g=Kn(c),w=Zt(c,r),T=w[1].data;for(let N=0;N<8;N++)r[d+N]=w[g+N]|T[g+N]}return r[d+8]=c,d}function Cs(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Yo(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Yi(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=_u(c),null===a)return-1;if(s++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function Qo(t,r,s){!function Da(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(_n)&&(a=s[_n]),null==a&&(a=s[_n]=Ea++);const c=255&a;r.data[t+(c>>5)]|=1<<c}(t,r,s)}function Jo(t,r,s){if(s&De.Optional)return t;Me()}function ao(t,r,s,a){if(s&De.Optional&&void 0===a&&(a=null),0==(s&(De.Self|De.Host))){const c=t[9],d=be(void 0);try{return c?c.get(r,a,s&De.Optional):$e(r,a,s&De.Optional)}finally{be(d)}}return Jo(a,0,s)}function rn(t,r,s,a=De.Default,c){if(null!==t){if(1024&r[2]){const g=function As(t,r,s,a,c){let d=t,g=r;for(;null!==d&&null!==g&&1024&g[2]&&!(256&g[2]);){const w=zs(d,g,s,a|De.Self,Ri);if(w!==Ri)return w;let T=d.parent;if(!T){const N=g[21];if(N){const U=N.get(s,Ri,a);if(U!==Ri)return U}T=_u(g),g=g[15]}d=T}return c}(t,r,s,a,Ri);if(g!==Ri)return g}const d=zs(t,r,s,a,Ri);if(d!==Ri)return d}return ao(r,s,a,c)}function zs(t,r,s,a,c){const d=function $r(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(_n)?t[_n]:void 0;return"number"==typeof r?r>=0?255&r:_t:r}(s);if("function"==typeof d){if(!cs(r,t,a))return a&De.Host?Jo(c,0,a):ao(r,s,a,c);try{const g=d(a);if(null!=g||a&De.Optional)return g;Me()}finally{_a()}}else if("number"==typeof d){let g=null,w=Yo(t,r),T=-1,N=a&De.Host?r[16][6]:null;for((-1===w||a&De.SkipSelf)&&(T=-1===w?Yi(t,r):r[w+8],-1!==T&&Qa(a,!1)?(g=r[1],w=Kn(T),r=Zt(T,r)):w=-1);-1!==w;){const U=r[1];if(Tn(d,w,U.data)){const G=Ya(w,r,s,g,a,N);if(G!==Ri)return G}T=r[w+8],-1!==T&&Qa(a,r[1].data[w+8]===N)&&Tn(d,w,r)?(g=U,w=Kn(T),r=Zt(T,r)):w=-1}}return c}function Ya(t,r,s,a,c,d){const g=r[1],w=g.data[t+8],U=lr(w,g,s,null==a?Ir(w)&&Ia:a!=g&&0!=(3&w.type),c&De.Host&&d===w);return null!==U?Yt(r,g,U,w):Ri}function lr(t,r,s,a,c){const d=t.providerIndexes,g=r.data,w=1048575&d,T=t.directiveStart,U=d>>20,ce=c?w+U:t.directiveEnd;for(let Ae=a?w:w+U;Ae<ce;Ae++){const Xe=g[Ae];if(Ae<T&&s===Xe||Ae>=T&&Xe.type===s)return Ae}if(c){const Ae=g[T];if(Ae&&fi(Ae)&&Ae.type===s)return T}return null}function Yt(t,r,s,a){let c=t[s];const d=r.data;if(function vu(t){return t instanceof io}(c)){const g=c;g.resolving&&function ge(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new Ne(-200,`Circular dependency in DI detected for ${t}${s}`)}(function _e(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():he(t)}(d[s]));const w=yt(g.canSeeViewProviders);g.resolving=!0;const T=g.injectImpl?be(g.injectImpl):null;cs(t,a,De.Default);try{c=t[s]=g.factory(void 0,d,t,a),r.firstCreatePass&&s>=a.directiveStart&&function Mo(t,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const g=kr(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,g),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,g)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,c),d&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,d),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,d))}(s,d[s],r)}finally{null!==T&&be(T),yt(w),g.resolving=!1,_a()}}return c}function Tn(t,r,s){return!!(s[r+(t>>5)]&1<<t)}function Qa(t,r){return!(t&De.Self||t&De.Host&&r)}class wn{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return rn(this._tNode,this._lView,r,a,s)}}function _t(){return new wn(Xn(),et())}function uo(t){return $t(()=>{const r=t.prototype.constructor,s=r[Ct]||Ss(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const d=c[Ct]||Ss(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function Ss(t){return Be(t)?()=>{const r=Ss(Ue(t));return r&&r()}:Ai(t)}function _u(t){const r=t[1],s=r.type;return 2===s?r.declTNode:1===s?t[6]:null}function pi(t){return function Ta(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const d=s[c];if(Ro(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(Xn(),t)}const ls="__parameters__";function Ms(t,r,s){return $t(()=>{const a=function Ni(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const g=new c(...d);return w.annotation=g,w;function w(T,N,U){const G=T.hasOwnProperty(ls)?T[ls]:Object.defineProperty(T,ls,{value:[]})[ls];for(;G.length<=U;)G.push(null);return(G[U]=G[U]||[]).push(g),T}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}class Fn{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Nn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Zr(t,r){void 0===r&&(r=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(r===t&&(r=t.slice(0,s)),Zr(a,r)):r!==t&&r.push(a)}return r}function Hr(t,r){t.forEach(s=>Array.isArray(s)?Hr(s,r):r(s))}function dr(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function v(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function xe(t,r,s){let a=St(t,r);return a>=0?t[1|a]=s:(a=~a,function S(t,r,s,a){let c=t.length;if(c==r)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function ft(t,r){const s=St(t,r);if(s>=0)return t[1|s]}function St(t,r){return function xn(t,r,s){let a=0,c=t.length>>s;for(;c!==a;){const d=a+(c-a>>1),g=t[d<<s];if(r===g)return d<<s;g>r?c=d:a=d+1}return~(c<<s)}(t,r,1)}const _i={},ji="__NG_DI_FLAG__",No="ngTempTokenPath",Ks=/\n/gm,qs="__source";let hs;function Ca(t){const r=hs;return hs=t,r}function eu(t,r=De.Default){if(void 0===hs)throw new Ne(-203,!1);return null===hs?$e(t,void 0,r):hs.get(t,r&De.Optional?null:void 0,r)}function Lr(t,r=De.Default){return(function Q(){return X}()||eu)(Ue(t),r)}function ta(t,r=De.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),Lr(t,r)}function C(t){const r=[];for(let s=0;s<t.length;s++){const a=Ue(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Ne(900,!1);let c,d=De.Default;for(let g=0;g<a.length;g++){const w=a[g],T=k(w);"number"==typeof T?-1===T?c=w.token:d|=T:c=w}r.push(Lr(c,d))}else r.push(Lr(a))}return r}function A(t,r){return t[ji]=r,t.prototype[ji]=r,t}function k(t){return t[ji]}const Ge=A(Ms("Optional"),8),Et=A(Ms("SkipSelf"),4);let bc,Ra;function tu(t){bc=t}function od(t){return function Cc(){if(void 0===Ra&&(Ra=null,Vt.trustedTypes))try{Ra=Vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ra}()?.createScriptURL(t)||t}class Sc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function _(t){return t instanceof Sc?t.changingThisBreaksApplicationSecurity:t}function h(t,r){const s=function p(t){return t instanceof Sc&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}const Fo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Sr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Tr=(()=>((Tr=Tr||{})[Tr.NONE=0]="NONE",Tr[Tr.HTML=1]="HTML",Tr[Tr.STYLE=2]="STYLE",Tr[Tr.SCRIPT=3]="SCRIPT",Tr[Tr.URL=4]="URL",Tr[Tr.RESOURCE_URL=5]="RESOURCE_URL",Tr))();function mh(t){const r=Rc();return r?r.sanitize(Tr.URL,t)||"":h(t,"URL")?_(t):function Na(t){return(t=String(t)).match(Fo)||t.match(Sr)?t:"unsafe:"+t}(he(t))}function yh(t){const r=Rc();if(r)return od(r.sanitize(Tr.RESOURCE_URL,t)||"");if(h(t,"ResourceURL"))return od(_(t));throw new Ne(904,!1)}function Rc(){const t=et();return t&&t[12]}const hd=new Fn("ENVIRONMENT_INITIALIZER"),Ap=new Fn("INJECTOR",-1),_h=new Fn("INJECTOR_DEF_TYPES");class wh{get(r,s=_i){if(s===_i){const a=new Error(`NullInjectorError: No provider for ${Ve(r)}!`);throw a.name="NullInjectorError",a}return s}}function Lm(...t){return{\u0275providers:xp(0,t)}}function xp(t,...r){const s=[],a=new Set;let c;return Hr(r,d=>{const g=d;ic(g,s,[],a)&&(c||(c=[]),c.push(g))}),void 0!==c&&Mp(c,s),s}function Mp(t,r){for(let s=0;s<t.length;s++){const{providers:c}=t[s];Hr(c,d=>{r.push(d)})}}function ic(t,r,s,a){if(!(t=Ue(t)))return!1;let c=null,d=or(t);const g=!d&&ee(t);if(d||g){if(g&&!g.standalone)return!1;c=t}else{const T=t.ngModule;if(d=or(T),!d)return!1;c=T}const w=a.has(c);if(g){if(w)return!1;if(a.add(c),g.dependencies){const T="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const N of T)ic(N,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!w){let N;a.add(c);try{Hr(d.imports,U=>{ic(U,r,s,a)&&(N||(N=[]),N.push(U))})}finally{}void 0!==N&&Mp(N,r)}if(!w){const N=Ai(c)||(()=>new c);r.push({provide:c,useFactory:N,deps:K},{provide:_h,useValue:c,multi:!0},{provide:hd,useValue:()=>Lr(c),multi:!0})}const T=d.providers;null==T||w||Hr(T,U=>{r.push(U)})}}return c!==t&&void 0!==t.providers}const Vm=ue({provide:String,useValue:ue});function Ti(t){return null!==t&&"object"==typeof t&&Vm in t}function oa(t){return"function"==typeof t}const vl=new Fn("Set Injector scope."),_l={},wl={};let pd;function Il(){return void 0===pd&&(pd=new wh),pd}class xu{}class Rp extends xu{constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Th(r,g=>this.processProvider(g)),this.records.set(Ap,sc(void 0,this)),c.has("environment")&&this.records.set(xu,sc(void 0,this));const d=this.records.get(vl);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(_h.multi,K,De.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=Ca(this),a=be(void 0);try{return r()}finally{Ca(s),be(a)}}get(r,s=_i,a=De.Default){this.assertNotDestroyed();const c=Ca(this),d=be(void 0);try{if(!(a&De.SkipSelf)){let w=this.records.get(r);if(void 0===w){const T=function Bm(t){return"function"==typeof t||"object"==typeof t&&t instanceof Fn}(r)&&En(r);w=T&&this.injectableDefInScope(T)?sc(Eh(r),_l):null,this.records.set(r,w)}if(null!=w)return this.hydrate(r,w)}return(a&De.Self?Il():this.parent).get(r,s=a&De.Optional&&s===_i?null:s)}catch(g){if("NullInjectorError"===g.name){if((g[No]=g[No]||[]).unshift(Ve(r)),c)throw g;return function z(t,r,s,a){const c=t[No];throw r[qs]&&c.unshift(r[qs]),t.message=function me(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Ve(r);if(Array.isArray(r))c=r.map(Ve).join(" -> ");else if("object"==typeof r){let d=[];for(let g in r)if(r.hasOwnProperty(g)){let w=r[g];d.push(g+":"+("string"==typeof w?JSON.stringify(w):Ve(w)))}c=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(Ks,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[No]=null,t}(g,r,"R3InjectorError",this.source)}throw g}finally{be(d),Ca(c)}}resolveInjectorInitializers(){const r=Ca(this),s=be(void 0);try{const a=this.get(hd.multi,K,De.Self);for(const c of a)c()}finally{Ca(r),be(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(Ve(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ne(205,!1)}processProvider(r){let s=oa(r=Ue(r))?r:Ue(r&&r.provide);const a=function Dh(t){return Ti(t)?sc(void 0,t.useValue):sc(Np(t),_l)}(r);if(oa(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=sc(void 0,_l,!0),c.factory=()=>C(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===_l&&(s.value=wl,s.value=s.factory()),"object"==typeof s.value&&s.value&&function kp(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Ue(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function Eh(t){const r=En(t),s=null!==r?r.factory:Ai(t);if(null!==s)return s;if(t instanceof Fn)throw new Ne(204,!1);if(t instanceof Function)return function El(t){const r=t.length;if(r>0)throw function y(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}(r,"?"),new Ne(204,!1);const s=function Pt(t){const r=t&&(t[ar]||t[Gn]);if(r){const s=function sr(t){if(t.hasOwnProperty("name"))return t.name;const r=(""+t).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Ne(204,!1)}function Np(t,r,s){let a;if(oa(t)){const c=Ue(t);return Ai(c)||Eh(c)}if(Ti(t))a=()=>Ue(t.useValue);else if(function Ih(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...C(t.deps||[]));else if(function fd(t){return!(!t||!t.useExisting)}(t))a=()=>Lr(Ue(t.useExisting));else{const c=Ue(t&&(t.useClass||t.provide));if(!function Pp(t){return!!t.deps}(t))return Ai(c)||Eh(c);a=()=>new c(...C(t.deps))}return a}function sc(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function Op(t){return!!t.\u0275providers}function Th(t,r){for(const s of t)Array.isArray(s)?Th(s,r):Op(s)?Th(s.\u0275providers,r):r(s)}class oc{}class $m{resolveComponentFactory(r){throw function Nc(t){const r=Error(`No component factory found for ${Ve(t)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=t,r}(r)}}let Pc=(()=>{class t{}return t.NULL=new $m,t})();function Os(){return kc(Xn(),et())}function kc(t,r){return new Oc(oe(t,r))}let Oc=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=Os,t})();function Oa(t){return t instanceof Oc?t.nativeElement:t}class Dl{}let Lp=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function Gm(){const t=et(),s=fn(Xn().index,t);return(Pr(s)?s:t)[11]}(),t})(),zm=(()=>{class t{}return t.\u0275prov=Nn({token:t,providedIn:"root",factory:()=>null}),t})();class Up{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Vp=new Up("14.1.1"),bh={};function bl(t){return t.ngOriginalError}class Lo{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&bl(r);for(;s&&bl(s);)s=bl(s);return s||null}}const yd=new Map;let Mh=0;const ou="__ngContext__";function ms(t,r){Pr(r)?(t[ou]=r[20],function Hp(t){yd.set(t[20],t)}(r)):t[ou]=r}function Uc(t){const r=t[ou];return"number"==typeof r?function Nh(t){return yd.get(t)||null}(r):r||null}function Ph(t){const r=Uc(t);return r?Pr(r)?r:r.lView:null}const vd=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Vt))();function po(t){return t instanceof Function?t():t}var aa=(()=>((aa=aa||{})[aa.Important=1]="Important",aa[aa.DashCase=2]="DashCase",aa))();function Ru(t,r){return undefined(t,r)}function La(t){const r=t[3];return Yn(r)?r[3]:r}function _d(t){return Jp(t[13])}function Fh(t){return Jp(t[4])}function Jp(t){for(;null!==t&&!Yn(t);)t=t[4];return t}function Bc(t,r,s,a,c){if(null!=a){let d,g=!1;Yn(a)?d=a:Pr(a)&&(g=!0,a=a[0]);const w=x(a);0===t&&null!==s?null==c?ag(r,s,w):hc(r,s,w,c||null,!0):1===t&&null!==s?hc(r,s,w,c||null,!0):2===t?function jh(t,r,s){const a=Ed(t,r);a&&function oy(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,w,g):3===t&&r.destroyNode(w),null!=d&&function hg(t,r,s,a,c){const d=s[7];d!==x(s)&&Bc(r,t,a,d,c);for(let w=10;w<s.length;w++){const T=s[w];Pl(T[1],T,t,r,a,d)}}(r,t,d,s,c)}}function wd(t,r,s){return t.createElement(r,s)}function rg(t,r){const s=t[9],a=s.indexOf(r),c=r[3];512&r[2]&&(r[2]&=-513,Or(c,-1)),s.splice(a,1)}function Id(t,r){if(t.length<=10)return;const s=10+r,a=t[s];if(a){const c=a[17];null!==c&&c!==t&&rg(c,a),r>0&&(t[s-1][4]=a[4]);const d=v(t,10+r);!function sy(t,r){Pl(t,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const g=d[19];null!==g&&g.detachView(d[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function ig(t,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&Pl(t,r,s,3,null,null),function Ml(t){let r=t[13];if(!r)return Lh(t[1],t);for(;r;){let s=null;if(Pr(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==t;)Pr(r)&&Lh(r[1],r),r=r[3];null===r&&(r=t),Pr(r)&&Lh(r[1],r),s=r&&r[4]}r=s}}(r)}}function Lh(t,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function $i(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof io)){const d=s[a+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const w=c[d[g]],T=d[g+1];try{T.call(w)}finally{}}else try{d.call(c)}finally{}}}}(t,r),function Uh(t,r){const s=t.cleanup,a=r[7];let c=-1;if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const g=s[d+1],w="function"==typeof g?g(r):x(r[g]),T=a[c=s[d+2]],N=s[d+3];"boolean"==typeof N?w.removeEventListener(s[d],T,N):N>=0?a[c=N]():a[c=-N].unsubscribe(),d+=2}else{const g=a[c=s[d+1]];s[d].call(g)}if(null!==a){for(let d=c+1;d<a.length;d++)(0,a[d])();r[7]=null}}(t,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&Yn(r[3])){s!==r[3]&&rg(s,r);const a=r[19];null!==a&&a.detachView(t)}!function Qm(t){yd.delete(t[20])}(r)}}function sg(t,r,s){return function og(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const c=t.data[a.directiveStart].encapsulation;if(c===nn.None||c===nn.Emulated)return null}return oe(a,s)}(t,r.parent,s)}function hc(t,r,s,a,c){t.insertBefore(r,s,a,c)}function ag(t,r,s){t.appendChild(r,s)}function Vh(t,r,s,a,c){null!==a?hc(t,r,s,a,c):ag(t,r,s)}function Ed(t,r){return t.parentNode(r)}let $c=function Td(t,r,s){return 40&t.type?oe(t,s):null};function Gc(t,r,s,a){const c=sg(t,a,r),d=r[11],w=function Dd(t,r,s){return $c(t,r,s)}(a.parent||r[6],a,r);if(null!=c)if(Array.isArray(s))for(let T=0;T<s.length;T++)Vh(d,c,s[T],w,!1);else Vh(d,c,s,w,!1)}function Rl(t,r){if(null!==r){const s=r.type;if(3&s)return oe(r,t);if(4&s)return Cd(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return Rl(t,a);{const c=t[r.index];return Yn(c)?Cd(-1,c):x(c)}}if(32&s)return Ru(r,t)()||x(t[r.index]);{const a=cg(t,r);return null!==a?Array.isArray(a)?a[0]:Rl(La(t[16]),a):Rl(t,r.next)}}return null}function cg(t,r){return null!==r?t[16][6].projection[r.projection]:null}function Cd(t,r){const s=10+t+1;if(s<r.length){const a=r[s],c=a[1].firstChild;if(null!==c)return Rl(a,c)}return r[7]}function Nl(t,r,s,a,c,d,g){for(;null!=s;){const w=a[s.index],T=s.type;if(g&&0===r&&(w&&ms(x(w),a),s.flags|=4),64!=(64&s.flags))if(8&T)Nl(t,r,s.child,a,c,d,!1),Bc(r,t,c,w,d);else if(32&T){const N=Ru(s,a);let U;for(;U=N();)Bc(r,t,c,U,d);Bc(r,t,c,w,d)}else 16&T?dg(t,r,a,s,c,d):Bc(r,t,c,w,d);s=g?s.projectionNext:s.next}}function Pl(t,r,s,a,c,d){Nl(s,a,t.firstChild,r,c,d,!1)}function dg(t,r,s,a,c,d){const g=s[16],T=g[6].projection[a.projection];if(Array.isArray(T))for(let N=0;N<T.length;N++)Bc(r,t,c,T[N],d);else Nl(t,r,T,g[3],c,d,!0)}function fc(t,r,s){t.setAttribute(r,"style",s)}function Pu(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function Sd(t,r,s){let a=t.length;for(;;){const c=t.indexOf(r,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||t.charCodeAt(c+d)<=32)return c}s=c+1}}const Hh="ng-template";function fg(t,r,s){let a=0;for(;a<t.length;){let c=t[a++];if(s&&"class"===c){if(c=t[a],-1!==Sd(c.toLowerCase(),r,0))return!0}else if(1===c){for(;a<t.length&&"string"==typeof(c=t[a++]);)if(c.toLowerCase()===r)return!0;return!1}}return!1}function Gh(t){return 4===t.type&&t.value!==Hh}function uy(t,r,s){return r===(4!==t.type||s?t.value:Hh)}function zh(t,r,s){let a=4;const c=t.attrs||[],d=function qh(t){for(let r=0;r<t.length;r++)if(Ro(t[r]))return r;return t.length}(c);let g=!1;for(let w=0;w<r.length;w++){const T=r[w];if("number"!=typeof T){if(!g)if(4&a){if(a=2|1&a,""!==T&&!uy(t,T,s)||""===T&&1===r.length){if(ua(a))return!1;g=!0}}else{const N=8&a?T:r[++w];if(8&a&&null!==t.attrs){if(!fg(t.attrs,N,s)){if(ua(a))return!1;g=!0}continue}const G=Wh(8&a?"class":T,c,Gh(t),s);if(-1===G){if(ua(a))return!1;g=!0;continue}if(""!==N){let ce;ce=G>d?"":c[G+1].toLowerCase();const Ae=8&a?ce:null;if(Ae&&-1!==Sd(Ae,N,0)||2&a&&N!==ce){if(ua(a))return!1;g=!0}}}}else{if(!g&&!ua(a)&&!ua(T))return!1;if(g&&ua(T))continue;g=!1,a=T|1&a}}return ua(a)||g}function ua(t){return 0==(1&t)}function Wh(t,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let d=!1;for(;c<r.length;){const g=r[c];if(g===t)return c;if(3===g||6===g)d=!0;else{if(1===g||2===g){let w=r[++c];for(;"string"==typeof w;)w=r[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=d?1:2}return-1}return function Ad(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function Kh(t,r,s=!1){for(let a=0;a<r.length;a++)if(zh(t,r[a],s))return!0;return!1}function Ol(t,r){return t?":not("+r.trim()+")":r}function Zh(t){let r=t[0],s=1,a=2,c="",d=!1;for(;s<t.length;){let g=t[s];if("string"==typeof g)if(2&a){const w=t[++s];c+="["+g+(w.length>0?'="'+w+'"':"")+"]"}else 8&a?c+="."+g:4&a&&(c+=" "+g);else""!==c&&!ua(g)&&(r+=Ol(d,c),c=""),a=g,d=d||!ua(a);s++}return""!==c&&(r+=Ol(d,c)),r}const In={};function gg(t){Jh(gn(),et(),Xr()+t,!1)}function Jh(t,r,s,a){if(!a)if(3==(3&r[2])){const d=t.preOrderCheckHooks;null!==d&&ro(r,d,s)}else{const d=t.preOrderHooks;null!==d&&qo(r,d,0,s)}Hs(s)}function vg(t,r=null,s=null,a){const c=_g(t,r,s,a);return c.resolveInjectorInitializers(),c}function _g(t,r=null,s=null,a,c=new Set){const d=[s||K,Lm(t)];return a=a||("object"==typeof t?void 0:Ve(t)),new Rp(d,r||Il(),a||null,c)}let pc=(()=>{class t{static create(s,a){if(Array.isArray(s))return vg({name:""},a,s,"");{const c=s.name??"";return vg({name:c},s.parent,s.providers,c)}}}return t.THROW_IF_NOT_FOUND=_i,t.NULL=new wh,t.\u0275prov=Nn({token:t,providedIn:"any",factory:()=>Lr(Ap)}),t.__NG_ELEMENT_ID__=-1,t})();function ku(t,r=De.Default){const s=et();return null===s?Lr(t,r):rn(Xn(),s,Ue(t),r)}function Sg(){throw new Error("invalid")}function Od(t,r){return t<<17|r<<2}function yo(t){return t>>17&32767}function Ll(t){return 2|t}function ca(t){return(131068&t)>>2}function Ou(t,r){return-131069&t|r<<2}function Ul(t){return 1|t}function $d(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const c=s[a],d=s[a+1];if(-1!==d){const g=t.data[d];va(c),g.contentQueries(2,r[d],d)}}}function Zc(t,r,s,a,c,d,g,w,T,N,U){const G=r.blueprint.slice();return G[0]=c,G[2]=76|a,(null!==U||t&&1024&t[2])&&(G[2]|=1024),Bn(G),G[3]=G[15]=t,G[8]=s,G[10]=g||t&&t[10],G[11]=w||t&&t[11],G[12]=T||t&&t[12]||null,G[9]=N||t&&t[9]||null,G[6]=d,G[20]=function Rh(){return Mh++}(),G[21]=U,G[16]=2==r.type?t[16]:G,G}function Yc(t,r,s,a,c){let d=t.data[r];if(null===d)d=function Hl(t,r,s,a,c){const d=Ds(),g=Ga(),T=t.data[r]=function Rf(t,r,s,a,c,d){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,s,r,a,c);return null===t.firstChild&&(t.firstChild=T),null!==d&&(g?null==d.child&&null!==T.parent&&(d.child=T):null===d.next&&(d.next=T)),T}(t,r,s,a,c),function zu(){return Wt.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=s,d.value=a,d.attrs=c;const g=function Ui(){const t=Wt.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return Wn(d,!0),d}function Ys(t,r,s,a){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function Qc(t,r,s){Ko(r);try{const a=t.viewQuery;null!==a&&qf(1,a,s);const c=t.template;null!==c&&Fg(t,r,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&$d(t,r),t.staticViewQueries&&qf(2,t.viewQuery,s);const d=t.components;null!==d&&function Og(t,r){for(let s=0;s<r.length;s++)Jc(t,r[s])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[2]&=-5,no()}}function Gl(t,r,s,a){const c=r[2];if(128!=(128&c)){Ko(r);try{Bn(r),function Di(t){return Wt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Fg(t,r,s,2,a);const g=3==(3&c);if(g){const N=t.preOrderCheckHooks;null!==N&&ro(r,N,null)}else{const N=t.preOrderHooks;null!==N&&qo(r,N,0,null),er(r,0)}if(function Wd(t){for(let r=_d(t);null!==r;r=Fh(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const c=s[a],d=c[3];0==(512&c[2])&&Or(d,1),c[2]|=512}}}(r),function Gg(t){for(let r=_d(t);null!==r;r=Fh(r))for(let s=10;s<r.length;s++){const a=r[s],c=a[1];Qn(a)&&Gl(c,a,c.template,a[8])}}(r),null!==t.contentQueries&&$d(t,r),g){const N=t.contentCheckHooks;null!==N&&ro(r,N)}else{const N=t.contentHooks;null!==N&&qo(r,N,1),er(r,1)}!function Tf(t,r){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const c=s[a];if(c<0)Hs(~c);else{const d=c,g=s[++a],w=s[++a];ma(g,d),w(2,r[d])}}}finally{Hs(-1)}}(t,r);const w=t.components;null!==w&&function qc(t,r){for(let s=0;s<r.length;s++)zg(t,r[s])}(r,w);const T=t.viewQuery;if(null!==T&&qf(2,T,a),g){const N=t.viewCheckHooks;null!==N&&ro(r,N)}else{const N=t.viewHooks;null!==N&&qo(r,N,2),er(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,Or(r[3],-1))}finally{no()}}}function bf(t,r,s,a){const c=r[10],g=jn(r);try{!g&&c.begin&&c.begin(),g&&Qc(t,r,a),Gl(t,r,s,a)}finally{!g&&c.end&&c.end()}}function Fg(t,r,s,a,c){const d=Xr(),g=2&a;try{Hs(-1),g&&r.length>22&&Jh(t,r,22,!1),s(a,c)}finally{Hs(d)}}function zl(t,r,s){!Do()||(function Iy(t,r,s,a){const c=s.directiveStart,d=s.directiveEnd;t.firstCreatePass||Zi(s,r),ms(a,r);const g=s.initialInputs;for(let w=c;w<d;w++){const T=t.data[w],N=fi(T);N&&Vf(r,s,T);const U=Yt(r,t,w,s);ms(U,r),null!==g&&Bf(0,w-c,U,T,0,g),N&&(fn(s.index,r)[8]=U)}}(t,r,s,oe(s,r)),128==(128&s.flags)&&function Ff(t,r,s){const a=s.directiveStart,c=s.directiveEnd,d=s.index,g=function Ts(){return Wt.lFrame.currentDirectiveIndex}();try{Hs(d);for(let w=a;w<c;w++){const T=t.data[w],N=r[w];za(w),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Lf(T,N)}}finally{Hs(-1),za(g)}}(t,r,s))}function Cf(t,r,s=oe){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const g=a[d+1],w=-1===g?s(r,t):t[g];t[c++]=w}}}function Hd(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Sf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function Sf(t,r,s,a,c,d,g,w,T,N){const U=22+a,G=U+c,ce=function Af(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:In);return s}(U,G),Ae="function"==typeof N?N():N;return ce[1]={type:t,blueprint:ce,template:s,queries:null,viewQuery:w,declTNode:r,data:ce.slice().fill(null,U),bindingStartIndex:U,expandoStartIndex:G,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:T,consts:Ae,incompleteFirstPass:!1}}function Mf(t,r,s,a){const c=qd(r);null===s?c.push(a):(c.push(s),t.firstCreatePass&&Kg(t).push(a,c.length-1))}function Nf(t,r,s){for(let a in t)if(t.hasOwnProperty(a)){const c=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,c):s[a]=[r,c]}return s}function Ug(t,r){const a=r.directiveEnd,c=t.data,d=r.attrs,g=[];let w=null,T=null;for(let N=r.directiveStart;N<a;N++){const U=c[N],G=U.inputs,ce=null===d||Gh(r)?null:jf(G,d);g.push(ce),w=Nf(G,N,w),T=Nf(U.outputs,N,T)}null!==w&&(w.hasOwnProperty("class")&&(r.flags|=16),w.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=g,r.inputs=w,r.outputs=T}function Vg(t,r){const s=fn(r,t);16&s[2]||(s[2]|=32)}function Of(t,r,s,a){let c=!1;if(Do()){const d=function Gd(t,r,s){const a=t.directiveRegistry;let c=null;if(a)for(let d=0;d<a.length;d++){const g=a[d];Kh(s,g.selectors,!1)&&(c||(c=[]),Qo(Zi(s,r),t,g.type),fi(g)?($g(t,s),c.unshift(g)):c.push(g))}return c}(t,r,s),g=null===a?null:{"":-1};if(null!==d){c=!0,Hg(s,t.data.length,d.length);for(let U=0;U<d.length;U++){const G=d[U];G.providersResolver&&G.providersResolver(G)}let w=!1,T=!1,N=Ys(t,r,d.length,null);for(let U=0;U<d.length;U++){const G=d[U];s.mergedAttrs=ut(s.mergedAttrs,G.hostAttrs),Uf(t,s,r,N,G),Dy(N,G,g),null!==G.contentQueries&&(s.flags|=8),(null!==G.hostBindings||null!==G.hostAttrs||0!==G.hostVars)&&(s.flags|=128);const ce=G.type.prototype;!w&&(ce.ngOnChanges||ce.ngOnInit||ce.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),w=!0),!T&&(ce.ngOnChanges||ce.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),T=!0),N++}Ug(t,s)}g&&function Ey(t,r,s){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new Ne(-301,!1);a.push(r[c],d)}}}(s,a,g)}return s.mergedAttrs=ut(s.mergedAttrs,s.attrs),c}function jg(t,r,s,a,c,d){const g=d.hostBindings;if(g){let w=t.hostBindingOpCodes;null===w&&(w=t.hostBindingOpCodes=[]);const T=~r.index;(function wy(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(w)!=T&&w.push(T),w.push(a,c,g)}}function Lf(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function $g(t,r){r.flags|=2,(t.components||(t.components=[])).push(r.index)}function Dy(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;fi(r)&&(s[""]=t)}}function Hg(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}function Uf(t,r,s,a,c){t.data[a]=c;const d=c.factory||(c.factory=Ai(c.type)),g=new io(d,fi(c),ku);t.blueprint[a]=g,s[a]=g,jg(t,r,0,a,Ys(t,s,c.hostVars,In),c)}function Vf(t,r,s){const a=oe(r,t),c=Hd(s),d=t[10],g=Kd(t,Zc(t,c,null,s.onPush?32:16,a,r,d,d.createRenderer(a,s),null,null,null));t[r.index]=g}function la(t,r,s,a,c,d){const g=oe(t,r);!function Wl(t,r,s,a,c,d,g){if(null==d)t.removeAttribute(r,c,s);else{const w=null==g?he(d):g(d,a||"",c);t.setAttribute(r,c,w,s)}}(r[11],g,d,t.value,s,a,c)}function Bf(t,r,s,a,c,d){const g=d[r];if(null!==g){const w=a.setInput;for(let T=0;T<g.length;){const N=g[T++],U=g[T++],G=g[T++];null!==w?a.setInput(s,G,N,U):s[U]=G}}}function jf(t,r){let s=null,a=0;for(;a<r.length;){const c=r[a];if(0!==c)if(5!==c){if("number"==typeof c)break;t.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,t[c],r[a+1])),a+=2}else a+=2;else a+=4}return s}function zd(t,r,s,a){return new Array(t,!0,!1,r,null,0,a,s,null,null)}function zg(t,r){const s=fn(r,t);if(Qn(s)){const a=s[1];48&s[2]?Gl(a,s,a.template,s[8]):s[5]>0&&Kl(s)}}function Kl(t){for(let a=_d(t);null!==a;a=Fh(a))for(let c=10;c<a.length;c++){const d=a[c];if(512&d[2]){const g=d[1];Gl(g,d,g.template,d[8])}else d[5]>0&&Kl(d)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const c=fn(s[a],t);Qn(c)&&c[5]>0&&Kl(c)}}function Jc(t,r){const s=fn(r,t),a=s[1];(function Hf(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])})(a,s),Qc(a,s,s[8])}function Kd(t,r){return t[13]?t[14][4]=r:t[13]=r,t[14]=r,r}function Gf(t){for(;t;){t[2]|=32;const r=La(t);if(ns(t)&&!r)return t;t=r}return null}function Kf(t){!function zf(t){for(let r=0;r<t.components.length;r++){const s=t.components[r],a=Ph(s);if(null!==a){const c=a[1];bf(c,a,c.template,s)}}}(t[8])}function qf(t,r,s){va(0),r(t,s)}const Wg=(()=>Promise.resolve(null))();function qd(t){return t[7]||(t[7]=[])}function Kg(t){return t.cleanup||(t.cleanup=[])}function Yf(t,r){const s=t[9],a=s?s.get(Lo,null):null;a&&a.handleError(r)}function Xc(t,r,s,a,c){for(let d=0;d<s.length;){const g=s[d++],w=s[d++],T=r[g],N=t.data[g];null!==N.setInput?N.setInput(T,c,a,w):T[w]=c}}function Rn(t,r,s){const a=B(r,t);!function Xp(t,r,s){t.setValue(r,s)}(t[11],a,s)}function ql(t,r,s){let a=s?t.styles:null,c=s?t.classes:null,d=0;if(null!==r)for(let g=0;g<r.length;g++){const w=r[g];"number"==typeof w?d=w:1==d?c=Rt(c,w):2==d&&(a=Rt(a,w+": "+r[++g]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}function Zl(t,r,s,a,c=!1){for(;null!==s;){const d=r[s.index];if(null!==d&&a.push(x(d)),Yn(d))for(let w=10;w<d.length;w++){const T=d[w],N=T[1].firstChild;null!==N&&Zl(T[1],T,N,a)}const g=s.type;if(8&g)Zl(t,r,s.child,a);else if(32&g){const w=Ru(s,r);let T;for(;T=w();)a.push(T)}else if(16&g){const w=cg(r,s);if(Array.isArray(w))a.push(...w);else{const T=La(r[16]);Zl(T[1],T,w,a,!0)}}s=c?s.projectionNext:s.next}return a}class du{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return Zl(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Yn(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Id(r,a),v(s,a))}this._attachedToViewContainer=!1}ig(this._lView[1],this._lView)}onDestroy(r){Mf(this._lView[1],this._lView,null,r)}markForCheck(){Gf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Wf(t,r,s){const a=r[10];a.begin&&a.begin();try{Gl(t,r,t.template,s)}catch(c){throw Yf(r,c),c}finally{a.end&&a.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dc(t,r){Pl(t,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Ne(902,!1);this._appRef=r}}class C_ extends du{constructor(r){super(r),this._view=r}detectChanges(){Kf(this._view)}checkNoChanges(){}get context(){return null}}class li extends Pc{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=ee(r);return new Zd(s,this.ngModule)}}function Xi(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class S_{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const c=this.injector.get(r,bh,a);return c!==bh||s===bh?c:this.parentInjector.get(r,s,a)}}class Zd extends oc{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Yh(t){return t.map(Zh).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Xi(this.componentDef.inputs)}get outputs(){return Xi(this.componentDef.outputs)}create(r,s,a,c){let d=(c=c||this.ngModule)instanceof xu?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const g=d?new S_(r,d):r,w=g.get(Dl,null);if(null===w)throw new Ne(407,!1);const T=g.get(zm,null),N=w.createRenderer(null,this.componentDef),U=this.componentDef.selectors[0][0]||"div",G=a?function xf(t,r,s){return t.selectRootElement(r,s===nn.ShadowDom)}(N,a,this.componentDef.encapsulation):wd(w.createRenderer(null,this.componentDef),U,function Va(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(U)),ce=this.componentDef.onPush?288:272,Ae=function x_(t,r){return{components:[],scheduler:t||vd,clean:Wg,playerHandler:r||null,flags:0}}(),Xe=Sf(0,null,null,1,0,null,null,null,null,null),ht=Zc(null,Xe,Ae,ce,null,null,w,N,T,g,null);let bt,Lt;Ko(ht);try{const on=function Qf(t,r,s,a,c,d){const g=s[1];s[22]=t;const T=Yc(g,22,2,"#host",null),N=T.mergedAttrs=r.hostAttrs;null!==N&&(ql(T,N,!0),null!==t&&(qi(c,t,N),null!==T.classes&&Pu(c,t,T.classes),null!==T.styles&&fc(c,t,T.styles)));const U=a.createRenderer(t,r),G=Zc(s,Hd(r),null,r.onPush?32:16,s[22],T,a,U,d||null,null,null);return g.firstCreatePass&&(Qo(Zi(T,s),g,r.type),$g(g,T),Hg(T,s.length,1)),Kd(s,G),s[22]=G}(G,this.componentDef,ht,w,N);if(G)if(a)qi(N,G,["ng-version",Vp.full]);else{const{attrs:lt,classes:an}=function Qh(t){const r=[],s=[];let a=1,c=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===c?""!==d&&r.push(d,t[++a]):8===c&&s.push(d);else{if(!ua(c))break;c=d}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);lt&&qi(N,G,lt),an&&an.length>0&&Pu(N,G,an.join(" "))}if(Lt=st(Xe,22),void 0!==s){const lt=Lt.projection=[];for(let an=0;an<this.ngContentSelectors.length;an++){const Zn=s[an];lt.push(null!=Zn?Array.from(Zn):null)}}bt=function Cy(t,r,s,a,c){const d=s[1],g=function kf(t,r,s){const a=Xn();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Uf(t,a,r,Ys(t,r,1,null),s),Ug(t,a));const c=Yt(r,t,a.directiveStart,a);ms(c,r);const d=oe(a,r);return d&&ms(d,r),c}(d,s,r);if(a.components.push(g),t[8]=g,null!==c)for(const T of c)T(g,r);if(r.contentQueries){const T=Xn();r.contentQueries(1,g,T.directiveStart)}const w=Xn();return!d.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Hs(w.index),jg(s[1],w,0,w.directiveStart,w.directiveEnd,r),Lf(r,g)),g}(on,this.componentDef,ht,Ae,[ti]),Qc(Xe,ht,null)}finally{no()}return new by(this.componentType,bt,kc(Lt,ht),ht,Lt)}}class by extends class jm{}{constructor(r,s,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.instance=s,this.hostView=this.changeDetectorRef=new C_(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){const d=this._rootLView;Xc(d[1],d,c,r,s),Vg(d,this._tNode.index)}}get injector(){return new wn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function ti(){const t=Xn();Cr(et()[1],t)}function Ii(t){let r=function Zg(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let c;if(fi(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Ne(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const g=t;g.inputs=Qg(t.inputs),g.declaredInputs=Qg(t.declaredInputs),g.outputs=Qg(t.outputs);const w=c.hostBindings;w&&R_(t,w);const T=c.viewQuery,N=c.contentQueries;if(T&&M_(t,T),N&&Jg(t,N),gt(t.inputs,c.inputs),gt(t.declaredInputs,c.declaredInputs),gt(t.outputs,c.outputs),fi(c)&&c.data.animation){const U=t.data;U.animation=(U.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let g=0;g<d.length;g++){const w=d[g];w&&w.ngInherit&&w(t),w===Ii&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Yg(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=ut(c.hostAttrs,s=ut(s,c.hostAttrs))}}(a)}function Qg(t){return t===J?{}:t===K?[]:t}function M_(t,r){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function Jg(t,r){const s=t.contentQueries;t.contentQueries=s?(a,c,d)=>{r(a,c,d),s(a,c,d)}:r}function R_(t,r){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}let Jf=null;function el(){if(!Jf){const t=Vt.Symbol;if(t&&t.iterator)Jf=t.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Jf=a)}}}return Jf}function tl(t){return!!hu(t)&&(Array.isArray(t)||!(t instanceof Map)&&el()in t)}function hu(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ys(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function Xf(t,r,s,a){const c=et();return ys(c,bo(),r)&&(gn(),la(gr(),c,t,r,s,a)),Xf}function Ba(t,r,s,a,c,d){const w=function Lu(t,r,s,a){const c=ys(t,r,s);return ys(t,r+1,a)||c}(t,function Mi(){return Wt.lFrame.bindingIndex}(),s,c);return Fr(2),w?r+he(s)+a+he(c)+d:In}function nm(t,r,s,a,c,d,g,w){const T=et(),N=gn(),U=t+22,G=N.firstCreatePass?function ip(t,r,s,a,c,d,g,w,T){const N=r.consts,U=Yc(r,t,4,g||null,ir(N,w));Of(r,s,U,ir(N,T)),Cr(r,U);const G=U.tViews=Sf(2,U,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,N);return null!==r.queries&&(r.queries.template(r,U),G.queries=r.queries.embeddedTView(U)),U}(U,N,T,r,s,a,c,d,g):N.data[U];Wn(G,!1);const ce=T[11].createComment("");Gc(N,T,ce,G),ms(ce,T),Kd(T,T[U]=zd(ce,T,ce,G)),Er(G)&&zl(N,T,G),null!=g&&Cf(T,G,w)}function ju(t,r,s){const a=et();return ys(a,bo(),r)&&function Fs(t,r,s,a,c,d,g,w){const T=oe(r,s);let U,N=r.inputs;!w&&null!=N&&(U=N[a])?(Xc(t,s,U,a,c),Ir(r)&&Vg(s,r.index)):3&r.type&&(a=function _y(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=g?g(c,r.value||"",a):c,d.setProperty(T,a,c))}(gn(),gr(),a,t,r,a[11],s,!1),ju}function ol(t,r,s,a,c){const g=c?"class":"style";Xc(t,s,r.inputs[g],g,a)}function eh(t,r,s,a){const c=et(),d=gn(),g=22+t,w=c[11],T=c[g]=wd(w,r,function Ku(){return Wt.lFrame.currentNamespace}()),N=d.firstCreatePass?function al(t,r,s,a,c,d,g){const w=r.consts,N=Yc(r,t,2,c,ir(w,d));return Of(r,s,N,ir(w,g)),null!==N.attrs&&ql(N,N.attrs,!1),null!==N.mergedAttrs&&ql(N,N.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,N),N}(g,d,c,0,r,s,a):d.data[g];Wn(N,!0);const U=N.mergedAttrs;null!==U&&qi(w,T,U);const G=N.classes;null!==G&&Pu(w,T,G);const ce=N.styles;return null!==ce&&fc(w,T,ce),64!=(64&N.flags)&&Gc(d,c,T,N),0===function xi(){return Wt.lFrame.elementDepthCount}()&&ms(T,c),function zo(){Wt.lFrame.elementDepthCount++}(),Er(N)&&(zl(d,c,N),function Lg(t,r,s){if(ii(r)){const c=r.directiveEnd;for(let d=r.directiveStart;d<c;d++){const g=t.data[d];g.contentQueries&&g.contentQueries(1,s[d],d)}}}(d,N,c)),null!==a&&Cf(c,N),eh}function sp(){let t=Xn();Ga()?function Wo(){Wt.lFrame.isParent=!1}():(t=t.parent,Wn(t,!1));const r=t;!function Es(){Wt.lFrame.elementDepthCount--}();const s=gn();return s.firstCreatePass&&(Cr(s,t),ii(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Zu(t){return 0!=(16&t.flags)}(r)&&ol(s,r,et(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Za(t){return 0!=(32&t.flags)}(r)&&ol(s,r,et(),r.stylesWithoutHost,!1),sp}function th(t,r,s,a){return eh(t,r,s,a),sp(),th}function im(){return et()}function sm(t){return!!t&&"function"==typeof t.then}function ap(t){return!!t&&"function"==typeof t.subscribe}const Ay=ap;function om(t,r,s,a){const c=et(),d=gn(),g=Xn();return function xy(t,r,s,a,c,d,g,w){const T=Er(a),U=t.firstCreatePass&&Kg(t),G=r[8],ce=qd(r);let Ae=!0;if(3&a.type||w){const bt=oe(a,r),Lt=w?w(bt):bt,on=ce.length,lt=w?Zn=>w(x(Zn[a.index])):a.index;let an=null;if(!w&&T&&(an=function L_(t,r,s,a){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const g=c[d];if(g===s&&c[d+1]===a){const w=r[7],T=c[d+2];return w.length>T?w[T]:null}"string"==typeof g&&(d+=2)}return null}(t,r,c,a.index)),null!==an)(an.__ngLastListenerFn__||an).__ngNextListenerFn__=d,an.__ngLastListenerFn__=d,Ae=!1;else{d=My(a,r,G,d,!1);const Zn=s.listen(Lt,c,d);ce.push(d,Zn),U&&U.push(c,lt,on,on+1)}}else d=My(a,r,G,d,!1);const Xe=a.outputs;let ht;if(Ae&&null!==Xe&&(ht=Xe[c])){const bt=ht.length;if(bt)for(let Lt=0;Lt<bt;Lt+=2){const di=r[ht[Lt]][ht[Lt+1]].subscribe(d),id=ce.length;ce.push(d,di),U&&U.push(c,a.index,id,-(id+1))}}}(d,c,c[11],g,t,r,0,a),om}function cp(t,r,s,a){try{return!1!==s(a)}catch(c){return Yf(t,c),!1}}function My(t,r,s,a,c){return function d(g){if(g===Function)return a;Gf(2&t.flags?fn(t.index,r):r);let T=cp(r,0,a,g),N=d.__ngNextListenerFn__;for(;N;)T=cp(r,0,N,g)&&T,N=N.__ngNextListenerFn__;return c&&!1===T&&(g.preventDefault(),g.returnValue=!1),T}}function Ry(t=1){return function Ka(t){return(Wt.lFrame.contextLView=function Ao(t,r){for(;t>0;)r=r[15],t--;return r}(t,Wt.lFrame.contextLView))[8]}(t)}function ky(t,r,s,a,c){const d=t[s+1],g=null===r;let w=a?yo(d):ca(d),T=!1;for(;0!==w&&(!1===T||g);){const U=t[w+1];Oy(t[w],r)&&(T=!0,t[w+1]=a?Ul(U):Ll(U)),w=a?yo(U):ca(U)}T&&(t[s+1]=a?Ll(d):Ul(d))}function Oy(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&St(t,r)>=0}function pm(t,r,s){return _o(t,r,s,!1),pm}function ih(t,r){return _o(t,r,null,!0),ih}function _o(t,r,s,a){const c=et(),d=gn(),g=Fr(2);d.firstUpdatePass&&function ym(t,r,s,a){const c=t.data;if(null===c[s+1]){const d=c[Xr()],g=function mm(t,r){return r>=t.expandoStartIndex}(t,s);(function Ky(t,r){return 0!=(t.flags&(r?16:32))})(d,a)&&null===r&&!g&&(r=!1),r=function jy(t,r,s,a){const c=function bs(t){const r=Wt.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=sh(s=vm(null,t,r,s,a),r.attrs,a),d=null);else{const g=r.directiveStylingLast;if(-1===g||t[g]!==c)if(s=vm(c,t,r,s,a),null===d){let T=function $y(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==ca(a))return t[yo(a)]}(t,r,a);void 0!==T&&Array.isArray(T)&&(T=vm(null,t,r,T[1],a),T=sh(T,r.attrs,a),function Hy(t,r,s,a){t[yo(s?r.classBindings:r.styleBindings)]=a}(t,r,a,T))}else d=function z_(t,r,s){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=sh(a,t[d].hostAttrs,s);return sh(a,r.attrs,s)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,a),function U_(t,r,s,a,c,d){let g=d?r.classBindings:r.styleBindings,w=yo(g),T=ca(g);t[a]=s;let U,N=!1;if(Array.isArray(s)){const G=s;U=G[1],(null===U||St(G,U)>0)&&(N=!0)}else U=s;if(c)if(0!==T){const ce=yo(t[w+1]);t[a+1]=Od(ce,w),0!==ce&&(t[ce+1]=Ou(t[ce+1],a)),t[w+1]=function ff(t,r){return 131071&t|r<<17}(t[w+1],a)}else t[a+1]=Od(w,0),0!==w&&(t[w+1]=Ou(t[w+1],a)),w=a;else t[a+1]=Od(T,0),0===w?w=a:t[T+1]=Ou(t[T+1],a),T=a;N&&(t[a+1]=Ll(t[a+1])),ky(t,U,a,!0),ky(t,U,a,!1),function V_(t,r,s,a,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&St(d,r)>=0&&(s[a+1]=Ul(s[a+1]))}(r,U,t,a,d),g=Od(w,T),d?r.classBindings=g:r.styleBindings=g}(c,d,r,s,g,a)}}(d,t,g,a),r!==In&&ys(c,g,r)&&function zy(t,r,s,a,c,d,g,w){if(!(3&r.type))return;const T=t.data,N=T[w+1];hp(function cu(t){return 1==(1&t)}(N)?Wy(T,r,s,c,ca(N),g):void 0)||(hp(d)||function hf(t){return 2==(2&t)}(N)&&(d=Wy(T,null,s,c,w,g)),function ay(t,r,s,a,c){if(r)c?t.addClass(s,a):t.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:aa.DashCase;null==c?t.removeStyle(s,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=aa.Important),t.setStyle(s,a,c,d))}}(a,g,B(Xr(),s),c,d))}(d,d.data[Xr()],c,c[11],t,c[g+1]=function q_(t,r){return null==t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Ve(_(t)))),t}(r,s),a,g)}function vm(t,r,s,a,c){let d=null;const g=s.directiveEnd;let w=s.directiveStylingLast;for(-1===w?w=s.directiveStart:w++;w<g&&(d=r[w],a=sh(a,d.hostAttrs,c),d!==t);)w++;return null!==t&&(s.directiveStylingLast=w),a}function sh(t,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const g=r[d];"number"==typeof g?c=g:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),xe(t,g,!!s||r[++d]))}return void 0===t?null:t}function Wy(t,r,s,a,c,d){const g=null===r;let w;for(;c>0;){const T=t[c],N=Array.isArray(T),U=N?T[1]:T,G=null===U;let ce=s[c+1];ce===In&&(ce=G?K:void 0);let Ae=G?ft(ce,a):U===a?ce:void 0;if(N&&!hp(Ae)&&(Ae=ft(T,a)),hp(Ae)&&(w=Ae,g))return w;const Xe=t[c+1];c=g?yo(Xe):ca(Xe)}if(null!==r){let T=d?r.residualClasses:r.residualStyles;null!=T&&(w=ft(T,a))}return w}function hp(t){return void 0!==t}function qy(t,r=""){const s=et(),a=gn(),c=t+22,d=a.firstCreatePass?Yc(a,c,1,r,null):a.data[c],g=s[c]=function jc(t,r){return t.createText(r)}(s[11],r);Gc(a,s,g,d),Wn(d,!1)}function fp(t,r,s){const a=et(),c=function Uu(t,r,s,a){return ys(t,bo(),s)?r+he(s)+a:In}(a,t,r,s);return c!==In&&Rn(a,Xr(),c),fp}function _m(t,r,s,a,c){const d=et(),g=Ba(d,t,r,s,a,c);return g!==In&&Rn(d,Xr(),g),_m}const ul=void 0;var f0=["en",[["a","p"],["AM","PM"],ul],[["AM","PM"],ul,ul],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ul,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ul,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ul,"{1} 'at' {0}",ul],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function h0(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let nd={};function Em(t){const r=function l(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=n(r);if(s)return s;const a=r.split("-")[0];if(s=n(a),s)return s;if("en"===a)return f0;throw new Ne(701,!1)}function e(t){return Em(t)[u.PluralCase]}function n(t){return t in nd||(nd[t]=Vt.ng&&Vt.ng.common&&Vt.ng.common.locales&&Vt.ng.common.locales[t]),nd[t]}var u=(()=>((u=u||{})[u.LocaleId=0]="LocaleId",u[u.DayPeriodsFormat=1]="DayPeriodsFormat",u[u.DayPeriodsStandalone=2]="DayPeriodsStandalone",u[u.DaysFormat=3]="DaysFormat",u[u.DaysStandalone=4]="DaysStandalone",u[u.MonthsFormat=5]="MonthsFormat",u[u.MonthsStandalone=6]="MonthsStandalone",u[u.Eras=7]="Eras",u[u.FirstDayOfWeek=8]="FirstDayOfWeek",u[u.WeekendRange=9]="WeekendRange",u[u.DateFormat=10]="DateFormat",u[u.TimeFormat=11]="TimeFormat",u[u.DateTimeFormat=12]="DateTimeFormat",u[u.NumberSymbols=13]="NumberSymbols",u[u.NumberFormats=14]="NumberFormats",u[u.CurrencyCode=15]="CurrencyCode",u[u.CurrencySymbol=16]="CurrencySymbol",u[u.CurrencyName=17]="CurrencyName",u[u.Currencies=18]="Currencies",u[u.Directionality=19]="Directionality",u[u.PluralCase=20]="PluralCase",u[u.ExtraData=21]="ExtraData",u))();const R="en-US";let nt=R;function mv(t,r,s,a,c){if(t=Ue(t),Array.isArray(t))for(let d=0;d<t.length;d++)mv(t[d],r,s,a,c);else{const d=gn(),g=et();let w=oa(t)?t:Ue(t.provide),T=Np(t);const N=Xn(),U=1048575&N.providerIndexes,G=N.directiveStart,ce=N.providerIndexes>>20;if(oa(t)||!t.multi){const Ae=new io(T,c,ku),Xe=vv(w,r,c?U:U+ce,G);-1===Xe?(Qo(Zi(N,g),d,w),yv(d,t,r.length),r.push(w),N.directiveStart++,N.directiveEnd++,c&&(N.providerIndexes+=1048576),s.push(Ae),g.push(Ae)):(s[Xe]=Ae,g[Xe]=Ae)}else{const Ae=vv(w,r,U+ce,G),Xe=vv(w,r,U,U+ce),ht=Ae>=0&&s[Ae],bt=Xe>=0&&s[Xe];if(c&&!bt||!c&&!ht){Qo(Zi(N,g),d,w);const Lt=function QI(t,r,s,a,c){const d=new io(t,s,ku);return d.multi=[],d.index=r,d.componentProviders=0,P0(d,c,a&&!s),d}(c?YI:ZI,s.length,c,a,T);!c&&bt&&(s[Xe].providerFactory=Lt),yv(d,t,r.length,0),r.push(w),N.directiveStart++,N.directiveEnd++,c&&(N.providerIndexes+=1048576),s.push(Lt),g.push(Lt)}else yv(d,t,Ae>-1?Ae:Xe,P0(s[c?Xe:Ae],T,!c&&a));!c&&a&&bt&&s[Xe].componentProviders++}}}function yv(t,r,s,a){const c=oa(r),d=function ka(t){return!!t.useClass}(r);if(c||d){const T=(d?Ue(r.useClass):r).prototype.ngOnDestroy;if(T){const N=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const U=N.indexOf(s);-1===U?N.push(s,[a,T]):N[U+1].push(a,T)}else N.push(s,T)}}}function P0(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function vv(t,r,s,a){for(let c=s;c<a;c++)if(r[c]===t)return c;return-1}function ZI(t,r,s,a){return _v(this.multi,[])}function YI(t,r,s,a){const c=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,w=Yt(s,s[1],this.providerFactory.index,a);d=w.slice(0,g),_v(c,d);for(let T=g;T<w.length;T++)d.push(w[T])}else d=[],_v(c,d);return d}function _v(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function k0(t,r=[]){return s=>{s.providersResolver=(a,c)=>function qI(t,r,s){const a=gn();if(a.firstCreatePass){const c=fi(t);mv(s,a.data,a.blueprint,c,!0),mv(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class ah{}class O0{}function JI(t,r){return new F0(t,r??null)}class F0 extends ah{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new li(this);const a=Ke(r);this._bootstrapComponents=po(a.bootstrap),this._r3Injector=_g(r,s,[{provide:ah,useValue:this},{provide:Pc,useValue:this.componentFactoryResolver}],Ve(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class wv extends O0{constructor(r){super(),this.moduleType=r}create(r){return new F0(this.moduleType,r)}}class XI extends ah{constructor(r,s,a){super(),this.componentFactoryResolver=new li(this),this.instance=null;const c=new Rp([...r,{provide:ah,useValue:this},{provide:Pc,useValue:this.componentFactoryResolver}],s||Il(),a,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Iv(t,r,s=null){return new XI(t,r,s).injector}function Dv(t){return r=>{setTimeout(t,void 0,r)}}const Hu=class SE extends Ee.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,d=s||(()=>null),g=a;if(r&&"object"==typeof r){const T=r;c=T.next?.bind(T),d=T.error?.bind(T),g=T.complete?.bind(T)}this.__isAsync&&(d=Dv(d),c&&(c=Dv(c)),g&&(g=Dv(g)));const w=super.subscribe({next:c,error:d,complete:g});return r instanceof ot.w0&&r.add(w),w}};function AE(){return this._results[el()]()}class Tv{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=el(),a=Tv.prototype;a[s]||(a[s]=AE)}get changes(){return this._changes||(this._changes=new Hu)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=Zr(r);(this._changesDetected=!function ba(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],d=r[a];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let _p=(()=>{class t{}return t.__NG_ELEMENT_ID__=RE,t})();const xE=_p,ME=class extends xE{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,c=Zc(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);c[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(c[19]=g.createEmbeddedView(a)),Qc(a,c,r),new du(c)}};function RE(){return bm(Xn(),et())}function bm(t,r){return 4&t.type?new ME(r,t,kc(t,r)):null}let Cm=(()=>{class t{}return t.__NG_ELEMENT_ID__=NE,t})();function NE(){return Y0(Xn(),et())}const PE=Cm,q0=class extends PE{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return kc(this._hostTNode,this._hostLView)}get injector(){return new wn(this._hostTNode,this._hostLView)}get parentInjector(){const r=Yi(this._hostTNode,this._hostLView);if(oo(r)){const s=Zt(r,this._hostLView),a=Kn(r);return new wn(s[1].data[a+8],s)}return new wn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=Z0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const g=r.createEmbeddedView(s||{},d);return this.insert(g,c),g}createComponent(r,s,a,c,d){const g=r&&!function lo(t){return"function"==typeof t}(r);let w;if(g)w=s;else{const G=s||{};w=G.index,a=G.injector,c=G.projectableNodes,d=G.environmentInjector||G.ngModuleRef}const T=g?r:new Zd(ee(r)),N=a||this.parentInjector;if(!d&&null==T.ngModule){const ce=(g?N:this.parentInjector).get(xu,null);ce&&(d=ce)}const U=T.create(N,c,void 0,d);return this.insert(U.hostView,w),U}insert(r,s){const a=r._lView,c=a[1];if(function pn(t){return Yn(t[3])}(a)){const U=this.indexOf(r);if(-1!==U)this.detach(U);else{const G=a[3],ce=new q0(G,G[6],G[3]);ce.detach(ce.indexOf(r))}}const d=this._adjustIndex(s),g=this._lContainer;!function tg(t,r,s,a){const c=10+a,d=s.length;a>0&&(s[c-1][4]=r),a<d-10?(r[4]=s[c],dr(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const g=r[17];null!==g&&s!==g&&function ng(t,r){const s=t[9];r[16]!==r[3][3][16]&&(t[2]=!0),null===s?t[9]=[r]:s.push(r)}(g,r);const w=r[19];null!==w&&w.insertView(t),r[2]|=64}(c,a,g,d);const w=Cd(d,g),T=a[11],N=Ed(T,g[7]);return null!==N&&function eg(t,r,s,a,c,d){a[0]=c,a[6]=r,Pl(t,a,s,1,c,d)}(c,g[6],T,a,N,w),r.attachToViewContainerRef(),dr(bv(g),d,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=Z0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Id(this._lContainer,s);a&&(v(bv(this._lContainer),s),ig(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=Id(this._lContainer,s);return a&&null!=v(bv(this._lContainer),s)?new du(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function Z0(t){return t[8]}function bv(t){return t[8]||(t[8]=[])}function Y0(t,r){let s;const a=r[t.index];if(Yn(a))s=a;else{let c;if(8&t.type)c=x(a);else{const d=r[11];c=d.createComment("");const g=oe(t,r);hc(d,Ed(d,g),c,function ug(t,r){return t.nextSibling(r)}(d,g),!1)}r[t.index]=s=zd(a,r,c,t),Kd(r,s)}return new q0(s,t,r)}class Cv{constructor(r){this.queryList=r,this.matches=null}clone(){return new Cv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Sv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<a;d++){const g=s.getByIndex(d);c.push(this.queries[g.indexInDeclarationView].clone())}return new Sv(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==sw(r,s).matches&&this.queries[s].setDirty()}}class Q0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class Av{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new Av(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class xv{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new xv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,s,FE(s,d)),this.matchTNodeWithReadOption(r,s,lr(s,r,d,!1,!1))}else a===_p?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,lr(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Oc||c===Cm||c===_p&&4&s.type)this.addMatch(s.index,-2);else{const d=lr(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function FE(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function UE(t,r,s,a){return-1===s?function LE(t,r){return 11&t.type?kc(t,r):4&t.type?bm(t,r):null}(r,t):-2===s?function VE(t,r,s){return s===Oc?kc(r,t):s===_p?bm(r,t):s===Cm?Y0(r,t):void 0}(t,r,a):Yt(t,t[1],s,r)}function J0(t,r,s,a){const c=r[19].queries[a];if(null===c.matches){const d=t.data,g=s.matches,w=[];for(let T=0;T<g.length;T+=2){const N=g[T];w.push(N<0?null:UE(r,d[N],g[T+1],s.metadata.read))}c.matches=w}return c.matches}function Mv(t,r,s,a){const c=t.queries.getByIndex(s),d=c.matches;if(null!==d){const g=J0(t,r,c,s);for(let w=0;w<d.length;w+=2){const T=d[w];if(T>0)a.push(g[w/2]);else{const N=d[w+1],U=r[-T];for(let G=10;G<U.length;G++){const ce=U[G];ce[17]===ce[3]&&Mv(ce[1],ce,N,a)}if(null!==U[9]){const G=U[9];for(let ce=0;ce<G.length;ce++){const Ae=G[ce];Mv(Ae[1],Ae,N,a)}}}}}return a}function X0(t){const r=et(),s=gn(),a=ya();va(a+1);const c=sw(s,a);if(t.dirty&&jn(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const d=c.crossesNgTemplate?Mv(s,r,a,[]):J0(s,r,c,a);t.reset(d,Oa),t.notifyOnChanges()}return!0}return!1}function ew(t,r,s){const a=gn();a.firstCreatePass&&(iw(a,new Q0(t,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),rw(a,et(),r)}function tw(t,r,s,a){const c=gn();if(c.firstCreatePass){const d=Xn();iw(c,new Q0(r,s,a),d.index),function jE(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}rw(c,et(),s)}function nw(){return function BE(t,r){return t[19].queries[r].queryList}(et(),ya())}function rw(t,r,s){const a=new Tv(4==(4&s));Mf(t,r,a,a.destroy),null===r[19]&&(r[19]=new Sv),r[19].queries.push(new Cv(a))}function iw(t,r,s){null===t.queries&&(t.queries=new Av),t.queries.track(new xv(r,s))}function sw(t,r){return t.queries.getByIndex(r)}function ch(t){const r=ee(t)||Z(t)||Te(t);return null!==r&&r.standalone}function Am(...t){}const Tw=new Fn("Application Initializer");let xm=(()=>{class t{constructor(s){this.appInits=s,this.resolve=Am,this.reject=Am,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const d=this.appInits[c]();if(sm(d))s.push(d);else if(Ay(d)){const g=new Promise((w,T)=>{d.subscribe({complete:w,error:T})});s.push(g)}}Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(Lr(Tw,8))},t.\u0275prov=Nn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const bw=new Fn("AppId",{providedIn:"root",factory:function Cw(){return`${Ov()}${Ov()}${Ov()}`}});function Ov(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Sw=new Fn("Platform Initializer"),uD=new Fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Aw=new Fn("appBootstrapListener");let cD=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Nn({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Mm=new Fn("LocaleId",{providedIn:"root",factory:()=>ta(Mm,De.Optional|De.SkipSelf)||function lD(){return typeof $localize<"u"&&$localize.locale||R}()}),dD=new Fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class hD{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let fD=(()=>{class t{compileModuleSync(s){return new wv(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=po(Ke(s).declarations).reduce((g,w)=>{const T=ee(w);return T&&g.push(new Zd(T)),g},[]);return new hD(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Nn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const mD=(()=>Promise.resolve(0))();function Fv(t){typeof Zone>"u"?mD.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class fa{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Hu(!1),this.onMicrotaskEmpty=new Hu(!1),this.onStable=new Hu(!1),this.onError=new Hu(!1),typeof Zone>"u")throw new Ne(908,!1);Zone.assertZonePatched();const c=this;if(c._nesting=0,c._outer=c._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const d=Zone.AsyncStackTaggingZoneSpec;c._inner=c._inner.fork(new d("Angular"))}Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function yD(){let t=Vt.requestAnimationFrame,r=Vt.cancelAnimationFrame;if(typeof Zone<"u"&&t&&r){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function wD(t){const r=()=>{!function _D(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Vt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Uv(t),t.isCheckStableRunning=!0,Lv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Uv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,d,g,w)=>{try{return Rw(t),s.invokeTask(c,d,g,w)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),Nw(t)}},onInvoke:(s,a,c,d,g,w,T)=>{try{return Rw(t),s.invoke(c,d,g,w,T)}finally{t.shouldCoalesceRunChangeDetection&&r(),Nw(t)}},onHasTask:(s,a,c,d)=>{s.hasTask(c,d),a===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,Uv(t),Lv(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,c,d)=>(s.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fa.isInAngularZone())throw new Ne(909,!1)}static assertNotInAngularZone(){if(fa.isInAngularZone())throw new Ne(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+c,r,vD,Am,Am);try{return d.runTask(g,s,a)}finally{d.cancelTask(g)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const vD={};function Lv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Uv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Rw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Nw(t){t._nesting--,Lv(t)}class ID{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hu,this.onMicrotaskEmpty=new Hu,this.onStable=new Hu,this.onError=new Hu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const Pw=new Fn(""),kw=new Fn("");let Vv,ED=(()=>{class t{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Vv||(function DD(t){Vv=t}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fa.assertNotInAngularZone(),Fv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Fv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}}return t.\u0275fac=function(s){return new(s||t)(Lr(fa),Lr(Ow),Lr(kw))},t.\u0275prov=Nn({token:t,factory:t.\u0275fac}),t})(),Ow=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return Vv?.findTestabilityInTree(this,s,a)??null}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Nn({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),cl=null;const Fw=new Fn("AllowMultipleToken"),Bv=new Fn("PlatformDestroyListeners");class CD{constructor(r,s){this.name=r,this.token=s}}function Uw(t,r,s=[]){const a=`Platform: ${r}`,c=new Fn(a);return(d=[])=>{let g=jv();if(!g||g.injector.get(Fw,!1)){const w=[...s,...d,{provide:c,useValue:!0}];t?t(w):function SD(t){if(cl&&!cl.get(Fw,!1))throw new Ne(400,!1);cl=t;const r=t.get(Bw);(function Lw(t){const r=t.get(Sw,null);r&&r.forEach(s=>s())})(t)}(function Vw(t=[],r){return pc.create({name:r,providers:[{provide:vl,useValue:"platform"},{provide:Bv,useValue:new Set([()=>cl=null])},...t]})}(w,a))}return function xD(t){const r=jv();if(!r)throw new Ne(401,!1);return r}()}}function jv(){return cl?.get(Bw)??null}let Bw=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function MD(t,r){let s;return s="noop"===t?new ID:("zone.js"===t?void 0:t)||new fa(r),s}(a?.ngZone,function jw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(a)),d=[{provide:fa,useValue:c}];return c.run(()=>{const g=pc.create({providers:d,parent:this.injector,name:s.moduleType.name}),w=s.create(g),T=w.injector.get(Lo,null);if(!T)throw new Ne(402,!1);return c.runOutsideAngular(()=>{const N=c.onError.subscribe({next:U=>{T.handleError(U)}});w.onDestroy(()=>{Nm(this._modules,w),N.unsubscribe()})}),function $w(t,r,s){try{const a=s();return sm(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(T,c,()=>{const N=w.injector.get(xm);return N.runInitializers(),N.donePromise.then(()=>(function At(t){Un(t,"Expected localeId to be defined"),"string"==typeof t&&(nt=t.toLowerCase().replace(/_/g,"-"))}(w.injector.get(Mm,R)||R),this._moduleDoBootstrap(w),w))})})}bootstrapModule(s,a=[]){const c=Hw({},a);return function TD(t,r,s){const a=new wv(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const a=s.injector.get(Rm);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new Ne(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ne(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(Bv,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(Lr(pc))},t.\u0275prov=Nn({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function Hw(t,r){return Array.isArray(r)?r.reduce(Hw,t):{...t,...r}}let Rm=(()=>{class t{constructor(s,a,c){this._zone=s,this._injector=a,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const d=new He.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),g=new He.y(w=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{fa.assertNotInAngularZone(),Fv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{fa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{T.unsubscribe(),N.unsubscribe()}});this.isStable=function tt(...t){const r=(0,fe.yG)(t),s=(0,fe._6)(t,1/0),a=t;return a.length?1===a.length?(0,F.Xf)(a[0]):(0,b.J)(s)((0,Ie.D)(a,r)):de.E}(d,g.pipe(function Oe(t={}){const{connector:r=(()=>new Ee.x),resetOnError:s=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=t;return d=>{let g,w,T,N=0,U=!1,G=!1;const ce=()=>{w?.unsubscribe(),w=void 0},Ae=()=>{ce(),g=T=void 0,U=G=!1},Xe=()=>{const ht=g;Ae(),ht?.unsubscribe()};return(0,se.e)((ht,bt)=>{N++,!G&&!U&&ce();const Lt=T=T??r();bt.add(()=>{N--,0===N&&!G&&!U&&(w=Ze(Xe,c))}),Lt.subscribe(bt),!g&&N>0&&(g=new ie.Hp({next:on=>Lt.next(on),error:on=>{G=!0,ce(),w=Ze(Ae,s,on),Lt.error(on)},complete:()=>{U=!0,ce(),w=Ze(Ae,a),Lt.complete()}}),(0,F.Xf)(ht).subscribe(g))})(d)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof oc;if(!this._injector.get(xm).done)throw!c&&ch(s),new Ne(405,false);let g;g=c?s:this._injector.get(Pc).resolveComponentFactory(s),this.componentTypes.push(g.componentType);const w=function bD(t){return t.isBoundToModule}(g)?void 0:this._injector.get(ah),N=g.create(pc.NULL,[],a||g.selector,w),U=N.location.nativeElement,G=N.injector.get(Pw,null);return G?.registerApplication(U),N.onDestroy(()=>{this.detachView(N.hostView),Nm(this.components,N),G?.unregisterApplication(U)}),this._loadComponent(N),N}tick(){if(this._runningTick)throw new Ne(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Nm(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(Aw,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Nm(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Ne(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(s){return new(s||t)(Lr(fa),Lr(xu),Lr(Lo))},t.\u0275prov=Nn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Nm(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}let zw=!0;function ND(){zw=!1}let PD=(()=>{class t{}return t.__NG_ELEMENT_ID__=kD,t})();function kD(t){return function OD(t,r,s){if(Ir(t)&&!s){const a=fn(t.index,r);return new du(a,a)}return 47&t.type?new du(r[16],r):null}(Xn(),et(),16==(16&t))}class Yw{constructor(){}supports(r){return tl(r)}create(r){return new jD(r)}}const BD=(t,r)=>r;class jD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||BD}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,d=null;for(;s||a;){const g=!a||s&&s.currentIndex<Jw(a,c,d)?s:a,w=Jw(g,c,d),T=g.currentIndex;if(g===a)c--,a=a._nextRemoved;else if(s=s._next,null==g.previousIndex)c++;else{d||(d=[]);const N=w-c,U=T-c;if(N!=U){for(let ce=0;ce<N;ce++){const Ae=ce<d.length?d[ce]:d[ce]=0,Xe=Ae+ce;U<=Xe&&Xe<N&&(d[ce]=Ae+1)}d[g.previousIndex]=U-N}}w!==T&&r(g,w,T)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!tl(r))throw new Ne(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,g,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let w=0;w<this.length;w++)d=r[w],g=this._trackByFn(w,d),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,d,g,w)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,g,w),a=!0),s=s._next}else c=0,function O_(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[el()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,w=>{g=this._trackByFn(c,w),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,w,g,c)),Object.is(s.item,w)||this._addIdentityChange(s,w)):(s=this._mismatch(s,w,g,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new $D(s,a),d,c),r}_verifyReinsertion(r,s,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new Qw),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Qw),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class $D{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class HD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class Qw{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new HD,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Jw(t,r,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class Xw{constructor(){}supports(r){return r instanceof Map||hu(r)}create(){return new GD}}class GD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||hu(r)))throw new Ne(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,g=c._next;return d&&(d._next=g),g&&(g._prev=d),c._next=null,c._prev=null,c}const a=new zD(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class zD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function eI(){return new Wv([new Yw])}let Wv=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||eI()),deps:[[t,new Et,new Ge]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new Ne(901,!1)}}return t.\u0275prov=Nn({token:t,providedIn:"root",factory:eI}),t})();function tI(){return new Kv([new Xw])}let Kv=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||tI()),deps:[[t,new Et,new Ge]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new Ne(901,!1)}}return t.\u0275prov=Nn({token:t,providedIn:"root",factory:tI}),t})();const qD=Uw(null,"core",[]);let ZD=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(Lr(Rm))},t.\u0275mod=On({type:t}),t.\u0275inj=Pn({}),t})();function YD(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}},1481:(qt,We,j)=>{j.d(We,{Dx:()=>X,b2:()=>ar,q6:()=>Mr});var b=j(6895),F=j(8256);class de extends b.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fe extends de{static makeCurrent(){(0,b.HT)(new fe)}onAndCancel(ee,Z,Te){return ee.addEventListener(Z,Te,!1),()=>{ee.removeEventListener(Z,Te,!1)}}dispatchEvent(ee,Z){ee.dispatchEvent(Z)}remove(ee){ee.parentNode&&ee.parentNode.removeChild(ee)}createElement(ee,Z){return(Z=Z||this.getDefaultDocument()).createElement(ee)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ee){return ee.nodeType===Node.ELEMENT_NODE}isShadowRoot(ee){return ee instanceof DocumentFragment}getGlobalEventTarget(ee,Z){return"window"===Z?window:"document"===Z?ee:"body"===Z?ee.body:null}getBaseHref(ee){const Z=function tt(){return Ie=Ie||document.querySelector("base"),Ie?Ie.getAttribute("href"):null}();return null==Z?null:function ot(Ce){Ee=Ee||document.createElement("a"),Ee.setAttribute("href",Ce);const ee=Ee.pathname;return"/"===ee.charAt(0)?ee:`/${ee}`}(Z)}resetBaseElement(){Ie=null}getUserAgent(){return window.navigator.userAgent}getCookie(ee){return(0,b.Mx)(document.cookie,ee)}}let Ee,Ie=null;const He=new F.OlP("TRANSITION_ID"),se=[{provide:F.ip1,useFactory:function ie(Ce,ee,Z){return()=>{Z.get(F.CZH).donePromise.then(()=>{const Te=(0,b.q)(),Ke=ee.querySelectorAll(`style[ng-transition="${Ce}"]`);for(let Ot=0;Ot<Ke.length;Ot++)Te.remove(Ke[Ot])})}},deps:[He,b.K0,F.zs3],multi:!0}];let Ze=(()=>{class Ce{build(){return new XMLHttpRequest}}return Ce.\u0275fac=function(Z){return new(Z||Ce)},Ce.\u0275prov=F.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();const ue=new F.OlP("EventManagerPlugins");let gt=(()=>{class Ce{constructor(Z,Te){this._zone=Te,this._eventNameToPlugin=new Map,Z.forEach(Ke=>Ke.manager=this),this._plugins=Z.slice().reverse()}addEventListener(Z,Te,Ke){return this._findPluginFor(Te).addEventListener(Z,Te,Ke)}addGlobalEventListener(Z,Te,Ke){return this._findPluginFor(Te).addGlobalEventListener(Z,Te,Ke)}getZone(){return this._zone}_findPluginFor(Z){const Te=this._eventNameToPlugin.get(Z);if(Te)return Te;const Ke=this._plugins;for(let Ot=0;Ot<Ke.length;Ot++){const Je=Ke[Ot];if(Je.supports(Z))return this._eventNameToPlugin.set(Z,Je),Je}throw new Error(`No event manager plugin found for event ${Z}`)}}return Ce.\u0275fac=function(Z){return new(Z||Ce)(F.LFG(ue),F.LFG(F.R0b))},Ce.\u0275prov=F.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();class Ve{constructor(ee){this._doc=ee}addGlobalEventListener(ee,Z,Te){const Ke=(0,b.q)().getGlobalEventTarget(this._doc,ee);if(!Ke)throw new Error(`Unsupported event target ${Ke} for event ${Z}`);return this.addEventListener(Ke,Z,Te)}}let Rt=(()=>{class Ce{constructor(){this._stylesSet=new Set}addStyles(Z){const Te=new Set;Z.forEach(Ke=>{this._stylesSet.has(Ke)||(this._stylesSet.add(Ke),Te.add(Ke))}),this.onStylesAdded(Te)}onStylesAdded(Z){}getAllStyles(){return Array.from(this._stylesSet)}}return Ce.\u0275fac=function(Z){return new(Z||Ce)},Ce.\u0275prov=F.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})(),ze=(()=>{class Ce extends Rt{constructor(Z){super(),this._doc=Z,this._hostNodes=new Map,this._hostNodes.set(Z.head,[])}_addStylesToHost(Z,Te,Ke){Z.forEach(Ot=>{const Je=this._doc.createElement("style");Je.textContent=Ot,Ke.push(Te.appendChild(Je))})}addHost(Z){const Te=[];this._addStylesToHost(this._stylesSet,Z,Te),this._hostNodes.set(Z,Te)}removeHost(Z){const Te=this._hostNodes.get(Z);Te&&Te.forEach(xt),this._hostNodes.delete(Z)}onStylesAdded(Z){this._hostNodes.forEach((Te,Ke)=>{this._addStylesToHost(Z,Ke,Te)})}ngOnDestroy(){this._hostNodes.forEach(Z=>Z.forEach(xt))}}return Ce.\u0275fac=function(Z){return new(Z||Ce)(F.LFG(b.K0))},Ce.\u0275prov=F.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();function xt(Ce){(0,b.q)().remove(Ce)}const Ue={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Be=/%COMP%/g;function le(Ce,ee,Z){for(let Te=0;Te<ee.length;Te++){let Ke=ee[Te];Array.isArray(Ke)?le(Ce,Ke,Z):(Ke=Ke.replace(Be,Ce),Z.push(Ke))}return Z}function ve(Ce){return ee=>{if("__ngUnwrap__"===ee)return Ce;!1===Ce(ee)&&(ee.preventDefault(),ee.returnValue=!1)}}let ye=(()=>{class Ce{constructor(Z,Te,Ke){this.eventManager=Z,this.sharedStylesHost=Te,this.appId=Ke,this.rendererByCompId=new Map,this.defaultRenderer=new Ye(Z)}createRenderer(Z,Te){if(!Z||!Te)return this.defaultRenderer;switch(Te.encapsulation){case F.ifc.Emulated:{let Ke=this.rendererByCompId.get(Te.id);return Ke||(Ke=new yn(this.eventManager,this.sharedStylesHost,Te,this.appId),this.rendererByCompId.set(Te.id,Ke)),Ke.applyToHost(Z),Ke}case 1:case F.ifc.ShadowDom:return new Ft(this.eventManager,this.sharedStylesHost,Z,Te);default:if(!this.rendererByCompId.has(Te.id)){const Ke=le(Te.id,Te.styles,[]);this.sharedStylesHost.addStyles(Ke),this.rendererByCompId.set(Te.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ce.\u0275fac=function(Z){return new(Z||Ce)(F.LFG(gt),F.LFG(ze),F.LFG(F.AFp))},Ce.\u0275prov=F.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();class Ye{constructor(ee){this.eventManager=ee,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ee,Z){return Z?document.createElementNS(Ue[Z]||Z,ee):document.createElement(ee)}createComment(ee){return document.createComment(ee)}createText(ee){return document.createTextNode(ee)}appendChild(ee,Z){(Xt(ee)?ee.content:ee).appendChild(Z)}insertBefore(ee,Z,Te){ee&&(Xt(ee)?ee.content:ee).insertBefore(Z,Te)}removeChild(ee,Z){ee&&ee.removeChild(Z)}selectRootElement(ee,Z){let Te="string"==typeof ee?document.querySelector(ee):ee;if(!Te)throw new Error(`The selector "${ee}" did not match any elements`);return Z||(Te.textContent=""),Te}parentNode(ee){return ee.parentNode}nextSibling(ee){return ee.nextSibling}setAttribute(ee,Z,Te,Ke){if(Ke){Z=Ke+":"+Z;const Ot=Ue[Ke];Ot?ee.setAttributeNS(Ot,Z,Te):ee.setAttribute(Z,Te)}else ee.setAttribute(Z,Te)}removeAttribute(ee,Z,Te){if(Te){const Ke=Ue[Te];Ke?ee.removeAttributeNS(Ke,Z):ee.removeAttribute(`${Te}:${Z}`)}else ee.removeAttribute(Z)}addClass(ee,Z){ee.classList.add(Z)}removeClass(ee,Z){ee.classList.remove(Z)}setStyle(ee,Z,Te,Ke){Ke&(F.JOm.DashCase|F.JOm.Important)?ee.style.setProperty(Z,Te,Ke&F.JOm.Important?"important":""):ee.style[Z]=Te}removeStyle(ee,Z,Te){Te&F.JOm.DashCase?ee.style.removeProperty(Z):ee.style[Z]=""}setProperty(ee,Z,Te){ee[Z]=Te}setValue(ee,Z){ee.nodeValue=Z}listen(ee,Z,Te){return"string"==typeof ee?this.eventManager.addGlobalEventListener(ee,Z,ve(Te)):this.eventManager.addEventListener(ee,Z,ve(Te))}}function Xt(Ce){return"TEMPLATE"===Ce.tagName&&void 0!==Ce.content}class yn extends Ye{constructor(ee,Z,Te,Ke){super(ee),this.component=Te;const Ot=le(Ke+"-"+Te.id,Te.styles,[]);Z.addStyles(Ot),this.contentAttr=function _e(Ce){return"_ngcontent-%COMP%".replace(Be,Ce)}(Ke+"-"+Te.id),this.hostAttr=function ge(Ce){return"_nghost-%COMP%".replace(Be,Ce)}(Ke+"-"+Te.id)}applyToHost(ee){super.setAttribute(ee,this.hostAttr,"")}createElement(ee,Z){const Te=super.createElement(ee,Z);return super.setAttribute(Te,this.contentAttr,""),Te}}class Ft extends Ye{constructor(ee,Z,Te,Ke){super(ee),this.sharedStylesHost=Z,this.hostEl=Te,this.shadowRoot=Te.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ot=le(Ke.id,Ke.styles,[]);for(let Je=0;Je<Ot.length;Je++){const Bt=document.createElement("style");Bt.textContent=Ot[Je],this.shadowRoot.appendChild(Bt)}}nodeOrShadowRoot(ee){return ee===this.hostEl?this.shadowRoot:ee}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ee,Z){return super.appendChild(this.nodeOrShadowRoot(ee),Z)}insertBefore(ee,Z,Te){return super.insertBefore(this.nodeOrShadowRoot(ee),Z,Te)}removeChild(ee,Z){return super.removeChild(this.nodeOrShadowRoot(ee),Z)}parentNode(ee){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ee)))}}let sn=(()=>{class Ce extends Ve{constructor(Z){super(Z)}supports(Z){return!0}addEventListener(Z,Te,Ke){return Z.addEventListener(Te,Ke,!1),()=>this.removeEventListener(Z,Te,Ke)}removeEventListener(Z,Te,Ke){return Z.removeEventListener(Te,Ke)}}return Ce.\u0275fac=function(Z){return new(Z||Ce)(F.LFG(b.K0))},Ce.\u0275prov=F.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();const Ln=["alt","control","meta","shift"],$n={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},cn={alt:Ce=>Ce.altKey,control:Ce=>Ce.ctrlKey,meta:Ce=>Ce.metaKey,shift:Ce=>Ce.shiftKey};let Un=(()=>{class Ce extends Ve{constructor(Z){super(Z)}supports(Z){return null!=Ce.parseEventName(Z)}addEventListener(Z,Te,Ke){const Ot=Ce.parseEventName(Te),Je=Ce.eventCallback(Ot.fullKey,Ke,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,b.q)().onAndCancel(Z,Ot.domEventName,Je))}static parseEventName(Z){const Te=Z.toLowerCase().split("."),Ke=Te.shift();if(0===Te.length||"keydown"!==Ke&&"keyup"!==Ke)return null;const Ot=Ce._normalizeKey(Te.pop());let Je="";if(Ln.forEach(ln=>{const An=Te.indexOf(ln);An>-1&&(Te.splice(An,1),Je+=ln+".")}),Je+=Ot,0!=Te.length||0===Ot.length)return null;const Bt={};return Bt.domEventName=Ke,Bt.fullKey=Je,Bt}static getEventFullKey(Z){let Te="",Ke=function dn(Ce){let ee=Ce.key;if(null==ee){if(ee=Ce.keyIdentifier,null==ee)return"Unidentified";ee.startsWith("U+")&&(ee=String.fromCharCode(parseInt(ee.substring(2),16)),3===Ce.location&&hn.hasOwnProperty(ee)&&(ee=hn[ee]))}return $n[ee]||ee}(Z);return Ke=Ke.toLowerCase()," "===Ke?Ke="space":"."===Ke&&(Ke="dot"),Ln.forEach(Ot=>{Ot!=Ke&&(0,cn[Ot])(Z)&&(Te+=Ot+".")}),Te+=Ke,Te}static eventCallback(Z,Te,Ke){return Ot=>{Ce.getEventFullKey(Ot)===Z&&Ke.runGuarded(()=>Te(Ot))}}static _normalizeKey(Z){return"esc"===Z?"escape":Z}}return Ce.\u0275fac=function(Z){return new(Z||Ce)(F.LFG(b.K0))},Ce.\u0275prov=F.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();const Mr=(0,F.eFA)(F._c5,"browser",[{provide:F.Lbi,useValue:b.bD},{provide:F.g9A,useValue:function Nn(){fe.makeCurrent()},multi:!0},{provide:b.K0,useFactory:function Pn(){return(0,F.RDi)(document),document},deps:[]}]),Pt=new F.OlP(""),sr=[{provide:F.rWj,useClass:class Oe{addToWindow(ee){F.dqk.getAngularTestability=(Te,Ke=!0)=>{const Ot=ee.findTestabilityInTree(Te,Ke);if(null==Ot)throw new Error("Could not find testability for element.");return Ot},F.dqk.getAllAngularTestabilities=()=>ee.getAllTestabilities(),F.dqk.getAllAngularRootElements=()=>ee.getAllRootElements(),F.dqk.frameworkStabilizers||(F.dqk.frameworkStabilizers=[]),F.dqk.frameworkStabilizers.push(Te=>{const Ke=F.dqk.getAllAngularTestabilities();let Ot=Ke.length,Je=!1;const Bt=function(ln){Je=Je||ln,Ot--,0==Ot&&Te(Je)};Ke.forEach(function(ln){ln.whenStable(Bt)})})}findTestabilityInTree(ee,Z,Te){return null==Z?null:ee.getTestability(Z)??(Te?(0,b.q)().isShadowRoot(Z)?this.findTestabilityInTree(ee,Z.host,!0):this.findTestabilityInTree(ee,Z.parentElement,!0):null)}},deps:[]},{provide:F.lri,useClass:F.dDg,deps:[F.R0b,F.eoX,F.rWj]},{provide:F.dDg,useClass:F.dDg,deps:[F.R0b,F.eoX,F.rWj]}],or=[{provide:F.zSh,useValue:"root"},{provide:F.qLn,useFactory:function Cn(){return new F.qLn},deps:[]},{provide:ue,useClass:sn,multi:!0,deps:[b.K0,F.R0b,F.Lbi]},{provide:ue,useClass:Un,multi:!0,deps:[b.K0]},{provide:ye,useClass:ye,deps:[gt,ze,F.AFp]},{provide:F.FYo,useExisting:ye},{provide:Rt,useExisting:ze},{provide:ze,useClass:ze,deps:[b.K0]},{provide:gt,useClass:gt,deps:[ue,F.R0b]},{provide:b.JF,useClass:Ze,deps:[]},[]];let ar=(()=>{class Ce{constructor(Z){}static withServerTransition(Z){return{ngModule:Ce,providers:[{provide:F.AFp,useValue:Z.appId},{provide:He,useExisting:F.AFp},se]}}}return Ce.\u0275fac=function(Z){return new(Z||Ce)(F.LFG(Pt,12))},Ce.\u0275mod=F.oAB({type:Ce}),Ce.\u0275inj=F.cJS({providers:[...or,...sr],imports:[b.ez,F.hGG]}),Ce})(),X=(()=>{class Ce{constructor(Z){this._doc=Z}getTitle(){return this._doc.title}setTitle(Z){this._doc.title=Z||""}}return Ce.\u0275fac=function(Z){return new(Z||Ce)(F.LFG(b.K0))},Ce.\u0275prov=F.Yz7({token:Ce,factory:function(Z){let Te=null;return Te=Z?new Z:function De(){return new X((0,F.LFG)(b.K0))}(),Te},providedIn:"root"}),Ce})();typeof window<"u"&&window},5808:(qt,We,j)=>{j.d(We,{F0:()=>$r,rH:()=>wn,Bz:()=>Pe,lC:()=>M});var b=j(8256),F=j(9751),de=j(4742),fe=j(8996),Ie=j(4671),tt=j(3268),Ee=j(7669),ot=j(1810),He=j(5403),ie=j(9672);function se(...v){const y=(0,Ee.yG)(v),m=(0,Ee.jO)(v),{args:D,keys:S}=(0,de.D)(v);if(0===D.length)return(0,fe.D)([],y);const O=new F.y(function Oe(v,y,m=Ie.y){return D=>{Ze(y,()=>{const{length:S}=v,O=new Array(S);let W=S,Y=S;for(let xe=0;xe<S;xe++)Ze(y,()=>{const ft=(0,fe.D)(v[xe],y);let St=!1;ft.subscribe((0,He.x)(D,It=>{O[xe]=It,St||(St=!0,Y--),Y||D.next(m(O.slice()))},()=>{--W||D.complete()}))},D)},D)}}(D,y,S?W=>(0,ot.n)(S,W):Ie.y));return m?O.pipe((0,tt.Z)(m)):O}function Ze(v,y,m){v?(0,ie.f)(m,v,y):y()}var ue=j(8189);function Ve(...v){return function gt(){return(0,ue.J)(1)}()((0,fe.D)(v,(0,Ee.yG)(v)))}var Rt=j(8421);function ze(v){return new F.y(y=>{(0,Rt.Xf)(v()).subscribe(y)})}var xt=j(576);function Ue(v,y){const m=(0,xt.m)(v)?v:()=>v,D=S=>S.error(m());return new F.y(y?S=>y.schedule(D,0,S):D)}const rt=(0,j(3888).d)(v=>function(){v(this),this.name="EmptyError",this.message="no elements in sequence"});var Ne=j(727),mt=j(4482);function he(){return(0,mt.e)((v,y)=>{let m=null;v._refCount++;const D=(0,He.x)(y,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount)return void(m=null);const S=v._connection,O=m;m=null,S&&(!O||S===O)&&S.unsubscribe(),y.unsubscribe()});v.subscribe(D),D.closed||(m=v.connect())})}class _e extends F.y{constructor(y,m){super(),this.source=y,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,mt.A)(y)&&(this.lift=y.lift)}_subscribe(y){return this.getSubject().subscribe(y)}getSubject(){const y=this._subject;return(!y||y.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:y}=this;this._subject=this._connection=null,y?.unsubscribe()}connect(){let y=this._connection;if(!y){y=this._connection=new Ne.w0;const m=this.getSubject();y.add(this.source.subscribe((0,He.x)(m,void 0,()=>{this._teardown(),m.complete()},D=>{this._teardown(),m.error(D)},()=>this._teardown()))),y.closed&&(this._connection=null,y=Ne.w0.EMPTY)}return y}refCount(){return he()(this)}}var ge=j(9646),le=j(1135),ve=j(9635),Me=j(515),ye=j(7579),Ye=j(6895);function it(v,y){return(0,mt.e)((m,D)=>{let S=null,O=0,W=!1;const Y=()=>W&&!S&&D.complete();m.subscribe((0,He.x)(D,xe=>{S?.unsubscribe();let ft=0;const St=O++;(0,Rt.Xf)(v(xe,St)).subscribe(S=(0,He.x)(D,It=>D.next(y?y(xe,It,St,ft++):It),()=>{S=null,Y()}))},()=>{W=!0,Y()}))})}function Nt(v){return v<=0?()=>Me.E:(0,mt.e)((y,m)=>{let D=0;y.subscribe((0,He.x)(m,S=>{++D<=v&&(m.next(S),v<=D&&m.complete())}))})}var yn=j(9300);function Ft(v){return(0,mt.e)((y,m)=>{let D=!1;y.subscribe((0,He.x)(m,S=>{D=!0,m.next(S)},()=>{D||m.next(v),m.complete()}))})}function sn(v=Ln){return(0,mt.e)((y,m)=>{let D=!1;y.subscribe((0,He.x)(m,S=>{D=!0,m.next(S)},()=>D?m.complete():m.error(v())))})}function Ln(){return new rt}function zt(v,y){const m=arguments.length>=2;return D=>D.pipe(v?(0,yn.h)((S,O)=>v(S,O,D)):Ie.y,Nt(1),m?Ft(y):sn(()=>new rt))}function $n(v){return(0,mt.e)((y,m)=>{let O,D=null,S=!1;D=y.subscribe((0,He.x)(m,void 0,void 0,W=>{O=(0,Rt.Xf)(v(W,$n(v)(y))),D?(D.unsubscribe(),D=null,O.subscribe(m)):S=!0})),S&&(D.unsubscribe(),D=null,O.subscribe(m))})}function hn(v,y,m,D,S){return(O,W)=>{let Y=m,xe=y,ft=0;O.subscribe((0,He.x)(W,St=>{const It=ft++;xe=Y?v(xe,St,It):(Y=!0,St),D&&W.next(xe)},S&&(()=>{Y&&W.next(xe),W.complete()})))}}function cn(v,y){return(0,mt.e)(hn(v,y,arguments.length>=2,!0))}function Un(v){return v<=0?()=>Me.E:(0,mt.e)((y,m)=>{let D=[];y.subscribe((0,He.x)(m,S=>{D.push(S),v<D.length&&D.shift()},()=>{for(const S of D)m.next(S);m.complete()},void 0,()=>{D=null}))})}function dn(v,y){const m=arguments.length>=2;return D=>D.pipe(v?(0,yn.h)((S,O)=>v(S,O,D)):Ie.y,Un(1),m?Ft(y):sn(()=>new rt))}var Gt=j(4004);function Nn(v){return(0,mt.e)((y,m)=>{try{y.subscribe(m)}finally{m.add(v)}})}var Cn=j(5577),Pn=j(4351),En=j(8505),Mr=j(1481);const Pt="primary";class sr{constructor(y){this.params=y||{}}has(y){return Object.prototype.hasOwnProperty.call(this.params,y)}get(y){if(this.has(y)){const m=this.params[y];return Array.isArray(m)?m[0]:m}return null}getAll(y){if(this.has(y)){const m=this.params[y];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function or(v){return new sr(v)}function ar(v,y,m){const D=m.path.split("/");if(D.length>v.length||"full"===m.pathMatch&&(y.hasChildren()||D.length<v.length))return null;const S={};for(let O=0;O<D.length;O++){const W=D[O],Y=v[O];if(W.startsWith(":"))S[W.substring(1)]=Y;else if(W!==Y.path)return null}return{consumed:v.slice(0,D.length),posParams:S}}function Gn(v,y){const m=v?Object.keys(v):void 0,D=y?Object.keys(y):void 0;if(!m||!D||m.length!=D.length)return!1;let S;for(let O=0;O<m.length;O++)if(S=m[O],!br(v[S],y[S]))return!1;return!0}function br(v,y){if(Array.isArray(v)&&Array.isArray(y)){if(v.length!==y.length)return!1;const m=[...v].sort(),D=[...y].sort();return m.every((S,O)=>D[O]===S)}return v===y}function De(v){return Array.prototype.concat.apply([],v)}function X(v){return v.length>0?v[v.length-1]:null}function be(v,y){for(const m in v)v.hasOwnProperty(m)&&y(v[m],m)}function $e(v){return(0,b.CqO)(v)?v:(0,b.QGY)(v)?(0,fe.D)(Promise.resolve(v)):(0,ge.of)(v)}const Jt={exact:function Vt(v,y,m){if(!Ct(v.segments,y.segments)||!K(v.segments,y.segments,m)||v.numberOfChildren!==y.numberOfChildren)return!1;for(const D in y.children)if(!v.children[D]||!Vt(v.children[D],y.children[D],m))return!1;return!0},subset:re},kt={exact:function nn(v,y){return Gn(v,y)},subset:function Ht(v,y){return Object.keys(y).length<=Object.keys(v).length&&Object.keys(y).every(m=>br(v[m],y[m]))},ignored:()=>!0};function Vn(v,y,m){return Jt[m.paths](v.root,y.root,m.matrixParams)&&kt[m.queryParams](v.queryParams,y.queryParams)&&!("exact"===m.fragment&&v.fragment!==y.fragment)}function re(v,y,m){return J(v,y,y.segments,m)}function J(v,y,m,D){if(v.segments.length>m.length){const S=v.segments.slice(0,m.length);return!(!Ct(S,m)||y.hasChildren()||!K(S,m,D))}if(v.segments.length===m.length){if(!Ct(v.segments,m)||!K(v.segments,m,D))return!1;for(const S in y.children)if(!v.children[S]||!re(v.children[S],y.children[S],D))return!1;return!0}{const S=m.slice(0,v.segments.length),O=m.slice(v.segments.length);return!!(Ct(v.segments,S)&&K(v.segments,S,D)&&v.children[Pt])&&J(v.children[Pt],y,O,D)}}function K(v,y,m){return y.every((D,S)=>kt[m](v[S].parameters,D.parameters))}class ne{constructor(y,m,D){this.root=y,this.queryParams=m,this.fragment=D}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=or(this.queryParams)),this._queryParamMap}toString(){return Sn.serialize(this)}}class q{constructor(y,m){this.segments=y,this.children=m,this.parent=null,be(m,(D,S)=>D.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vr(this)}}class je{constructor(y,m){this.path=y,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=or(this.parameters)),this._parameterMap}toString(){return ee(this)}}function Ct(v,y){return v.length===y.length&&v.every((m,D)=>m.path===y[D].path)}class Dn{}class ur{parse(y){const m=new yi(y);return new ne(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(y){const m=`/${_r(y.root,!0)}`,D=function Te(v){const y=Object.keys(v).map(m=>{const D=v[m];return Array.isArray(D)?D.map(S=>`${On(m)}=${On(S)}`).join("&"):`${On(m)}=${On(D)}`}).filter(m=>!!m);return y.length?`?${y.join("&")}`:""}(y.queryParams);return`${m}${D}${"string"==typeof y.fragment?`#${function hr(v){return encodeURI(v)}(y.fragment)}`:""}`}}const Sn=new ur;function vr(v){return v.segments.map(y=>ee(y)).join("/")}function _r(v,y){if(!v.hasChildren())return vr(v);if(y){const m=v.children[Pt]?_r(v.children[Pt],!1):"",D=[];return be(v.children,(S,O)=>{O!==Pt&&D.push(`${O}:${_r(S,!1)}`)}),D.length>0?`${m}(${D.join("//")})`:m}{const m=function _n(v,y){let m=[];return be(v.children,(D,S)=>{S===Pt&&(m=m.concat(y(D,S)))}),be(v.children,(D,S)=>{S!==Pt&&(m=m.concat(y(D,S)))}),m}(v,(D,S)=>S===Pt?[_r(v.children[Pt],!1)]:[`${S}:${_r(D,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[Pt]?`${vr(v)}/${m[0]}`:`${vr(v)}/(${m.join("//")})`}}function Ci(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function On(v){return Ci(v).replace(/%3B/gi,";")}function Qr(v){return Ci(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mi(v){return decodeURIComponent(v)}function Ce(v){return mi(v.replace(/\+/g,"%20"))}function ee(v){return`${Qr(v.path)}${function Z(v){return Object.keys(v).map(y=>`;${Qr(y)}=${Qr(v[y])}`).join("")}(v.parameters)}`}const Ke=/^[^\/()?;=#]+/;function Ot(v){const y=v.match(Ke);return y?y[0]:""}const Je=/^[^=?&#]+/,ln=/^[^&#]+/;class yi{constructor(y){this.url=y,this.remaining=y}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new q([],{}):new q([],this.parseChildren())}parseQueryParams(){const y={};if(this.consumeOptional("?"))do{this.parseQueryParam(y)}while(this.consumeOptional("&"));return y}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const y=[];for(this.peekStartsWith("(")||y.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),y.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let D={};return this.peekStartsWith("(")&&(D=this.parseParens(!1)),(y.length>0||Object.keys(m).length>0)&&(D[Pt]=new q(y,m)),D}parseSegment(){const y=Ot(this.remaining);if(""===y&&this.peekStartsWith(";"))throw new b.vHH(4009,!1);return this.capture(y),new je(mi(y),this.parseMatrixParams())}parseMatrixParams(){const y={};for(;this.consumeOptional(";");)this.parseParam(y);return y}parseParam(y){const m=Ot(this.remaining);if(!m)return;this.capture(m);let D="";if(this.consumeOptional("=")){const S=Ot(this.remaining);S&&(D=S,this.capture(D))}y[mi(m)]=mi(D)}parseQueryParam(y){const m=function Bt(v){const y=v.match(Je);return y?y[0]:""}(this.remaining);if(!m)return;this.capture(m);let D="";if(this.consumeOptional("=")){const W=function An(v){const y=v.match(ln);return y?y[0]:""}(this.remaining);W&&(D=W,this.capture(D))}const S=Ce(m),O=Ce(D);if(y.hasOwnProperty(S)){let W=y[S];Array.isArray(W)||(W=[W],y[S]=W),W.push(O)}else y[S]=O}parseParens(y){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const D=Ot(this.remaining),S=this.remaining[D.length];if("/"!==S&&")"!==S&&";"!==S)throw new b.vHH(4010,!1);let O;D.indexOf(":")>-1?(O=D.slice(0,D.indexOf(":")),this.capture(O),this.capture(":")):y&&(O=Pt);const W=this.parseChildren();m[O]=1===Object.keys(W).length?W[Pt]:new q([],W),this.consumeOptional("//")}return m}peekStartsWith(y){return this.remaining.startsWith(y)}consumeOptional(y){return!!this.peekStartsWith(y)&&(this.remaining=this.remaining.substring(y.length),!0)}capture(y){if(!this.consumeOptional(y))throw new b.vHH(4011,!1)}}function cr(v){return v.segments.length>0?new q([],{[Pt]:v}):v}function Wr(v){const y={};for(const D of Object.keys(v.children)){const O=Wr(v.children[D]);(O.segments.length>0||O.hasChildren())&&(y[D]=O)}return function Hn(v){if(1===v.numberOfChildren&&v.children[Pt]){const y=v.children[Pt];return new q(v.segments.concat(y.segments),y.children)}return v}(new q(v.segments,y))}function Vr(v){return v instanceof ne}function Us(v,y,m,D,S){if(0===m.length)return ri(y.root,y.root,y.root,D,S);const O=function ki(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new Kr(!0,0,v);let y=0,m=!1;const D=v.reduce((S,O,W)=>{if("object"==typeof O&&null!=O){if(O.outlets){const Y={};return be(O.outlets,(xe,ft)=>{Y[ft]="string"==typeof xe?xe.split("/"):xe}),[...S,{outlets:Y}]}if(O.segmentPath)return[...S,O.segmentPath]}return"string"!=typeof O?[...S,O]:0===W?(O.split("/").forEach((Y,xe)=>{0==xe&&"."===Y||(0==xe&&""===Y?m=!0:".."===Y?y++:""!=Y&&S.push(Y))}),S):[...S,O]},[]);return new Kr(m,y,D)}(m);return O.toRoot()?ri(y.root,y.root,new q([],{}),D,S):function W(xe){const ft=function Re(v,y,m,D){if(v.isAbsolute)return new pe(y.root,!0,0);if(-1===D)return new pe(m,m===y.root,0);return function Qe(v,y,m){let D=v,S=y,O=m;for(;O>S;){if(O-=S,D=D.parent,!D)throw new b.vHH(4005,!1);S=D.segments.length}return new pe(D,!1,S-O)}(m,D+(Rr(v.commands[0])?0:1),v.numberOfDoubleDots)}(O,y,v.snapshot?._urlSegment,xe),St=ft.processChildren?jt(ft.segmentGroup,ft.index,O.commands):Mt(ft.segmentGroup,ft.index,O.commands);return ri(y.root,ft.segmentGroup,St,D,S)}(v.snapshot?._lastPathIndex)}function Rr(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function wr(v){return"object"==typeof v&&null!=v&&v.outlets}function ri(v,y,m,D,S){let W,O={};D&&be(D,(xe,ft)=>{O[ft]=Array.isArray(xe)?xe.map(St=>`${St}`):`${xe}`}),W=v===y?m:hi(v,y,m);const Y=cr(Wr(W));return new ne(Y,O,S)}function hi(v,y,m){const D={};return be(v.children,(S,O)=>{D[O]=S===y?m:hi(S,y,m)}),new q(v.segments,D)}class Kr{constructor(y,m,D){if(this.isAbsolute=y,this.numberOfDoubleDots=m,this.commands=D,y&&D.length>0&&Rr(D[0]))throw new b.vHH(4003,!1);const S=D.find(wr);if(S&&S!==X(D))throw new b.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pe{constructor(y,m,D){this.segmentGroup=y,this.processChildren=m,this.index=D}}function Mt(v,y,m){if(v||(v=new q([],{})),0===v.segments.length&&v.hasChildren())return jt(v,y,m);const D=function Nr(v,y,m){let D=0,S=y;const O={match:!1,pathIndex:0,commandIndex:0};for(;S<v.segments.length;){if(D>=m.length)return O;const W=v.segments[S],Y=m[D];if(wr(Y))break;const xe=`${Y}`,ft=D<m.length-1?m[D+1]:null;if(S>0&&void 0===xe)break;if(xe&&ft&&"object"==typeof ft&&void 0===ft.outlets){if(!Pr(xe,ft,W))return O;D+=2}else{if(!Pr(xe,{},W))return O;D++}S++}return{match:!0,pathIndex:S,commandIndex:D}}(v,y,m),S=m.slice(D.commandIndex);if(D.match&&D.pathIndex<v.segments.length){const O=new q(v.segments.slice(0,D.pathIndex),{});return O.children[Pt]=new q(v.segments.slice(D.pathIndex),v.children),jt(O,0,S)}return D.match&&0===S.length?new q(v.segments,{}):D.match&&!v.hasChildren()?un(v,y,m):D.match?jt(v,0,S):un(v,y,m)}function jt(v,y,m){if(0===m.length)return new q(v.segments,{});{const D=function dt(v){return wr(v[0])?v[0].outlets:{[Pt]:v}}(m),S={};return be(D,(O,W)=>{"string"==typeof O&&(O=[O]),null!==O&&(S[W]=Mt(v.children[W],y,O))}),be(v.children,(O,W)=>{void 0===D[W]&&(S[W]=O)}),new q(v.segments,S)}}function un(v,y,m){const D=v.segments.slice(0,y);let S=0;for(;S<m.length;){const O=m[S];if(wr(O)){const xe=kn(O.outlets);return new q(D,xe)}if(0===S&&Rr(m[0])){D.push(new je(v.segments[y].path,Oi(m[0]))),S++;continue}const W=wr(O)?O.outlets[Pt]:`${O}`,Y=S<m.length-1?m[S+1]:null;W&&Y&&Rr(Y)?(D.push(new je(W,Oi(Y))),S+=2):(D.push(new je(W,{})),S++)}return new q(D,{})}function kn(v){const y={};return be(v,(m,D)=>{"string"==typeof m&&(m=[m]),null!==m&&(y[D]=un(new q([],{}),0,m))}),y}function Oi(v){const y={};return be(v,(m,D)=>y[D]=`${m}`),y}function Pr(v,y,m){return v==m.path&&Gn(y,m.parameters)}class Yn{constructor(y,m){this.id=y,this.url=m}}class ii extends Yn{constructor(y,m,D="imperative",S=null){super(y,m),this.type=0,this.navigationTrigger=D,this.restoredState=S}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ir extends Yn{constructor(y,m,D){super(y,m),this.urlAfterRedirects=D,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Er extends Yn{constructor(y,m,D,S){super(y,m),this.reason=D,this.code=S,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fi extends Yn{constructor(y,m,D,S){super(y,m),this.error=D,this.target=S,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ns extends Yn{constructor(y,m,D,S){super(y,m),this.urlAfterRedirects=D,this.state=S,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vo extends Yn{constructor(y,m,D,S){super(y,m),this.urlAfterRedirects=D,this.state=S,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vs extends Yn{constructor(y,m,D,S,O){super(y,m),this.urlAfterRedirects=D,this.state=S,this.shouldActivate=O,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pa extends Yn{constructor(y,m,D,S){super(y,m),this.urlAfterRedirects=D,this.state=S,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qs extends Yn{constructor(y,m,D,S){super(y,m),this.urlAfterRedirects=D,this.state=S,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rs{constructor(y){this.route=y,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Js{constructor(y){this.route=y,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ga{constructor(y){this.snapshot=y,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ja{constructor(y){this.snapshot=y,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bo{constructor(y){this.snapshot=y,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xs{constructor(y){this.snapshot=y,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $a{constructor(y,m,D){this.routerEvent=y,this.position=m,this.anchor=D,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class _s{constructor(y){this._root=y}get root(){return this._root.value}parent(y){const m=this.pathFromRoot(y);return m.length>1?m[m.length-2]:null}children(y){const m=Io(y,this._root);return m?m.children.map(D=>D.value):[]}firstChild(y){const m=Io(y,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(y){const m=Gi(y,this._root);return m.length<2?[]:m[m.length-2].children.map(S=>S.value).filter(S=>S!==y)}pathFromRoot(y){return Gi(y,this._root).map(m=>m.value)}}function Io(v,y){if(v===y.value)return y;for(const m of y.children){const D=Io(v,m);if(D)return D}return null}function Gi(v,y){if(v===y.value)return[y];for(const m of y.children){const D=Gi(v,m);if(D.length)return D.unshift(y),D}return[]}class pr{constructor(y,m){this.value=y,this.children=m}toString(){return`TreeNode(${this.value})`}}function is(v){const y={};return v&&v.children.forEach(m=>y[m.value.outlet]=m),y}class ws extends _s{constructor(y,m){super(y),this.snapshot=m,kr(this,y)}toString(){return this.snapshot.toString()}}function eo(v,y){const m=function ss(v,y){const W=new $o([],{},{},"",{},Pt,y,null,v.root,-1,{});return new Br("",new pr(W,[]))}(v,y),D=new le.X([new je("",{})]),S=new le.X({}),O=new le.X({}),W=new le.X({}),Y=new le.X(""),xe=new os(D,S,W,Y,O,Pt,y,m.root);return xe.snapshot=m.root,new ws(new pr(xe,[]),m)}class os{constructor(y,m,D,S,O,W,Y,xe){this.url=y,this.params=m,this.queryParams=D,this.fragment=S,this.data=O,this.outlet=W,this.component=Y,this._futureSnapshot=xe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Gt.U)(y=>or(y)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Gt.U)(y=>or(y)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Is(v,y="emptyOnly"){const m=v.pathFromRoot;let D=0;if("always"!==y)for(D=m.length-1;D>=1;){const S=m[D],O=m[D-1];if(S.routeConfig&&""===S.routeConfig.path)D--;else{if(O.component)break;D--}}return function Ai(v){return v.reduce((y,m)=>({params:{...y.params,...m.params},data:{...y.data,...m.data},resolve:{...m.data,...y.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(D))}class $o{constructor(y,m,D,S,O,W,Y,xe,ft,St,It,xn){this.url=y,this.params=m,this.queryParams=D,this.fragment=S,this.data=O,this.outlet=W,this.component=Y,this.routeConfig=xe,this._urlSegment=ft,this._lastPathIndex=St,this._correctedLastPathIndex=xn??St,this._resolve=It}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=or(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=or(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(D=>D.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Br extends _s{constructor(y,m){super(m),this.url=y,kr(this,m)}toString(){return Vs(this._root)}}function kr(v,y){y.value._routerState=v,y.children.forEach(m=>kr(v,m))}function Vs(v){const y=v.children.length>0?` { ${v.children.map(Vs).join(", ")} } `:"";return`${v.value}${y}`}function Fi(v){if(v.snapshot){const y=v.snapshot,m=v._futureSnapshot;v.snapshot=m,Gn(y.queryParams,m.queryParams)||v.queryParams.next(m.queryParams),y.fragment!==m.fragment&&v.fragment.next(m.fragment),Gn(y.params,m.params)||v.params.next(m.params),function rr(v,y){if(v.length!==y.length)return!1;for(let m=0;m<v.length;++m)if(!Gn(v[m],y[m]))return!1;return!0}(y.url,m.url)||v.url.next(m.url),Gn(y.data,m.data)||v.data.next(m.data)}else v.snapshot=v._futureSnapshot,v.data.next(v._futureSnapshot.data)}function qr(v,y){const m=Gn(v.params,y.params)&&function pt(v,y){return Ct(v,y)&&v.every((m,D)=>Gn(m.parameters,y[D].parameters))}(v.url,y.url);return m&&!(!v.parent!=!y.parent)&&(!v.parent||qr(v.parent,y.parent))}function zn(v,y,m){if(m&&v.shouldReuseRoute(y.value,m.value.snapshot)){const D=m.value;D._futureSnapshot=y.value;const S=function zi(v,y,m){return y.children.map(D=>{for(const S of m.children)if(v.shouldReuseRoute(D.value,S.value.snapshot))return zn(v,D,S);return zn(v,D)})}(v,y,m);return new pr(D,S)}{if(v.shouldAttach(y.value)){const O=v.retrieve(y.value);if(null!==O){const W=O.route;return W.value._futureSnapshot=y.value,W.children=y.children.map(Y=>zn(v,Y)),W}}const D=function Ho(v){return new os(new le.X(v.url),new le.X(v.params),new le.X(v.queryParams),new le.X(v.fragment),new le.X(v.data),v.outlet,v.component,v)}(y.value),S=y.children.map(O=>zn(v,O));return new pr(D,S)}}const si="ngNavigationCancelingError";function Wi(v,y){const{redirectTo:m,navigationBehaviorOptions:D}=Vr(y)?{redirectTo:y,navigationBehaviorOptions:void 0}:y,S=Ei(!1,0,y);return S.url=m,S.navigationBehaviorOptions=D,S}function Ei(v,y,m){const D=new Error("NavigationCancelingError: "+(v||""));return D[si]=!0,D.cancellationCode=y,m&&(D.url=m),D}function as(v){return Bs(v)&&Vr(v.url)}function Bs(v){return v&&v[si]}class Go{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new x,this.attachRef=null}}class x{constructor(){this.contexts=new Map}onChildOutletCreated(y,m){const D=this.getOrCreateContext(y);D.outlet=m,this.contexts.set(y,D)}onChildOutletDestroyed(y){const m=this.getContext(y);m&&(m.outlet=null,m.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let m=this.getContext(y);return m||(m=new Go,this.contexts.set(y,m)),m}getContext(y){return this.contexts.get(y)||null}}const V=!1;let M=(()=>{class v{constructor(m,D,S,O,W){this.parentContexts=m,this.location=D,this.changeDetector=O,this.environmentInjector=W,this.activated=null,this._activatedRoute=null,this.activateEvents=new b.vpe,this.deactivateEvents=new b.vpe,this.attachEvents=new b.vpe,this.detachEvents=new b.vpe,this.name=S||Pt,m.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const m=this.parentContexts.getContext(this.name);m&&m.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b.vHH(4012,V);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b.vHH(4012,V);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b.vHH(4012,V);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,D){this.activated=m,this._activatedRoute=D,this.location.insert(m.hostView),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,D){if(this.isActivated)throw new b.vHH(4013,V);this._activatedRoute=m;const S=this.location,W=m._futureSnapshot.component,Y=this.parentContexts.getOrCreateContext(this.name).children,xe=new B(m,Y,S.injector);if(D&&function oe(v){return!!v.resolveComponentFactory}(D)){const ft=D.resolveComponentFactory(W);this.activated=S.createComponent(ft,S.length,xe)}else this.activated=S.createComponent(W,{index:S.length,injector:xe,environmentInjector:D??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return v.\u0275fac=function(m){return new(m||v)(b.Y36(x),b.Y36(b.s_b),b.$8M("name"),b.Y36(b.sBO),b.Y36(b.lqb))},v.\u0275dir=b.lG2({type:v,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),v})();class B{constructor(y,m,D){this.route=y,this.childContexts=m,this.parent=D}get(y,m){return y===os?this.route:y===x?this.childContexts:this.parent.get(y,m)}}let Le=(()=>{class v{}return v.\u0275fac=function(m){return new(m||v)},v.\u0275cmp=b.Xpm({type:v,selectors:[["ng-component"]],decls:1,vars:0,template:function(m,D){1&m&&b._UZ(0,"router-outlet")},dependencies:[M],encapsulation:2}),v})();function st(v,y){return v.providers&&!v._injector&&(v._injector=(0,b.MMx)(v.providers,y,`Route: ${v.path}`)),v._injector??y}function Wt(v){const y=v.children&&v.children.map(Wt),m=y?{...v,children:y}:{...v};return!m.component&&!m.loadComponent&&(y||m.loadChildren)&&m.outlet&&m.outlet!==Pt&&(m.component=Le),m}function Jn(v){return v.outlet||Pt}function us(v,y){const m=v.filter(D=>Jn(D)===y);return m.push(...v.filter(D=>Jn(D)!==y)),m}function xi(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let y=v.parent;y;y=y.parent){const m=y.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class Es{constructor(y,m,D,S){this.routeReuseStrategy=y,this.futureState=m,this.currState=D,this.forwardEvent=S}activate(y){const m=this.futureState._root,D=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,D,y),Fi(this.futureState.root),this.activateChildRoutes(m,D,y)}deactivateChildRoutes(y,m,D){const S=is(m);y.children.forEach(O=>{const W=O.value.outlet;this.deactivateRoutes(O,S[W],D),delete S[W]}),be(S,(O,W)=>{this.deactivateRouteAndItsChildren(O,D)})}deactivateRoutes(y,m,D){const S=y.value,O=m?m.value:null;if(S===O)if(S.component){const W=D.getContext(S.outlet);W&&this.deactivateChildRoutes(y,m,W.children)}else this.deactivateChildRoutes(y,m,D);else O&&this.deactivateRouteAndItsChildren(m,D)}deactivateRouteAndItsChildren(y,m){y.value.component&&this.routeReuseStrategy.shouldDetach(y.value.snapshot)?this.detachAndStoreRouteSubtree(y,m):this.deactivateRouteAndOutlet(y,m)}detachAndStoreRouteSubtree(y,m){const D=m.getContext(y.value.outlet),S=D&&y.value.component?D.children:m,O=is(y);for(const W of Object.keys(O))this.deactivateRouteAndItsChildren(O[W],S);if(D&&D.outlet){const W=D.outlet.detach(),Y=D.children.onOutletDeactivated();this.routeReuseStrategy.store(y.value.snapshot,{componentRef:W,route:y,contexts:Y})}}deactivateRouteAndOutlet(y,m){const D=m.getContext(y.value.outlet),S=D&&y.value.component?D.children:m,O=is(y);for(const W of Object.keys(O))this.deactivateRouteAndItsChildren(O[W],S);D&&D.outlet&&(D.outlet.deactivate(),D.children.onOutletDeactivated(),D.attachRef=null,D.resolver=null,D.route=null)}activateChildRoutes(y,m,D){const S=is(m);y.children.forEach(O=>{this.activateRoutes(O,S[O.value.outlet],D),this.forwardEvent(new Xs(O.value.snapshot))}),y.children.length&&this.forwardEvent(new ja(y.value.snapshot))}activateRoutes(y,m,D){const S=y.value,O=m?m.value:null;if(Fi(S),S===O)if(S.component){const W=D.getOrCreateContext(S.outlet);this.activateChildRoutes(y,m,W.children)}else this.activateChildRoutes(y,m,D);else if(S.component){const W=D.getOrCreateContext(S.outlet);if(this.routeReuseStrategy.shouldAttach(S.snapshot)){const Y=this.routeReuseStrategy.retrieve(S.snapshot);this.routeReuseStrategy.store(S.snapshot,null),W.children.onOutletReAttached(Y.contexts),W.attachRef=Y.componentRef,W.route=Y.route.value,W.outlet&&W.outlet.attach(Y.componentRef,Y.route.value),Fi(Y.route.value),this.activateChildRoutes(y,null,W.children)}else{const Y=xi(S.snapshot),xe=Y?.get(b._Vd)??null;W.attachRef=null,W.route=S,W.resolver=xe,W.injector=Y,W.outlet&&W.outlet.activateWith(S,W.injector),this.activateChildRoutes(y,null,W.children)}}else this.activateChildRoutes(y,null,D)}}class Do{constructor(y){this.path=y,this.route=this.path[this.path.length-1]}}class js{constructor(y,m){this.component=y,this.route=m}}function Ha(v,y,m){const D=v._root;return Li(D,y?y._root:null,m,[D.value])}function gn(v,y,m){return(xi(y)??m).get(v)}function Li(v,y,m,D,S={canDeactivateChecks:[],canActivateChecks:[]}){const O=is(y);return v.children.forEach(W=>{(function mu(v,y,m,D,S={canDeactivateChecks:[],canActivateChecks:[]}){const O=v.value,W=y?y.value:null,Y=m?m.getContext(v.value.outlet):null;if(W&&O.routeConfig===W.routeConfig){const xe=function Xn(v,y,m){if("function"==typeof m)return m(v,y);switch(m){case"pathParamsChange":return!Ct(v.url,y.url);case"pathParamsOrQueryParamsChange":return!Ct(v.url,y.url)||!Gn(v.queryParams,y.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qr(v,y)||!Gn(v.queryParams,y.queryParams);default:return!qr(v,y)}}(W,O,O.routeConfig.runGuardsAndResolvers);xe?S.canActivateChecks.push(new Do(D)):(O.data=W.data,O._resolvedData=W._resolvedData),Li(v,y,O.component?Y?Y.children:null:m,D,S),xe&&Y&&Y.outlet&&Y.outlet.isActivated&&S.canDeactivateChecks.push(new js(Y.outlet.component,W))}else W&&Ds(y,Y,S),S.canActivateChecks.push(new Do(D)),Li(v,null,O.component?Y?Y.children:null:m,D,S)})(W,O[W.value.outlet],m,D.concat([W.value]),S),delete O[W.value.outlet]}),be(O,(W,Y)=>Ds(W,m.getContext(Y),S)),S}function Ds(v,y,m){const D=is(v),S=v.value;be(D,(O,W)=>{Ds(O,S.component?y?y.children.getContext(W):null:y,m)}),m.canDeactivateChecks.push(new js(S.component&&y&&y.outlet&&y.outlet.isActivated?y.outlet.component:null,S))}function Ui(v){return"function"==typeof v}const Mi=Symbol("INITIAL_VALUE");function Di(){return it(v=>se(v.map(y=>y.pipe(Nt(1),function Xt(...v){const y=(0,Ee.yG)(v);return(0,mt.e)((m,D)=>{(y?Ve(v,m,y):Ve(v,m)).subscribe(D)})}(Mi)))).pipe((0,Gt.U)(y=>{for(const m of y)if(!0!==m){if(m===Mi)return Mi;if(!1===m||m instanceof ne)return m}return!0}),(0,yn.h)(y=>y!==Mi),Nt(1)))}function va(v){return(0,ve.z)((0,En.b)(y=>{if(Vr(y))throw Wi(0,y)}),(0,Gt.U)(y=>!0===y))}const cs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ko(v,y,m,D,S){const O=to(v,y,m);return O.matched?function So(v,y,m,D){const S=y.canMatch;if(!S||0===S.length)return(0,ge.of)(!0);const O=S.map(W=>{const Y=v.get(W),xe=function yu(v){return v&&Ui(v.canMatch)}(Y)?Y.canMatch(y,m):Y(y,m);return $e(xe)});return(0,ge.of)(O).pipe(Di(),va())}(D=st(y,D),y,m).pipe((0,Gt.U)(W=>!0===W?O:{...cs})):(0,ge.of)(O)}function to(v,y,m){if(""===y.path)return"full"===y.pathMatch&&(v.hasChildren()||m.length>0)?{...cs}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const S=(y.matcher||ar)(m,v,y);if(!S)return{...cs};const O={};be(S.posParams,(Y,xe)=>{O[xe]=Y.path});const W=S.consumed.length>0?{...O,...S.consumed[S.consumed.length-1].parameters}:O;return{matched:!0,consumedSegments:S.consumed,remainingSegments:m.slice(S.consumed.length),parameters:W,positionalParamSegments:S.posParams??{}}}function $s(v,y,m,D,S="corrected"){if(m.length>0&&function no(v,y,m){return m.some(D=>Ao(v,y,D)&&Jn(D)!==Pt)}(v,m,D)){const W=new q(y,function _a(v,y,m,D){const S={};S[Pt]=D,D._sourceSegment=v,D._segmentIndexShift=y.length;for(const O of m)if(""===O.path&&Jn(O)!==Pt){const W=new q([],{});W._sourceSegment=v,W._segmentIndexShift=y.length,S[Jn(O)]=W}return S}(v,y,D,new q(m,v.children)));return W._sourceSegment=v,W._segmentIndexShift=y.length,{segmentGroup:W,slicedSegments:[]}}if(0===m.length&&function Ka(v,y,m){return m.some(D=>Ao(v,y,D))}(v,m,D)){const W=new q(v.segments,function Wa(v,y,m,D,S,O){const W={};for(const Y of D)if(Ao(v,m,Y)&&!S[Jn(Y)]){const xe=new q([],{});xe._sourceSegment=v,xe._segmentIndexShift="legacy"===O?v.segments.length:y.length,W[Jn(Y)]=xe}return{...S,...W}}(v,y,m,D,v.children,S));return W._sourceSegment=v,W._segmentIndexShift=y.length,{segmentGroup:W,slicedSegments:m}}const O=new q(v.segments,v.children);return O._sourceSegment=v,O._segmentIndexShift=y.length,{segmentGroup:O,slicedSegments:m}}function Ao(v,y,m){return(!(v.hasChildren()||y.length>0)||"full"!==m.pathMatch)&&""===m.path}function Xr(v,y,m,D){return!!(Jn(v)===D||D!==Pt&&Ao(y,m,v))&&("**"===v.path||to(y,v,m).matched)}function Hs(v,y,m){return 0===y.length&&!v.children[m]}const gr=!1;class Ki{constructor(y){this.segmentGroup=y||null}}class Wu{constructor(y){this.urlTree=y}}function wa(v){return Ue(new Ki(v))}function xo(v){return Ue(new Wu(v))}class ro{constructor(y,m,D,S,O){this.injector=y,this.configLoader=m,this.urlSerializer=D,this.urlTree=S,this.config=O,this.allowRedirects=!0}apply(){const y=$s(this.urlTree.root,[],[],this.config).segmentGroup,m=new q(y.segments,y.children);return this.expandSegmentGroup(this.injector,this.config,m,Pt).pipe((0,Gt.U)(O=>this.createUrlTree(Wr(O),this.urlTree.queryParams,this.urlTree.fragment))).pipe($n(O=>{if(O instanceof Wu)return this.allowRedirects=!1,this.match(O.urlTree);throw O instanceof Ki?this.noMatchError(O):O}))}match(y){return this.expandSegmentGroup(this.injector,this.config,y.root,Pt).pipe((0,Gt.U)(S=>this.createUrlTree(Wr(S),y.queryParams,y.fragment))).pipe($n(S=>{throw S instanceof Ki?this.noMatchError(S):S}))}noMatchError(y){return new b.vHH(4002,gr)}createUrlTree(y,m,D){const S=cr(y);return new ne(S,m,D)}expandSegmentGroup(y,m,D,S){return 0===D.segments.length&&D.hasChildren()?this.expandChildren(y,m,D).pipe((0,Gt.U)(O=>new q([],O))):this.expandSegment(y,D,m,D.segments,S,!0)}expandChildren(y,m,D){const S=[];for(const O of Object.keys(D.children))"primary"===O?S.unshift(O):S.push(O);return(0,fe.D)(S).pipe((0,Pn.b)(O=>{const W=D.children[O],Y=us(m,O);return this.expandSegmentGroup(y,Y,W,O).pipe((0,Gt.U)(xe=>({segment:xe,outlet:O})))}),cn((O,W)=>(O[W.outlet]=W.segment,O),{}),dn())}expandSegment(y,m,D,S,O,W){return(0,fe.D)(D).pipe((0,Pn.b)(Y=>this.expandSegmentAgainstRoute(y,m,D,Y,S,O,W).pipe($n(ft=>{if(ft instanceof Ki)return(0,ge.of)(null);throw ft}))),zt(Y=>!!Y),$n((Y,xe)=>{if(Y instanceof rt||"EmptyError"===Y.name)return Hs(m,S,O)?(0,ge.of)(new q([],{})):wa(m);throw Y}))}expandSegmentAgainstRoute(y,m,D,S,O,W,Y){return Xr(S,m,O,W)?void 0===S.redirectTo?this.matchSegmentAgainstRoute(y,m,S,O,W):Y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(y,m,D,S,O,W):wa(m):wa(m)}expandSegmentAgainstRouteUsingRedirect(y,m,D,S,O,W){return"**"===S.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(y,D,S,W):this.expandRegularSegmentAgainstRouteUsingRedirect(y,m,D,S,O,W)}expandWildCardWithParamsAgainstRouteUsingRedirect(y,m,D,S){const O=this.applyRedirectCommands([],D.redirectTo,{});return D.redirectTo.startsWith("/")?xo(O):this.lineralizeSegments(D,O).pipe((0,Cn.z)(W=>{const Y=new q(W,{});return this.expandSegment(y,Y,m,W,S,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(y,m,D,S,O,W){const{matched:Y,consumedSegments:xe,remainingSegments:ft,positionalParamSegments:St}=to(m,S,O);if(!Y)return wa(m);const It=this.applyRedirectCommands(xe,S.redirectTo,St);return S.redirectTo.startsWith("/")?xo(It):this.lineralizeSegments(S,It).pipe((0,Cn.z)(xn=>this.expandSegment(y,m,D,xn.concat(ft),W,!1)))}matchSegmentAgainstRoute(y,m,D,S,O){return"**"===D.path?(y=st(D,y),D.loadChildren?(D._loadedRoutes?(0,ge.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):this.configLoader.loadChildren(y,D)).pipe((0,Gt.U)(Y=>(D._loadedRoutes=Y.routes,D._loadedInjector=Y.injector,new q(S,{})))):(0,ge.of)(new q(S,{}))):Ko(m,D,S,y).pipe(it(({matched:W,consumedSegments:Y,remainingSegments:xe})=>W?this.getChildConfig(y=D._injector??y,D,S).pipe((0,Cn.z)(St=>{const It=St.injector??y,xn=St.routes,{segmentGroup:ai,slicedSegments:Yr}=$s(m,Y,xe,xn),ks=new q(ai.segments,ai.children);if(0===Yr.length&&ks.hasChildren())return this.expandChildren(It,xn,ks).pipe((0,Gt.U)(ea=>new q(Y,ea)));if(0===xn.length&&0===Yr.length)return(0,ge.of)(new q(Y,{}));const Gr=Jn(D)===O;return this.expandSegment(It,ks,xn,Yr,Gr?Pt:O,!0).pipe((0,Gt.U)(ds=>new q(Y.concat(ds.segments),ds.children)))})):wa(m)))}getChildConfig(y,m,D){return m.children?(0,ge.of)({routes:m.children,injector:y}):m.loadChildren?void 0!==m._loadedRoutes?(0,ge.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function ya(v,y,m,D){const S=y.canLoad;if(void 0===S||0===S.length)return(0,ge.of)(!0);const O=S.map(W=>{const Y=v.get(W),xe=function Ga(v){return v&&Ui(v.canLoad)}(Y)?Y.canLoad(y,m):Y(y,m);return $e(xe)});return(0,ge.of)(O).pipe(Di(),va())}(y,m,D).pipe((0,Cn.z)(S=>S?this.configLoader.loadChildren(y,m).pipe((0,En.b)(O=>{m._loadedRoutes=O.routes,m._loadedInjector=O.injector})):function Mo(v){return Ue(Ei(gr,3))}())):(0,ge.of)({routes:[],injector:y})}lineralizeSegments(y,m){let D=[],S=m.root;for(;;){if(D=D.concat(S.segments),0===S.numberOfChildren)return(0,ge.of)(D);if(S.numberOfChildren>1||!S.children[Pt])return Ue(new b.vHH(4e3,gr));S=S.children[Pt]}}applyRedirectCommands(y,m,D){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),y,D)}applyRedirectCreateUrlTree(y,m,D,S){const O=this.createSegmentGroup(y,m.root,D,S);return new ne(O,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(y,m){const D={};return be(y,(S,O)=>{if("string"==typeof S&&S.startsWith(":")){const Y=S.substring(1);D[O]=m[Y]}else D[O]=S}),D}createSegmentGroup(y,m,D,S){const O=this.createSegments(y,m.segments,D,S);let W={};return be(m.children,(Y,xe)=>{W[xe]=this.createSegmentGroup(y,Y,D,S)}),new q(O,W)}createSegments(y,m,D,S){return m.map(O=>O.path.startsWith(":")?this.findPosParam(y,O,S):this.findOrReturn(O,D))}findPosParam(y,m,D){const S=D[m.path.substring(1)];if(!S)throw new b.vHH(4001,gr);return S}findOrReturn(y,m){let D=0;for(const S of m){if(S.path===y.path)return m.splice(D),S;D++}return y}}class qa{}class io{constructor(y,m,D,S,O,W,Y,xe){this.injector=y,this.rootComponentType=m,this.config=D,this.urlTree=S,this.url=O,this.paramsInheritanceStrategy=W,this.relativeLinkResolution=Y,this.urlSerializer=xe}recognize(){const y=$s(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,y,Pt).pipe((0,Gt.U)(m=>{if(null===m)return null;const D=new $o([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Pt,this.rootComponentType,null,this.urlTree.root,-1,{}),S=new pr(D,m),O=new Br(this.url,S);return this.inheritParamsAndData(O._root),O}))}inheritParamsAndData(y){const m=y.value,D=Is(m,this.paramsInheritanceStrategy);m.params=Object.freeze(D.params),m.data=Object.freeze(D.data),y.children.forEach(S=>this.inheritParamsAndData(S))}processSegmentGroup(y,m,D,S){return 0===D.segments.length&&D.hasChildren()?this.processChildren(y,m,D):this.processSegment(y,m,D,D.segments,S)}processChildren(y,m,D){return(0,fe.D)(Object.keys(D.children)).pipe((0,Pn.b)(S=>{const O=D.children[S],W=us(m,S);return this.processSegmentGroup(y,W,O,S)}),cn((S,O)=>S&&O?(S.push(...O),S):null),function nr(v,y=!1){return(0,mt.e)((m,D)=>{let S=0;m.subscribe((0,He.x)(D,O=>{const W=v(O,S++);(W||y)&&D.next(O),!W&&D.complete()}))})}(S=>null!==S),Ft(null),dn(),(0,Gt.U)(S=>{if(null===S)return null;const O=so(S);return function vu(v){v.sort((y,m)=>y.value.outlet===Pt?-1:m.value.outlet===Pt?1:y.value.outlet.localeCompare(m.value.outlet))}(O),O}))}processSegment(y,m,D,S,O){return(0,fe.D)(m).pipe((0,Pn.b)(W=>this.processSegmentAgainstRoute(W._injector??y,W,D,S,O)),zt(W=>!!W),$n(W=>{if(W instanceof rt)return Hs(D,S,O)?(0,ge.of)([]):(0,ge.of)(null);throw W}))}processSegmentAgainstRoute(y,m,D,S,O){if(m.redirectTo||!Xr(m,D,S,O))return(0,ge.of)(null);let W;if("**"===m.path){const Y=S.length>0?X(S).parameters:{},xe=oi(D)+S.length,ft=new $o(S,Y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qi(m),Jn(m),m.component??m._loadedComponent??null,m,Za(D),xe,Ro(m),xe);W=(0,ge.of)({snapshot:ft,consumedSegments:[],remainingSegments:[]})}else W=Ko(D,m,S,y).pipe((0,Gt.U)(({matched:Y,consumedSegments:xe,remainingSegments:ft,parameters:St})=>{if(!Y)return null;const It=oi(D)+xe.length;return{snapshot:new $o(xe,St,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qi(m),Jn(m),m.component??m._loadedComponent??null,m,Za(D),It,Ro(m),It),consumedSegments:xe,remainingSegments:ft}}));return W.pipe(it(Y=>{if(null===Y)return(0,ge.of)(null);const{snapshot:xe,consumedSegments:ft,remainingSegments:St}=Y;y=m._injector??y;const It=m._loadedInjector??y,xn=function Zo(v){return v.children?v.children:v.loadChildren?v._loadedRoutes:[]}(m),{segmentGroup:ai,slicedSegments:Yr}=$s(D,ft,St,xn.filter(Gr=>void 0===Gr.redirectTo),this.relativeLinkResolution);if(0===Yr.length&&ai.hasChildren())return this.processChildren(It,xn,ai).pipe((0,Gt.U)(Gr=>null===Gr?null:[new pr(xe,Gr)]));if(0===xn.length&&0===Yr.length)return(0,ge.of)([new pr(xe,[])]);const ks=Jn(m)===O;return this.processSegment(It,xn,ai,Yr,ks?Pt:O).pipe((0,Gt.U)(Gr=>null===Gr?null:[new pr(xe,Gr)]))}))}}function Gs(v){const y=v.value.routeConfig;return y&&""===y.path&&void 0===y.redirectTo}function so(v){const y=[],m=new Set;for(const D of v){if(!Gs(D)){y.push(D);continue}const S=y.find(O=>D.value.routeConfig===O.value.routeConfig);void 0!==S?(S.children.push(...D.children),m.add(S)):y.push(D)}for(const D of m){const S=so(D.children);y.push(new pr(D.value,S))}return y.filter(D=>!m.has(D))}function Za(v){let y=v;for(;y._sourceSegment;)y=y._sourceSegment;return y}function oi(v){let y=v,m=y._segmentIndexShift??0;for(;y._sourceSegment;)y=y._sourceSegment,m+=y._segmentIndexShift??0;return m-1}function qi(v){return v.data||{}}function Ro(v){return v.resolve||{}}const ut=Symbol("RouteTitle");function Ia(v){return"string"==typeof v.title||null===v.title}function yt(v){return it(y=>{const m=v(y);return m?(0,fe.D)(m).pipe((0,Gt.U)(()=>y)):(0,ge.of)(y)})}let Fe=(()=>{class v{buildTitle(m){let D,S=m.root;for(;void 0!==S;)D=this.getResolvedTitleForRoute(S)??D,S=S.children.find(O=>O.outlet===Pt);return D}getResolvedTitleForRoute(m){return m.data[ut]}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=b.Yz7({token:v,factory:function(){return(0,b.f3M)(ct)},providedIn:"root"}),v})(),ct=(()=>{class v extends Fe{constructor(m){super(),this.title=m}updateTitle(m){const D=this.buildTitle(m);void 0!==D&&this.title.setTitle(D)}}return v.\u0275fac=function(m){return new(m||v)(b.LFG(Mr.Dx))},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();class jr{}class Ri extends class Ea{shouldDetach(y){return!1}store(y,m){}shouldAttach(y){return!1}retrieve(y){return null}shouldReuseRoute(y,m){return y.routeConfig===m.routeConfig}}{}const Zi=new b.OlP("",{providedIn:"root",factory:()=>({})}),Yo=new b.OlP("ROUTES");let Yi=(()=>{class v{constructor(m,D){this.injector=m,this.compiler=D,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,ge.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const D=$e(m.loadComponent()).pipe((0,En.b)(O=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=O}),Nn(()=>{this.componentLoaders.delete(m)})),S=new _e(D,()=>new ye.x).pipe(he());return this.componentLoaders.set(m,S),S}loadChildren(m,D){if(this.childrenLoaders.get(D))return this.childrenLoaders.get(D);if(D._loadedRoutes)return(0,ge.of)({routes:D._loadedRoutes,injector:D._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(D);const O=this.loadModuleFactoryOrRoutes(D.loadChildren).pipe((0,Gt.U)(Y=>{this.onLoadEndListener&&this.onLoadEndListener(D);let xe,ft,St=!1;Array.isArray(Y)?ft=Y:(xe=Y.create(m).injector,ft=De(xe.get(Yo,[],b.XFs.Self|b.XFs.Optional)));return{routes:ft.map(Wt),injector:xe}}),Nn(()=>{this.childrenLoaders.delete(D)})),W=new _e(O,()=>new ye.x).pipe(he());return this.childrenLoaders.set(D,W),W}loadModuleFactoryOrRoutes(m){return $e(m()).pipe((0,Cn.z)(D=>D instanceof b.YKP||Array.isArray(D)?(0,ge.of)(D):(0,fe.D)(this.compiler.compileModuleAsync(D))))}}return v.\u0275fac=function(m){return new(m||v)(b.LFG(b.zs3),b.LFG(b.Sil))},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac}),v})();class Qo{}class Ta{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,m){return y}}function ao(v){throw v}function rn(v,y,m){return y.parse("/")}const zs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ya={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Yt(){const v=(0,b.f3M)(Dn),y=(0,b.f3M)(x),m=(0,b.f3M)(Ye.Ye),D=(0,b.f3M)(b.zs3),S=(0,b.f3M)(b.Sil),O=(0,b.f3M)(Yo,{optional:!0})??[],W=(0,b.f3M)(Zi,{optional:!0})??{},Y=(0,b.f3M)(ct),xe=(0,b.f3M)(Fe,{optional:!0}),ft=(0,b.f3M)(Qo,{optional:!0}),St=(0,b.f3M)(jr,{optional:!0}),It=new $r(null,v,y,m,D,S,De(O));return ft&&(It.urlHandlingStrategy=ft),St&&(It.routeReuseStrategy=St),It.titleStrategy=xe??Y,function lr(v,y){v.errorHandler&&(y.errorHandler=v.errorHandler),v.malformedUriErrorHandler&&(y.malformedUriErrorHandler=v.malformedUriErrorHandler),v.onSameUrlNavigation&&(y.onSameUrlNavigation=v.onSameUrlNavigation),v.paramsInheritanceStrategy&&(y.paramsInheritanceStrategy=v.paramsInheritanceStrategy),v.relativeLinkResolution&&(y.relativeLinkResolution=v.relativeLinkResolution),v.urlUpdateStrategy&&(y.urlUpdateStrategy=v.urlUpdateStrategy),v.canceledNavigationResolution&&(y.canceledNavigationResolution=v.canceledNavigationResolution)}(W,It),It}let $r=(()=>{class v{constructor(m,D,S,O,W,Y,xe){this.rootComponentType=m,this.urlSerializer=D,this.rootContexts=S,this.location=O,this.config=xe,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ye.x,this.errorHandler=ao,this.malformedUriErrorHandler=rn,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,ge.of)(void 0),this.urlHandlingStrategy=new Ta,this.routeReuseStrategy=new Ri,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=W.get(Yi),this.configLoader.onLoadEndListener=xn=>this.triggerEvent(new Js(xn)),this.configLoader.onLoadStartListener=xn=>this.triggerEvent(new rs(xn)),this.ngModule=W.get(b.h0i),this.console=W.get(b.c2e);const It=W.get(b.R0b);this.isNgZoneEnabled=It instanceof b.R0b&&b.R0b.isInAngularZone(),this.resetConfig(xe),this.currentUrlTree=function $t(){return new ne(new q([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=eo(this.currentUrlTree,this.rootComponentType),this.transitions=new le.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(m){const D=this.events;return m.pipe((0,yn.h)(S=>0!==S.id),(0,Gt.U)(S=>({...S,extractedUrl:this.urlHandlingStrategy.extract(S.rawUrl)})),it(S=>{let O=!1,W=!1;return(0,ge.of)(S).pipe((0,En.b)(Y=>{this.currentNavigation={id:Y.id,initialUrl:Y.rawUrl,extractedUrl:Y.extractedUrl,trigger:Y.source,extras:Y.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),it(Y=>{const xe=this.browserUrlTree.toString(),ft=!this.navigated||Y.extractedUrl.toString()!==xe||xe!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||ft)&&this.urlHandlingStrategy.shouldProcessUrl(Y.rawUrl))return Qa(Y.source)&&(this.browserUrlTree=Y.extractedUrl),(0,ge.of)(Y).pipe(it(It=>{const xn=this.transitions.getValue();return D.next(new ii(It.id,this.serializeUrl(It.extractedUrl),It.source,It.restoredState)),xn!==this.transitions.getValue()?Me.E:Promise.resolve(It)}),function qo(v,y,m,D){return it(S=>function Cr(v,y,m,D,S){return new ro(v,y,m,D,S).apply()}(v,y,m,S.extractedUrl,D).pipe((0,Gt.U)(O=>({...S,urlAfterRedirects:O}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,En.b)(It=>{this.currentNavigation={...this.currentNavigation,finalUrl:It.urlAfterRedirects},S.urlAfterRedirects=It.urlAfterRedirects}),function Yu(v,y,m,D,S,O){return(0,Cn.z)(W=>function Vi(v,y,m,D,S,O,W="emptyOnly",Y="legacy"){return new io(v,y,m,D,S,W,Y,O).recognize().pipe(it(xe=>null===xe?function qu(v){return new F.y(y=>y.error(v))}(new qa):(0,ge.of)(xe)))}(v,y,m,W.urlAfterRedirects,D.serialize(W.urlAfterRedirects),D,S,O).pipe((0,Gt.U)(Y=>({...W,targetSnapshot:Y}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,En.b)(It=>{if(S.targetSnapshot=It.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!It.extras.skipLocationChange){const ai=this.urlHandlingStrategy.merge(It.urlAfterRedirects,It.rawUrl);this.setBrowserUrl(ai,It)}this.browserUrlTree=It.urlAfterRedirects}const xn=new ns(It.id,this.serializeUrl(It.extractedUrl),this.serializeUrl(It.urlAfterRedirects),It.targetSnapshot);D.next(xn)}));if(ft&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:xn,extractedUrl:ai,source:Yr,restoredState:ks,extras:Gr}=Y,ho=new ii(xn,this.serializeUrl(ai),Yr,ks);D.next(ho);const ds=eo(ai,this.rootComponentType).snapshot;return S={...Y,targetSnapshot:ds,urlAfterRedirects:ai,extras:{...Gr,skipLocationChange:!1,replaceUrl:!1}},(0,ge.of)(S)}return this.rawUrlTree=Y.rawUrl,Y.resolve(null),Me.E}),(0,En.b)(Y=>{const xe=new Vo(Y.id,this.serializeUrl(Y.extractedUrl),this.serializeUrl(Y.urlAfterRedirects),Y.targetSnapshot);this.triggerEvent(xe)}),(0,Gt.U)(Y=>S={...Y,guards:Ha(Y.targetSnapshot,Y.currentSnapshot,this.rootContexts)}),function bo(v,y){return(0,Cn.z)(m=>{const{targetSnapshot:D,currentSnapshot:S,guards:{canActivateChecks:O,canDeactivateChecks:W}}=m;return 0===W.length&&0===O.length?(0,ge.of)({...m,guardsResult:!0}):function Fr(v,y,m,D){return(0,fe.D)(v).pipe((0,Cn.z)(S=>function bs(v,y,m,D,S){const O=y&&y.routeConfig?y.routeConfig.canDeactivate:null;if(!O||0===O.length)return(0,ge.of)(!0);const W=O.map(Y=>{const xe=gn(Y,y,S);return $e(function Gu(v){return v&&Ui(v.canDeactivate)}(xe)?xe.canDeactivate(v,y,m,D):xe(v,y,m,D)).pipe(zt())});return(0,ge.of)(W).pipe(Di())}(S.component,S.route,m,y,D)),zt(S=>!0!==S,!0))}(W,D,S,v).pipe((0,Cn.z)(Y=>Y&&function Wn(v){return"boolean"==typeof v}(Y)?function zu(v,y,m,D){return(0,fe.D)(y).pipe((0,Pn.b)(S=>Ve(function ma(v,y){return null!==v&&y&&y(new ga(v)),(0,ge.of)(!0)}(S.route.parent,D),function Co(v,y){return null!==v&&y&&y(new Bo(v)),(0,ge.of)(!0)}(S.route,D),function za(v,y,m){const D=y[y.length-1],O=y.slice(0,y.length-1).reverse().map(W=>function et(v){const y=v.routeConfig?v.routeConfig.canActivateChild:null;return y&&0!==y.length?{node:v,guards:y}:null}(W)).filter(W=>null!==W).map(W=>ze(()=>{const Y=W.guards.map(xe=>{const ft=gn(xe,W.node,m);return $e(function ll(v){return v&&Ui(v.canActivateChild)}(ft)?ft.canActivateChild(D,v):ft(D,v)).pipe(zt())});return(0,ge.of)(Y).pipe(Di())}));return(0,ge.of)(O).pipe(Di())}(v,S.path,m),function Ts(v,y,m){const D=y.routeConfig?y.routeConfig.canActivate:null;if(!D||0===D.length)return(0,ge.of)(!0);const S=D.map(O=>ze(()=>{const W=gn(O,y,m);return $e(function Wo(v){return v&&Ui(v.canActivate)}(W)?W.canActivate(y,v):W(y,v)).pipe(zt())}));return(0,ge.of)(S).pipe(Di())}(v,S.route,m))),zt(S=>!0!==S,!0))}(D,O,v,y):(0,ge.of)(Y)),(0,Gt.U)(Y=>({...m,guardsResult:Y})))})}(this.ngModule.injector,Y=>this.triggerEvent(Y)),(0,En.b)(Y=>{if(S.guardsResult=Y.guardsResult,Vr(Y.guardsResult))throw Wi(0,Y.guardsResult);const xe=new vs(Y.id,this.serializeUrl(Y.extractedUrl),this.serializeUrl(Y.urlAfterRedirects),Y.targetSnapshot,!!Y.guardsResult);this.triggerEvent(xe)}),(0,yn.h)(Y=>!!Y.guardsResult||(this.restoreHistory(Y),this.cancelNavigationTransition(Y,"",3),!1)),yt(Y=>{if(Y.guards.canActivateChecks.length)return(0,ge.of)(Y).pipe((0,En.b)(xe=>{const ft=new pa(xe.id,this.serializeUrl(xe.extractedUrl),this.serializeUrl(xe.urlAfterRedirects),xe.targetSnapshot);this.triggerEvent(ft)}),it(xe=>{let ft=!1;return(0,ge.of)(xe).pipe(function mr(v,y){return(0,Cn.z)(m=>{const{targetSnapshot:D,guards:{canActivateChecks:S}}=m;if(!S.length)return(0,ge.of)(m);let O=0;return(0,fe.D)(S).pipe((0,Pn.b)(W=>function oo(v,y,m,D){const S=v.routeConfig,O=v._resolve;return void 0!==S?.title&&!Ia(S)&&(O[ut]=S.title),function Kn(v,y,m,D){const S=function Ut(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}(v);if(0===S.length)return(0,ge.of)({});const O={};return(0,fe.D)(S).pipe((0,Cn.z)(W=>function Zt(v,y,m,D){const S=gn(v,y,D);return $e(S.resolve?S.resolve(y,m):S(y,m))}(v[W],y,m,D).pipe(zt(),(0,En.b)(Y=>{O[W]=Y}))),Un(1),function ni(v){return(0,Gt.U)(()=>v)}(O),$n(W=>W instanceof rt?Me.E:Ue(W)))}(O,v,y,D).pipe((0,Gt.U)(W=>(v._resolvedData=W,v.data=Is(v,m).resolve,S&&Ia(S)&&(v.data[ut]=S.title),null)))}(W.route,D,v,y)),(0,En.b)(()=>O++),Un(1),(0,Cn.z)(W=>O===S.length?(0,ge.of)(m):Me.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,En.b)({next:()=>ft=!0,complete:()=>{ft||(this.restoreHistory(xe),this.cancelNavigationTransition(xe,"",2))}}))}),(0,En.b)(xe=>{const ft=new Qs(xe.id,this.serializeUrl(xe.extractedUrl),this.serializeUrl(xe.urlAfterRedirects),xe.targetSnapshot);this.triggerEvent(ft)}))}),yt(Y=>{const xe=ft=>{const St=[];ft.routeConfig?.loadComponent&&!ft.routeConfig._loadedComponent&&St.push(this.configLoader.loadComponent(ft.routeConfig).pipe((0,En.b)(It=>{ft.component=It}),(0,Gt.U)(()=>{})));for(const It of ft.children)St.push(...xe(It));return St};return se(xe(Y.targetSnapshot.root)).pipe(Ft(),Nt(1))}),yt(()=>this.afterPreactivation()),(0,Gt.U)(Y=>{const xe=function Eo(v,y,m){const D=zn(v,y._root,m?m._root:void 0);return new ws(D,y)}(this.routeReuseStrategy,Y.targetSnapshot,Y.currentRouterState);return S={...Y,targetRouterState:xe}}),(0,En.b)(Y=>{this.currentUrlTree=Y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Y.urlAfterRedirects,Y.rawUrl),this.routerState=Y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Y),this.browserUrlTree=Y.urlAfterRedirects)}),((v,y,m)=>(0,Gt.U)(D=>(new Es(y,D.targetRouterState,D.currentRouterState,m).activate(v),D)))(this.rootContexts,this.routeReuseStrategy,Y=>this.triggerEvent(Y)),(0,En.b)({next(){O=!0},complete(){O=!0}}),Nn(()=>{O||W||this.cancelNavigationTransition(S,"",1),this.currentNavigation?.id===S.id&&(this.currentNavigation=null)}),$n(Y=>{if(W=!0,Bs(Y)){as(Y)||(this.navigated=!0,this.restoreHistory(S,!0));const xe=new Er(S.id,this.serializeUrl(S.extractedUrl),Y.message,Y.cancellationCode);if(D.next(xe),as(Y)){const ft=this.urlHandlingStrategy.merge(Y.url,this.rawUrlTree),St={skipLocationChange:S.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Qa(S.source)};this.scheduleNavigation(ft,"imperative",null,St,{resolve:S.resolve,reject:S.reject,promise:S.promise})}else S.resolve(!1)}else{this.restoreHistory(S,!0);const xe=new fi(S.id,this.serializeUrl(S.extractedUrl),Y,S.targetSnapshot??void 0);D.next(xe);try{S.resolve(this.errorHandler(Y))}catch(ft){S.reject(ft)}}return Me.E}))}))}resetRootComponentType(m){this.rootComponentType=m,this.routerState.root.component=this.rootComponentType}setTransition(m){this.transitions.next({...this.transitions.value,...m})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const D="popstate"===m.type?"popstate":"hashchange";"popstate"===D&&setTimeout(()=>{const S={replaceUrl:!0},O=m.state?.navigationId?m.state:null;if(O){const Y={...O};delete Y.navigationId,delete Y.\u0275routerPageId,0!==Object.keys(Y).length&&(S.state=Y)}const W=this.parseUrl(m.url);this.scheduleNavigation(W,D,O,S)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(m){this.events.next(m)}resetConfig(m){this.config=m.map(Wt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,D={}){const{relativeTo:S,queryParams:O,fragment:W,queryParamsHandling:Y,preserveFragment:xe}=D,ft=S||this.routerState.root,St=xe?this.currentUrlTree.fragment:W;let It=null;switch(Y){case"merge":It={...this.currentUrlTree.queryParams,...O};break;case"preserve":It=this.currentUrlTree.queryParams;break;default:It=O||null}return null!==It&&(It=this.removeEmptyProps(It)),Us(ft,this.currentUrlTree,m,It,St??null)}navigateByUrl(m,D={skipLocationChange:!1}){const S=Vr(m)?m:this.parseUrl(m),O=this.urlHandlingStrategy.merge(S,this.rawUrlTree);return this.scheduleNavigation(O,"imperative",null,D)}navigate(m,D={skipLocationChange:!1}){return function Tn(v){for(let y=0;y<v.length;y++){if(null==v[y])throw new b.vHH(4008,false)}}(m),this.navigateByUrl(this.createUrlTree(m,D),D)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let D;try{D=this.urlSerializer.parse(m)}catch(S){D=this.malformedUriErrorHandler(S,this.urlSerializer,m)}return D}isActive(m,D){let S;if(S=!0===D?{...zs}:!1===D?{...Ya}:D,Vr(m))return Vn(this.currentUrlTree,m,S);const O=this.parseUrl(m);return Vn(this.currentUrlTree,O,S)}removeEmptyProps(m){return Object.keys(m).reduce((D,S)=>{const O=m[S];return null!=O&&(D[S]=O),D},{})}processNavigations(){this.navigations.subscribe(m=>{this.navigated=!0,this.lastSuccessfulId=m.id,this.currentPageId=m.targetPageId,this.events.next(new Ir(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),m.resolve(!0)},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)})}scheduleNavigation(m,D,S,O,W){if(this.disposed)return Promise.resolve(!1);let Y,xe,ft;W?(Y=W.resolve,xe=W.reject,ft=W.promise):ft=new Promise((xn,ai)=>{Y=xn,xe=ai});const St=++this.navigationId;let It;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(S=this.location.getState()),It=S&&S.\u0275routerPageId?S.\u0275routerPageId:O.replaceUrl||O.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):It=0,this.setTransition({id:St,targetPageId:It,source:D,restoredState:S,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:m,extras:O,resolve:Y,reject:xe,promise:ft,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ft.catch(xn=>Promise.reject(xn))}setBrowserUrl(m,D){const S=this.urlSerializer.serialize(m),O={...D.extras.state,...this.generateNgRouterState(D.id,D.targetPageId)};this.location.isCurrentPathEqualTo(S)||D.extras.replaceUrl?this.location.replaceState(S,"",O):this.location.go(S,"",O)}restoreHistory(m,D=!1){if("computed"===this.canceledNavigationResolution){const S=this.currentPageId-m.targetPageId;"popstate"!==m.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===S?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===S&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(S)}else"replace"===this.canceledNavigationResolution&&(D&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(m,D,S){const O=new Er(m.id,this.serializeUrl(m.extractedUrl),D,S);this.triggerEvent(O),m.resolve(!1)}generateNgRouterState(m,D){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:D}:{navigationId:m}}}return v.\u0275fac=function(m){b.$Z()},v.\u0275prov=b.Yz7({token:v,factory:function(){return Yt()},providedIn:"root"}),v})();function Qa(v){return"imperative"!==v}let wn=(()=>{class v{constructor(m,D,S,O,W){this.router=m,this.route=D,this.tabIndexAttribute=S,this.renderer=O,this.el=W,this.commands=null,this.onChanges=new ye.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(m){if(null!=this.tabIndexAttribute)return;const D=this.renderer,S=this.el.nativeElement;null!==m?D.setAttribute(S,"tabindex",m):D.removeAttribute(S,"tabindex")}ngOnChanges(m){this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const m={skipLocationChange:(0,b.D6c)(this.skipLocationChange),replaceUrl:(0,b.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,b.D6c)(this.preserveFragment)})}}return v.\u0275fac=function(m){return new(m||v)(b.Y36($r),b.Y36(os),b.$8M("tabindex"),b.Y36(b.Qsj),b.Y36(b.SBq))},v.\u0275dir=b.lG2({type:v,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(m,D){1&m&&b.NdJ("click",function(){return D.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[b.TTD]}),v})();class As{}let xs=(()=>{class v{constructor(m,D,S,O,W){this.router=m,this.injector=S,this.preloadingStrategy=O,this.loader=W}setUpPreloading(){this.subscription=this.router.events.pipe((0,yn.h)(m=>m instanceof Ir),(0,Pn.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,D){const S=[];for(const O of D){O.providers&&!O._injector&&(O._injector=(0,b.MMx)(O.providers,m,`Route: ${O.path}`));const W=O._injector??m,Y=O._loadedInjector??W;O.loadChildren&&!O._loadedRoutes&&void 0===O.canLoad||O.loadComponent&&!O._loadedComponent?S.push(this.preloadConfig(W,O)):(O.children||O._loadedRoutes)&&S.push(this.processRoutes(Y,O.children??O._loadedRoutes))}return(0,fe.D)(S).pipe((0,ue.J)())}preloadConfig(m,D){return this.preloadingStrategy.preload(D,()=>{let S;S=D.loadChildren&&void 0===D.canLoad?this.loader.loadChildren(m,D):(0,ge.of)(null);const O=S.pipe((0,Cn.z)(W=>null===W?(0,ge.of)(void 0):(D._loadedRoutes=W.routes,D._loadedInjector=W.injector,this.processRoutes(W.injector??m,W.routes))));if(D.loadComponent&&!D._loadedComponent){const W=this.loader.loadComponent(D);return(0,fe.D)([O,W]).pipe((0,ue.J)())}return O})}}return v.\u0275fac=function(m){return new(m||v)(b.LFG($r),b.LFG(b.Sil),b.LFG(b.lqb),b.LFG(As),b.LFG(Yi))},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac}),v})();const ls=new b.OlP("");let co=(()=>{class v{constructor(m,D,S={}){this.router=m,this.viewportScroller=D,this.options=S,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},S.scrollPositionRestoration=S.scrollPositionRestoration||"disabled",S.anchorScrolling=S.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(m=>{m instanceof ii?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof Ir&&(this.lastId=m.id,this.scheduleScrollEvent(m,this.router.parseUrl(m.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(m=>{m instanceof $a&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,D){this.router.triggerEvent(new $a(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,D))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return v.\u0275fac=function(m){b.$Z()},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac}),v})();const Ms=new b.OlP("ROUTER_FORROOT_GUARD"),wu=new b.OlP(""),Ja=[Ye.Ye,{provide:Dn,useClass:ur},{provide:$r,useFactory:Yt},x,{provide:os,useFactory:function Fn(v){return v.routerState.root},deps:[$r]},Yi];function Iu(){return new b.PXZ("Router",$r)}let Pe=(()=>{class v{constructor(m){}static forRoot(m,D){return{ngModule:v,providers:[Ja,[],Qi(m),{provide:Ms,useFactory:Du,deps:[[$r,new b.FiY,new b.tp0]]},{provide:Zi,useValue:D||{}},D?.useHash?{provide:Ye.S$,useClass:Ye.Do}:{provide:Ye.S$,useClass:Ye.b0},{provide:ls,useFactory:()=>{const v=(0,b.f3M)($r),y=(0,b.f3M)(Ye.EM),m=(0,b.f3M)(Zi);return m.scrollOffset&&y.setOffset(m.scrollOffset),new co(v,y,m)}},D?.preloadingStrategy?Hr(D.preloadingStrategy):[],{provide:b.PXZ,multi:!0,useFactory:Iu},D?.initialNavigation?Ec(D):[],[{provide:Ns,useFactory:Xo},{provide:b.tb,multi:!0,useExisting:Ns}]]}}static forChild(m){return{ngModule:v,providers:[Qi(m)]}}}return v.\u0275fac=function(m){return new(m||v)(b.LFG(Ms,8))},v.\u0275mod=b.oAB({type:v}),v.\u0275inj=b.cJS({}),v})();function Du(v){return"guarded"}function Qi(v){return[{provide:Yo,multi:!0,useValue:v}]}function Xo(){const v=(0,b.f3M)(b.zs3);return y=>{const m=v.get(b.z2F);if(y!==m.components[0])return;const D=v.get($r),S=v.get(Ps);1===v.get(vi)&&D.initialNavigation(),v.get(wu,null,b.XFs.Optional)?.setUpPreloading(),v.get(ls,null,b.XFs.Optional)?.init(),D.resetRootComponentType(m.componentTypes[0]),S.next(),S.complete()}}const Ns=new b.OlP("");function Ec(v){return["disabled"===v.initialNavigation?[{provide:b.ip1,multi:!0,useFactory:()=>{const v=(0,b.f3M)($r);return()=>{v.setUpLocationChangeListener()}}},{provide:vi,useValue:2}]:[],"enabledBlocking"===v.initialNavigation?[{provide:vi,useValue:0},{provide:b.ip1,multi:!0,deps:[b.zs3],useFactory:v=>{const y=v.get(Ye.V_,Promise.resolve(null));let m=!1;return()=>y.then(()=>new Promise(S=>{const O=v.get($r),W=v.get(Ps);(function D(S){v.get($r).events.pipe((0,yn.h)(W=>W instanceof Ir||W instanceof Er||W instanceof fi),(0,Gt.U)(W=>W instanceof Ir||W instanceof Er&&(0===W.code||1===W.code)&&null),(0,yn.h)(W=>null!==W),Nt(1)).subscribe(()=>{S()})})(()=>{S(!0),m=!0}),O.afterPreactivation=()=>(S(!0),m||W.closed?(0,ge.of)(void 0):W),O.initialNavigation()}))}}]:[]]}const Ps=new b.OlP("",{factory:()=>new ye.x}),vi=new b.OlP("",{providedIn:"root",factory:()=>1});function Hr(v){return[xs,{provide:wu,useExisting:xs},{provide:As,useExisting:v}]}},9681:(qt,We,j)=>{j.d(We,{C6:()=>En,Jn:()=>Nn,KN:()=>sr,Mq:()=>Pn,Xd:()=>hn,ZF:()=>Cn,qX:()=>cn});var b=j(5861),F=j(4859),de=j(1877),fe=j(2090),Ie=j(8766);class tt{constructor(ne){this.container=ne}getPlatformInfoString(){return this.container.getProviders().map(q=>{if(function Ee(K){return"VERSION"===K.getComponent()?.type}(q)){const je=q.getImmediate();return`${je.library}/${je.version}`}return null}).filter(q=>q).join(" ")}}const ot="@firebase/app",ie=new de.Yd("@firebase/app"),yn="[DEFAULT]",Ft={[ot]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},sn=new Map,Ln=new Map;function zt(K,ne){try{K.container.addComponent(ne)}catch(q){ie.debug(`Component ${ne.name} failed to register with FirebaseApp ${K.name}`,q)}}function hn(K){const ne=K.name;if(Ln.has(ne))return ie.debug(`There were multiple attempts to register component ${ne}.`),!1;Ln.set(ne,K);for(const q of sn.values())zt(q,K);return!0}function cn(K,ne){const q=K.container.getProvider("heartbeat").getImmediate({optional:!0});return q&&q.triggerHeartbeat(),K.container.getProvider(ne)}const Gt=new fe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ni{constructor(ne,q,je){this._isDeleted=!1,this._options=Object.assign({},ne),this._config=Object.assign({},q),this._name=q.name,this._automaticDataCollectionEnabled=q.automaticDataCollectionEnabled,this._container=je,this.container.addComponent(new F.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ne){this._isDeleted=ne}checkDestroyed(){if(this.isDeleted)throw Gt.create("app-deleted",{appName:this._name})}}const Nn="9.9.2";function Cn(K,ne={}){"object"!=typeof ne&&(ne={name:ne});const q=Object.assign({name:yn,automaticDataCollectionEnabled:!1},ne),je=q.name;if("string"!=typeof je||!je)throw Gt.create("bad-app-name",{appName:String(je)});const pt=sn.get(je);if(pt){if((0,fe.vZ)(K,pt.options)&&(0,fe.vZ)(q,pt.config))return pt;throw Gt.create("duplicate-app",{appName:je})}const Ct=new F.H0(je);for(const Dn of Ln.values())Ct.addComponent(Dn);const _n=new ni(K,q,Ct);return sn.set(je,_n),_n}function Pn(K=yn){const ne=sn.get(K);if(!ne)throw Gt.create("no-app",{appName:K});return ne}function En(){return Array.from(sn.values())}function sr(K,ne,q){var je;let pt=null!==(je=Ft[K])&&void 0!==je?je:K;q&&(pt+=`-${q}`);const Ct=pt.match(/\s|\//),_n=ne.match(/\s|\//);if(Ct||_n){const Dn=[`Unable to register library "${pt}" with version "${ne}":`];return Ct&&Dn.push(`library name "${pt}" contains illegal characters (whitespace or "/")`),Ct&&_n&&Dn.push("and"),_n&&Dn.push(`version name "${ne}" contains illegal characters (whitespace or "/")`),void ie.warn(Dn.join(" "))}hn(new F.wA(`${pt}-version`,()=>({library:pt,version:ne}),"VERSION"))}const br="firebase-heartbeat-store";let De=null;function X(){return De||(De=(0,Ie.X3)("firebase-heartbeat-database",1,{upgrade:(K,ne)=>{0===ne&&K.createObjectStore(br)}}).catch(K=>{throw Gt.create("idb-open",{originalErrorMessage:K.message})})),De}function be(){return(be=(0,b.Z)(function*(K){var ne;try{return(yield X()).transaction(br).objectStore(br).get($t(K))}catch(q){if(q instanceof fe.ZR)ie.warn(q.message);else{const je=Gt.create("idb-get",{originalErrorMessage:null===(ne=q)||void 0===ne?void 0:ne.message});ie.warn(je.message)}}})).apply(this,arguments)}function $e(K,ne){return wt.apply(this,arguments)}function wt(){return(wt=(0,b.Z)(function*(K,ne){var q;try{const pt=(yield X()).transaction(br,"readwrite");return yield pt.objectStore(br).put(ne,$t(K)),pt.done}catch(je){if(je instanceof fe.ZR)ie.warn(je.message);else{const pt=Gt.create("idb-set",{originalErrorMessage:null===(q=je)||void 0===q?void 0:q.message});ie.warn(pt.message)}}})).apply(this,arguments)}function $t(K){return`${K.name}!${K.options.appId}`}class Vn{constructor(ne){this.container=ne,this._heartbeatsCache=null;const q=this.container.getProvider("app").getImmediate();this._storage=new Ht(q),this._heartbeatsCachePromise=this._storage.read().then(je=>(this._heartbeatsCache=je,je))}triggerHeartbeat(){var ne=this;return(0,b.Z)(function*(){const je=ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),pt=nn();if(null===ne._heartbeatsCache&&(ne._heartbeatsCache=yield ne._heartbeatsCachePromise),ne._heartbeatsCache.lastSentHeartbeatDate!==pt&&!ne._heartbeatsCache.heartbeats.some(Ct=>Ct.date===pt))return ne._heartbeatsCache.heartbeats.push({date:pt,agent:je}),ne._heartbeatsCache.heartbeats=ne._heartbeatsCache.heartbeats.filter(Ct=>{const _n=new Date(Ct.date).valueOf();return Date.now()-_n<=2592e6}),ne._storage.overwrite(ne._heartbeatsCache)})()}getHeartbeatsHeader(){var ne=this;return(0,b.Z)(function*(){if(null===ne._heartbeatsCache&&(yield ne._heartbeatsCachePromise),null===ne._heartbeatsCache||0===ne._heartbeatsCache.heartbeats.length)return"";const q=nn(),{heartbeatsToSend:je,unsentEntries:pt}=function Vt(K,ne=1024){const q=[];let je=K.slice();for(const pt of K){const Ct=q.find(_n=>_n.agent===pt.agent);if(Ct){if(Ct.dates.push(pt.date),re(q)>ne){Ct.dates.pop();break}}else if(q.push({agent:pt.agent,dates:[pt.date]}),re(q)>ne){q.pop();break}je=je.slice(1)}return{heartbeatsToSend:q,unsentEntries:je}}(ne._heartbeatsCache.heartbeats),Ct=(0,fe.L)(JSON.stringify({version:2,heartbeats:je}));return ne._heartbeatsCache.lastSentHeartbeatDate=q,pt.length>0?(ne._heartbeatsCache.heartbeats=pt,yield ne._storage.overwrite(ne._heartbeatsCache)):(ne._heartbeatsCache.heartbeats=[],ne._storage.overwrite(ne._heartbeatsCache)),Ct})()}}function nn(){return(new Date).toISOString().substring(0,10)}class Ht{constructor(ne){this.app=ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,fe.hl)()&&(0,fe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ne=this;return(0,b.Z)(function*(){return(yield ne._canUseIndexedDBPromise)&&(yield function Q(K){return be.apply(this,arguments)}(ne.app))||{heartbeats:[]}})()}overwrite(ne){var q=this;return(0,b.Z)(function*(){var je;if(yield q._canUseIndexedDBPromise){const Ct=yield q.read();return $e(q.app,{lastSentHeartbeatDate:null!==(je=ne.lastSentHeartbeatDate)&&void 0!==je?je:Ct.lastSentHeartbeatDate,heartbeats:ne.heartbeats})}})()}add(ne){var q=this;return(0,b.Z)(function*(){var je;if(yield q._canUseIndexedDBPromise){const Ct=yield q.read();return $e(q.app,{lastSentHeartbeatDate:null!==(je=ne.lastSentHeartbeatDate)&&void 0!==je?je:Ct.lastSentHeartbeatDate,heartbeats:[...Ct.heartbeats,...ne.heartbeats]})}})()}}function re(K){return(0,fe.L)(JSON.stringify({version:2,heartbeats:K})).length}!function J(K){hn(new F.wA("platform-logger",ne=>new tt(ne),"PRIVATE")),hn(new F.wA("heartbeat",ne=>new Vn(ne),"PRIVATE")),sr(ot,"0.7.30",K),sr(ot,"0.7.30","esm2017"),sr("fire-js","")}("")},4859:(qt,We,j)=>{j.d(We,{H0:()=>ot,wA:()=>de});var b=j(5861),F=j(2090);class de{constructor(ie,se,Oe){this.name=ie,this.instanceFactory=se,this.type=Oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ie){return this.instantiationMode=ie,this}setMultipleInstances(ie){return this.multipleInstances=ie,this}setServiceProps(ie){return this.serviceProps=ie,this}setInstanceCreatedCallback(ie){return this.onInstanceCreated=ie,this}}const fe="[DEFAULT]";class Ie{constructor(ie,se){this.name=ie,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ie){const se=this.normalizeInstanceIdentifier(ie);if(!this.instancesDeferred.has(se)){const Oe=new F.BH;if(this.instancesDeferred.set(se,Oe),this.isInitialized(se)||this.shouldAutoInitialize())try{const Ze=this.getOrInitializeService({instanceIdentifier:se});Ze&&Oe.resolve(Ze)}catch{}}return this.instancesDeferred.get(se).promise}getImmediate(ie){var se;const Oe=this.normalizeInstanceIdentifier(ie?.identifier),Ze=null!==(se=ie?.optional)&&void 0!==se&&se;if(!this.isInitialized(Oe)&&!this.shouldAutoInitialize()){if(Ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Oe})}catch(ue){if(Ze)return null;throw ue}}getComponent(){return this.component}setComponent(ie){if(ie.name!==this.name)throw Error(`Mismatching Component ${ie.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ie,this.shouldAutoInitialize()){if(function Ee(He){return"EAGER"===He.instantiationMode}(ie))try{this.getOrInitializeService({instanceIdentifier:fe})}catch{}for(const[se,Oe]of this.instancesDeferred.entries()){const Ze=this.normalizeInstanceIdentifier(se);try{const ue=this.getOrInitializeService({instanceIdentifier:Ze});Oe.resolve(ue)}catch{}}}}clearInstance(ie=fe){this.instancesDeferred.delete(ie),this.instancesOptions.delete(ie),this.instances.delete(ie)}delete(){var ie=this;return(0,b.Z)(function*(){const se=Array.from(ie.instances.values());yield Promise.all([...se.filter(Oe=>"INTERNAL"in Oe).map(Oe=>Oe.INTERNAL.delete()),...se.filter(Oe=>"_delete"in Oe).map(Oe=>Oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ie=fe){return this.instances.has(ie)}getOptions(ie=fe){return this.instancesOptions.get(ie)||{}}initialize(ie={}){const{options:se={}}=ie,Oe=this.normalizeInstanceIdentifier(ie.instanceIdentifier);if(this.isInitialized(Oe))throw Error(`${this.name}(${Oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ze=this.getOrInitializeService({instanceIdentifier:Oe,options:se});for(const[ue,gt]of this.instancesDeferred.entries())Oe===this.normalizeInstanceIdentifier(ue)&&gt.resolve(Ze);return Ze}onInit(ie,se){var Oe;const Ze=this.normalizeInstanceIdentifier(se),ue=null!==(Oe=this.onInitCallbacks.get(Ze))&&void 0!==Oe?Oe:new Set;ue.add(ie),this.onInitCallbacks.set(Ze,ue);const gt=this.instances.get(Ze);return gt&&ie(gt,Ze),()=>{ue.delete(ie)}}invokeOnInitCallbacks(ie,se){const Oe=this.onInitCallbacks.get(se);if(Oe)for(const Ze of Oe)try{Ze(ie,se)}catch{}}getOrInitializeService({instanceIdentifier:ie,options:se={}}){let Oe=this.instances.get(ie);if(!Oe&&this.component&&(Oe=this.component.instanceFactory(this.container,{instanceIdentifier:(He=ie,He===fe?void 0:He),options:se}),this.instances.set(ie,Oe),this.instancesOptions.set(ie,se),this.invokeOnInitCallbacks(Oe,ie),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ie,Oe)}catch{}var He;return Oe||null}normalizeInstanceIdentifier(ie=fe){return this.component?this.component.multipleInstances?ie:fe:ie}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ot{constructor(ie){this.name=ie,this.providers=new Map}addComponent(ie){const se=this.getProvider(ie.name);if(se.isComponentSet())throw new Error(`Component ${ie.name} has already been registered with ${this.name}`);se.setComponent(ie)}addOrOverwriteComponent(ie){this.getProvider(ie.name).isComponentSet()&&this.providers.delete(ie.name),this.addComponent(ie)}getProvider(ie){if(this.providers.has(ie))return this.providers.get(ie);const se=new Ie(ie,this);return this.providers.set(ie,se),se}getProviders(){return Array.from(this.providers.values())}}},1877:(qt,We,j)=>{j.d(We,{Yd:()=>Ee,in:()=>F});const b=[];var F=(()=>{return(ie=F||(F={}))[ie.DEBUG=0]="DEBUG",ie[ie.VERBOSE=1]="VERBOSE",ie[ie.INFO=2]="INFO",ie[ie.WARN=3]="WARN",ie[ie.ERROR=4]="ERROR",ie[ie.SILENT=5]="SILENT",F;var ie})();const de={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},fe=F.INFO,Ie={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},tt=(ie,se,...Oe)=>{if(se<ie.logLevel)return;const Ze=(new Date).toISOString(),ue=Ie[se];if(!ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[ue](`[${Ze}]  ${ie.name}:`,...Oe)};class Ee{constructor(se){this.name=se,this._logLevel=fe,this._logHandler=tt,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in F))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?de[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...se),this._logHandler(this,F.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...se),this._logHandler(this,F.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,F.INFO,...se),this._logHandler(this,F.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,F.WARN,...se),this._logHandler(this,F.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...se),this._logHandler(this,F.ERROR,...se)}}},8766:(qt,We,j)=>{j.d(We,{Lj:()=>Be,X3:()=>Ue});var b=j(5861);let de,fe;const Ee=new WeakMap,ot=new WeakMap,He=new WeakMap,ie=new WeakMap,se=new WeakMap;let ue={get(_e,ge,le){if(_e instanceof IDBTransaction){if("done"===ge)return ot.get(_e);if("objectStoreNames"===ge)return _e.objectStoreNames||He.get(_e);if("store"===ge)return le.objectStoreNames[1]?void 0:le.objectStore(le.objectStoreNames[0])}return ze(_e[ge])},set:(_e,ge,le)=>(_e[ge]=le,!0),has:(_e,ge)=>_e instanceof IDBTransaction&&("done"===ge||"store"===ge)||ge in _e};function Rt(_e){return"function"==typeof _e?function Ve(_e){return _e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function tt(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_e)?function(...ge){return _e.apply(xt(this),ge),ze(Ee.get(this))}:function(...ge){return ze(_e.apply(xt(this),ge))}:function(ge,...le){const ve=_e.call(xt(this),ge,...le);return He.set(ve,ge.sort?ge.sort():[ge]),ze(ve)}}(_e):(_e instanceof IDBTransaction&&function Ze(_e){if(ot.has(_e))return;const ge=new Promise((le,ve)=>{const Me=()=>{_e.removeEventListener("complete",ye),_e.removeEventListener("error",Ye),_e.removeEventListener("abort",Ye)},ye=()=>{le(),Me()},Ye=()=>{ve(_e.error||new DOMException("AbortError","AbortError")),Me()};_e.addEventListener("complete",ye),_e.addEventListener("error",Ye),_e.addEventListener("abort",Ye)});ot.set(_e,ge)}(_e),((_e,ge)=>ge.some(le=>_e instanceof le))(_e,function Ie(){return de||(de=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_e,ue):_e)}function ze(_e){if(_e instanceof IDBRequest)return function Oe(_e){const ge=new Promise((le,ve)=>{const Me=()=>{_e.removeEventListener("success",ye),_e.removeEventListener("error",Ye)},ye=()=>{le(ze(_e.result)),Me()},Ye=()=>{ve(_e.error),Me()};_e.addEventListener("success",ye),_e.addEventListener("error",Ye)});return ge.then(le=>{le instanceof IDBCursor&&Ee.set(le,_e)}).catch(()=>{}),se.set(ge,_e),ge}(_e);if(ie.has(_e))return ie.get(_e);const ge=Rt(_e);return ge!==_e&&(ie.set(_e,ge),se.set(ge,_e)),ge}const xt=_e=>se.get(_e);function Ue(_e,ge,{blocked:le,upgrade:ve,blocking:Me,terminated:ye}={}){const Ye=indexedDB.open(_e,ge),it=ze(Ye);return ve&&Ye.addEventListener("upgradeneeded",Nt=>{ve(ze(Ye.result),Nt.oldVersion,Nt.newVersion,ze(Ye.transaction))}),le&&Ye.addEventListener("blocked",()=>le()),it.then(Nt=>{ye&&Nt.addEventListener("close",()=>ye()),Me&&Nt.addEventListener("versionchange",()=>Me())}).catch(()=>{}),it}function Be(_e,{blocked:ge}={}){const le=indexedDB.deleteDatabase(_e);return ge&&le.addEventListener("blocked",()=>ge()),ze(le).then(()=>{})}const rt=["get","getKey","getAll","getAllKeys","count"],Ne=["put","add","delete","clear"],mt=new Map;function he(_e,ge){if(!(_e instanceof IDBDatabase)||ge in _e||"string"!=typeof ge)return;if(mt.get(ge))return mt.get(ge);const le=ge.replace(/FromIndex$/,""),ve=ge!==le,Me=Ne.includes(le);if(!(le in(ve?IDBIndex:IDBObjectStore).prototype)||!Me&&!rt.includes(le))return;const ye=function(){var Ye=(0,b.Z)(function*(it,...Nt){const Xt=this.transaction(it,Me?"readwrite":"readonly");let yn=Xt.store;return ve&&(yn=yn.index(Nt.shift())),(yield Promise.all([yn[le](...Nt),Me&&Xt.done]))[0]});return function(Nt){return Ye.apply(this,arguments)}}();return mt.set(ge,ye),ye}!function gt(_e){ue=_e(ue)}(_e=>({..._e,get:(ge,le,ve)=>he(ge,le)||_e.get(ge,le,ve),has:(ge,le)=>!!he(ge,le)||_e.has(ge,le)}))},5861:(qt,We,j)=>{function b(de,fe,Ie,tt,Ee,ot,He){try{var ie=de[ot](He),se=ie.value}catch(Oe){return void Ie(Oe)}ie.done?fe(se):Promise.resolve(se).then(tt,Ee)}function F(de){return function(){var fe=this,Ie=arguments;return new Promise(function(tt,Ee){var ot=de.apply(fe,Ie);function He(se){b(ot,tt,Ee,He,ie,"next",se)}function ie(se){b(ot,tt,Ee,He,ie,"throw",se)}He(void 0)})}}j.d(We,{Z:()=>F})}},qt=>{qt(qt.s=3174)}]);